/*! MathLib v0.6.1 MathLib.de | MathLib.de/en/license */module("MathLib"),test("general",1,function(){equal(typeof MathLib,"object","is MathLib defined")}),test(".compare()",3,function(){equal(MathLib.compare(12,12),0),equal(MathLib.compare(1,2),-1),equal(MathLib.compare(23,new MathLib.Complex([3,4])),1)}),test(".extendObject()",1,function(){var dest={a:"a",b:"b",c:{d:"cd",e:"ce"},f:{g:"fg",h:"fh"},m:{n:"mn",o:{p:"mop",q:"moq"}}},src={a:"a_",c:{d:"cd_"},f:"f_",m:{n:"mn_",o:{p:"mop_"}}},res={a:"a_",b:"b",c:{d:"cd_",e:"ce"},f:"f_",m:{n:"mn_",o:{p:"mop_",q:"moq"}}};deepEqual(MathLib.extendObject(dest,src),res)}),test(".is()",12,function(){var p=new MathLib.Point([1,2,3]),v=new MathLib.Vector([1,2,3]);equal(MathLib.is(2,"number"),!0),equal(MathLib.is(p,"point"),!0),equal(MathLib.is(p,"vector"),!0),equal(MathLib.is(p,"object"),!0),equal(MathLib.is(p,"line"),!1),equal(MathLib.is(v,"vector"),!0),equal(MathLib.is(v,"point"),!1),equal(MathLib.is([],"array"),!0),equal(MathLib.is(function(){},"function"),!0),equal(MathLib.is(MathLib.sin,"functn"),!0),equal(MathLib.is(null,"null"),!0),equal(MathLib.is(void 0,"undefined"),!0)}),test(".isNative()",2,function(){Math.isNativeCheck=function(){return 42},equal(MathLib.isNative(Math.sin),Math.sin,"isNative of native method"),equal(MathLib.isNative(Math.isNativeCheck),!1,"isNative of non native method"),delete Math.isNativeCheck}),test(".off()",1,function(){var i=0,callback=function(){i++};MathLib.on("error",callback),MathLib.on("warning",callback),MathLib.off("error",callback),MathLib.off("warning",callback),MathLib.error({}),MathLib.warning({}),equal(i,0,"check if callbacks are unbound")}),test(".on()",1,function(){var i=0,callback=function(){i++};MathLib.on("error",callback),MathLib.on("warning",callback),MathLib.error({}),MathLib.warning({}),equal(i,2,"check if callbacks are getting called"),MathLib.off("error",callback),MathLib.off("warning",callback)}),test(".type()",10,function(){equal(MathLib.type(new MathLib.Complex([2,3])),"complex",'MathLib.type(MathLib.complex([2, 3])) = "complex"'),equal(MathLib.type(42),"number",'MathLib.type(42) = "number"'),equal(MathLib.type(["ar","ray"]),"array",'MathLib.type([1,2]) = "array"'),equal(MathLib.type({ob:"ject"}),"object",'MathLib.type({obj: 42}) = "object"'),equal(MathLib.type(!0),"boolean",'MathLib.type(true) = "boolean"'),equal(MathLib.type("string"),"string",'MathLib.type("str") = "string"'),equal(MathLib.type(function(){}),"function",'MathLib.type(function(){}) = "function"'),equal(MathLib.type(/regexp/),"regexp",'MathLib.type(/regexp/) = "regexp"'),equal(MathLib.type(void 0),"undefined",'MathLib.type(undefined) = "undefined"'),equal(MathLib.type(null),"null",'MathLib.type(null) = "null"')}),module("Circle"),test("init",2,function(){var p=new MathLib.Point(1,2),circle=new MathLib.Circle(p,2);equal(circle.radius,2,"Testing the radius"),deepEqual(circle.center,p,"Testing the center")}),test(".constructor",1,function(){var c=new MathLib.Circle(new MathLib.Point([2,4,2]),2);equal(c.constructor,MathLib.Circle,"Testing .constructor")}),test(".type",1,function(){var c=new MathLib.Circle(new MathLib.Point([2,4,2]),2);equal(c.type,"circle","Testing .type")}),test(".area()",5,function(){var p=new MathLib.Point(1,2),c1=new MathLib.Circle(p,0/0),c2=new MathLib.Circle(p,0),c3=new MathLib.Circle(p,-0),c4=new MathLib.Circle(p,1/0),c5=new MathLib.Circle(p,2);equal(MathLib.isNaN(c1.area()),!0,"Spec. 1: c.area() = NaN if r = NaN"),equal(MathLib.isPosZero(c2.area()),!0,"Spec. 2: c.area() = +0 if r = +0"),equal(MathLib.isPosZero(c3.area()),!0,"Spec. 3: c.area() = -0 if r = +0"),equal(c4.area(),1/0,"Spec. 4: c.area() = ∞ if r = ∞"),equal(c5.area(),4*MathLib.pi,"Spec. 5: otherwise c.area() = π * r * r")}),test(".circumference()",5,function(){var p=new MathLib.Point(1,2),c1=new MathLib.Circle(p,0/0),c2=new MathLib.Circle(p,0),c3=new MathLib.Circle(p,-0),c4=new MathLib.Circle(p,1/0),c5=new MathLib.Circle(p,2);equal(MathLib.isNaN(c1.circumference()),!0,"Spec. 1: c.circumference() = NaN if r = NaN"),equal(MathLib.isPosZero(c2.circumference()),!0,"Spec. 2: c.circumference() = +0 if r = +0"),equal(MathLib.isNegZero(c3.circumference()),!0,"Spec. 3: c.circumference() = -0 if r = -0"),equal(c4.circumference(),1/0,"Spec. 4: c.circumference() = ∞ if r = ∞"),equal(c5.circumference(),4*MathLib.pi,"Spec. 5: otherwise c.circumference() = 2 π r")}),test(".compare()",3,function(){var c1=new MathLib.Circle(new MathLib.Point(1,2),3),c2=new MathLib.Circle(new MathLib.Point(1,2),3),c3=new MathLib.Circle(new MathLib.Point(1,2),2),c4=new MathLib.Circle(new MathLib.Point(2,2),3);equal(c1.compare(c2),0,".compare()"),equal(c1.compare(c3),1,".compare()"),equal(c1.compare(c4),-1,".compare()")}),test(".isEqual()",3,function(){var c1=new MathLib.Circle(new MathLib.Point(1,2),2),c2=new MathLib.Circle(new MathLib.Point(1,2),3),c3=new MathLib.Circle(new MathLib.Point([2,4,2]),2),c4=new MathLib.Circle(new MathLib.Point(2,3),2);equal(c1.isEqual(c3),!0,".isEqual()"),equal(c1.isEqual(c2),!1,".isEqual() different radius"),equal(c1.isEqual(c4),!1,".isEqual() different center")}),test(".positionOf()",3,function(){var center=new MathLib.Point(1,2),circle=new MathLib.Circle(center,2),on=new MathLib.Point(1,4),out=new MathLib.Point(2,4),inside=new MathLib.Point(2,3);equal(circle.positionOf(on),"on","Point on the circle"),equal(circle.positionOf(out),"out","Point outside the circle"),equal(circle.positionOf(inside),"in","Point inside the circle")}),test(".reflectAt()",2,function(){var p=new MathLib.Point(1,2),q=new MathLib.Point(3,7),circle=new MathLib.Circle(p,2),newcircle=circle.reflectAt(q);equal(newcircle.radius,2,"Checking the radius."),deepEqual(newcircle.center,new MathLib.Point(5,12),"Checking the center.")}),test(".toLaTeX()",1,function(){var p=new MathLib.Point(1,2),c=new MathLib.Circle(p,2);equal(c.toLaTeX(),"B_{2}\\left(\\begin{pmatrix}1\\\\2\\end{pmatrix}\\right)","Spec. 1: ")}),test(".toMatrix()",1,function(){var p=new MathLib.Point(1,2),c=new MathLib.Circle(p,2);deepEqual(c.toMatrix(),new MathLib.Matrix([[1,0,-1],[0,1,-2],[-1,-2,1]]),"")}),module("Complex"),test("init (1 Number)",2,function(){var c=new MathLib.Complex(3);equal(c.re,3,"Testing the real part"),equal(c.im,0,"Testing the imaginary part")}),test("init (2 Numbers)",10,function(){var c1=new MathLib.Complex(1/0,2),c2=new MathLib.Complex(-1/0,2),c3=new MathLib.Complex(0/0,2),c4=new MathLib.Complex(2,0/0),c5=new MathLib.Complex(1,2);equal(c1.re,1/0,"Testing the real part"),equal(c1.im,1/0,"Testing the imaginary part"),equal(c2.re,1/0,"Testing the real part"),equal(c2.im,1/0,"Testing the imaginary part"),ok(MathLib.isNaN(c3.re),"Testing the real part"),ok(MathLib.isNaN(c3.im),"Testing the imaginary part"),ok(MathLib.isNaN(c4.re),"Testing the real part"),ok(MathLib.isNaN(c4.im),"Testing the imaginary part"),equal(c5.re,1,"Testing the real part"),equal(c5.im,2,"Testing the imaginary part")}),test(".constructor",1,function(){var c=new MathLib.Complex(3,4);equal(c.constructor,MathLib.Complex,"Testing .constructor")}),test(".type",1,function(){var c=new MathLib.Complex(3,4);equal(c.type,"complex","Testing .type")}),test(".abs()",4,function(){ok(MathLib.isNaN(new MathLib.Complex(0/0).abs())),equal(new MathLib.Complex(1/0).abs(),1/0),ok(MathLib.isEqual(new MathLib.Complex(0,0).abs(),0),"Absolut value of a complex number"),ok(MathLib.isEqual(new MathLib.Complex(3,4).abs(),5),"Absolut value of a complex number")}),test(".arccos()",26,function(){var n2p0=new MathLib.Complex(-2,0).arccos(),n2n0=new MathLib.Complex(-2,-0).arccos(),n1p0=new MathLib.Complex(-1,0).arccos(),n1n0=new MathLib.Complex(-1,-0).arccos(),p0p0=new MathLib.Complex(0,0).arccos(),p0n0=new MathLib.Complex(0,-0).arccos(),n0p0=new MathLib.Complex(-0,0).arccos(),n0n0=new MathLib.Complex(-0,-0).arccos(),p1p0=new MathLib.Complex(1,0).arccos(),p1n0=new MathLib.Complex(1,-0).arccos(),p2p0=new MathLib.Complex(2,0).arccos(),p2n0=new MathLib.Complex(2,-0).arccos();ok(MathLib.isNaN(new MathLib.Complex(0/0).arccos().re)),equal(new MathLib.Complex(1/0).arccos().re,1/0),ok(MathLib.isEqual(n2p0,new MathLib.Complex(Math.PI,-1.3169578969248168))),ok(MathLib.isEqual(n2n0,new MathLib.Complex(Math.PI,1.3169578969248168))),ok(MathLib.isEqual(n1p0.re,Math.PI)),ok(MathLib.isNegZero(n1p0.im)),ok(MathLib.isEqual(n1n0.re,Math.PI)),ok(MathLib.isPosZero(n1n0.im)),ok(MathLib.isEqual(p0p0.re,1.5707963267948966)),ok(MathLib.isNegZero(p0p0.im)),ok(MathLib.isEqual(p0n0.re,1.5707963267948966)),ok(MathLib.isPosZero(p0n0.im)),ok(MathLib.isEqual(n0p0.re,1.5707963267948966)),ok(MathLib.isNegZero(n0p0.im)),ok(MathLib.isEqual(n0n0.re,1.5707963267948966)),ok(MathLib.isPosZero(n0n0.im)),ok(MathLib.isPosZero(p1p0.re)),ok(MathLib.isNegZero(p1p0.im)),ok(MathLib.isPosZero(p1n0.re)),ok(MathLib.isPosZero(p1n0.im)),ok(MathLib.isPosZero(p2p0.re)),ok(MathLib.isEqual(p2p0.im,-1.3169578969248168)),ok(MathLib.isPosZero(p2n0.re)),ok(MathLib.isEqual(p2n0.im,1.3169578969248168)),ok(MathLib.isEqual(new MathLib.Complex(1,2).arccos(),new MathLib.Complex(1.1437177404024206,-1.5285709194809982))),ok(MathLib.isEqual(new MathLib.Complex(-3,4).arccos(),new MathLib.Complex(2.2047801924340735,-2.305509031243477)))}),test(".arccot()",25,function(){var p0n2=new MathLib.Complex(0,-2).arccot(),n0n2=new MathLib.Complex(-0,-2).arccot(),p0n1=new MathLib.Complex(0,-1).arccot(),n0n1=new MathLib.Complex(-0,-1).arccot(),p0p0=(new MathLib.Complex(0,-.5).arccot(),new MathLib.Complex(-0,-.5).arccot(),new MathLib.Complex(0,0).arccot()),p0n0=new MathLib.Complex(0,-0).arccot(),n0p0=new MathLib.Complex(-0,0).arccot(),n0n0=new MathLib.Complex(-0,-0).arccot(),p0p1=(new MathLib.Complex(0,.5).arccot(),new MathLib.Complex(-0,.5).arccot(),new MathLib.Complex(0,1).arccot()),n0p1=new MathLib.Complex(-0,1).arccot(),p0p2=new MathLib.Complex(0,2).arccot(),n0p2=new MathLib.Complex(-0,2).arccot();ok(MathLib.isNaN(new MathLib.Complex(0/0).arccot().re)),equal(new MathLib.Complex(1/0).arccot().re,0),equal(new MathLib.Complex(1/0).arccot().im,0),ok(MathLib.isPosZero(p0n2.re),"(+0 -2i).arccot().re = +0"),equal(p0n2.im,.5493061443340549,"(+0 -2i).arccot().im = 0.54930614433405484570"),ok(MathLib.isNegZero(n0n2.re),"(-0 -2i).arccot().re = -0"),equal(n0n2.im,.5493061443340549,"(-0 -2i).arccot().im = 0.54930614433405484570"),equal(p0n1.re,1/0,"(+0 -1i).arccot().re = ComplexInfinity"),equal(n0n1.re,1/0,"(-0 -1i).arccot().re = ComplexInfinity"),equal(p0p0.re,Math.PI/2,"(+0 +0i).arccot().re = +&pi;/2"),ok(MathLib.isNegZero(p0p0.im),"(+0 +0i).arccot().im = -0"),equal(p0n0.re,Math.PI/2,"(+0 -0i).arccot().re = +&pi;/2"),ok(MathLib.isPosZero(p0n0.im),"(+0 -0i).arccot().im = +0"),equal(n0p0.re,-Math.PI/2,"(-0 +0i).arccot().re = -&pi;/2"),ok(MathLib.isNegZero(n0p0.im),"(-0 +0i).arccot().im = -0"),equal(n0n0.re,-Math.PI/2,"(-0 -0i).arccot().re = -&pi;/2"),ok(MathLib.isPosZero(n0n0.im),"(-0 -0i).arccot().im = +0"),equal(p0p1.re,1/0,"(+0 +1i).arccot().re = ComplexInfinity"),equal(n0p1.re,1/0,"(-0 +1i).arccot().re = ComplexInfinity"),ok(MathLib.isPosZero(p0p2.re),"(+0 +2i).arccot().re = +0"),equal(p0p2.im,-.5493061443340549,"(+0 +2i).arccot().im = -0.54930614433405484570"),ok(MathLib.isNegZero(n0p2.re),"(-0 +2i).arccot().re = -0"),equal(n0p2.im,-.5493061443340549,"(-0 +2i).arccot().im = -0.54930614433405484570"),ok(MathLib.isEqual(new MathLib.Complex(1,2).arccot(),new MathLib.Complex(.23182380450040305,-.40235947810852507))),ok(MathLib.isEqual(new MathLib.Complex(-3,4).arccot(),new MathLib.Complex(-.12248933156343207,-.15899719167999918)))}),test(".arccsc()",17,function(){var n1p0=new MathLib.Complex(-1,0).arccsc(),n1n0=new MathLib.Complex(-1,-0).arccsc(),p0p0=new MathLib.Complex(0,0).arccsc(),p0n0=new MathLib.Complex(0,-0).arccsc(),n0p0=new MathLib.Complex(-0,0).arccsc(),n0n0=new MathLib.Complex(-0,-0).arccsc(),p1p0=new MathLib.Complex(1,0).arccsc(),p1n0=new MathLib.Complex(1,-0).arccsc();ok(MathLib.isNaN(new MathLib.Complex(0/0).arccsc().re)),ok(MathLib.isPosZero(new MathLib.Complex(1/0).arccsc().re)),ok(MathLib.isPosZero(new MathLib.Complex(1/0).arccsc().im)),ok(MathLib.isEqual(n1p0.re,-Math.PI/2)),ok(MathLib.isNegZero(n1p0.im)),ok(MathLib.isEqual(n1n0.re,-Math.PI/2)),ok(MathLib.isPosZero(n1n0.im)),equal(p0p0.re,1/0),equal(p0n0.re,1/0),equal(n0p0.re,1/0),equal(n0n0.re,1/0),ok(MathLib.isEqual(p1p0.re,Math.PI/2)),ok(MathLib.isNegZero(p1p0.im)),ok(MathLib.isEqual(p1n0.re,Math.PI/2)),ok(MathLib.isPosZero(p1n0.im)),ok(MathLib.isEqual(new MathLib.Complex(1,2).arccsc(),new MathLib.Complex(.18631805410781552,-.396568230112329))),ok(MathLib.isEqual(new MathLib.Complex(-3,4).arccsc(),new MathLib.Complex(-.11875073130741176,-.16044553377450493)))}),test(".arcsec()",17,function(){var n1p0=new MathLib.Complex(-1,0).arcsec(),n1n0=new MathLib.Complex(-1,-0).arcsec(),p0p0=new MathLib.Complex(0,0).arcsec(),p0n0=new MathLib.Complex(0,-0).arcsec(),n0p0=new MathLib.Complex(-0,0).arcsec(),n0n0=new MathLib.Complex(-0,-0).arcsec(),p1p0=new MathLib.Complex(1,0).arcsec(),p1n0=new MathLib.Complex(1,-0).arcsec();ok(MathLib.isNaN(new MathLib.Complex(0/0).arcsec().re)),ok(MathLib.isEqual(new MathLib.Complex(1/0).arcsec().re,Math.PI/2)),ok(MathLib.isNegZero(new MathLib.Complex(1/0).arcsec().im)),ok(MathLib.isEqual(n1p0.re,Math.PI)),ok(MathLib.isPosZero(n1p0.im)),ok(MathLib.isEqual(n1n0.re,Math.PI)),ok(MathLib.isNegZero(n1n0.im)),equal(p0p0.re,1/0),equal(p0n0.re,1/0),equal(n0p0.re,1/0),equal(n0n0.re,1/0),ok(MathLib.isPosZero(p1p0.re)),ok(MathLib.isPosZero(p1p0.im)),ok(MathLib.isPosZero(p1n0.re)),ok(MathLib.isNegZero(p1n0.im)),ok(MathLib.isEqual(new MathLib.Complex(1,2).arcsec(),new MathLib.Complex(1.384478272687081,.396568230112329))),ok(MathLib.isEqual(new MathLib.Complex(-3,4).arcsec(),new MathLib.Complex(1.6895470581023084,.16044553377450493)))}),test(".arcsin()",24,function(){var n2p0=new MathLib.Complex(-2,0).arcsin(),n2n0=new MathLib.Complex(-2,-0).arcsin(),n1p0=new MathLib.Complex(-1,0).arcsin(),n1n0=new MathLib.Complex(-1,-0).arcsin(),p0p0=new MathLib.Complex(0,0).arcsin(),p0n0=new MathLib.Complex(0,-0).arcsin(),n0p0=new MathLib.Complex(-0,0).arcsin(),n0n0=new MathLib.Complex(-0,-0).arcsin(),p1p0=new MathLib.Complex(1,0).arcsin(),p1n0=new MathLib.Complex(1,-0).arcsin(),p2p0=new MathLib.Complex(2,0).arcsin(),p2n0=new MathLib.Complex(2,-0).arcsin();ok(MathLib.isNaN(new MathLib.Complex(0/0).arcsin().re)),equal(new MathLib.Complex(1/0).arcsin().re,1/0),ok(MathLib.isEqual(n2p0,new MathLib.Complex(-1.5707963267948966,1.3169578969248168))),ok(MathLib.isEqual(n2n0,new MathLib.Complex(-1.5707963267948966,-1.3169578969248168))),ok(MathLib.isEqual(n1p0.re,-1.5707963267948966)),ok(MathLib.isPosZero(n1p0.im)),ok(MathLib.isEqual(n1n0.re,-1.5707963267948966)),ok(MathLib.isNegZero(n1n0.im)),ok(MathLib.isPosZero(p0p0.re)),ok(MathLib.isPosZero(p0p0.im)),ok(MathLib.isPosZero(p0n0.re)),ok(MathLib.isNegZero(p0n0.im)),ok(MathLib.isNegZero(n0p0.re)),ok(MathLib.isPosZero(n0p0.im)),ok(MathLib.isNegZero(n0n0.re)),ok(MathLib.isNegZero(n0n0.im)),ok(MathLib.isEqual(p1p0.re,1.5707963267948966)),ok(MathLib.isPosZero(p1p0.im)),ok(MathLib.isEqual(p1n0.re,1.5707963267948966)),ok(MathLib.isNegZero(p1n0.im)),ok(MathLib.isEqual(p2p0,new MathLib.Complex(1.5707963267948966,1.3169578969248168))),ok(MathLib.isEqual(p2n0,new MathLib.Complex(1.5707963267948966,-1.3169578969248168))),ok(MathLib.isEqual(new MathLib.Complex(1,2).arcsin(),new MathLib.Complex(.42707858639247614,1.5285709194809982))),ok(MathLib.isEqual(new MathLib.Complex(-3,4).arcsin(),new MathLib.Complex(-.6339838656391767,2.305509031243477)))}),test(".arctan()",28,function(){var p0n2=new MathLib.Complex(0,-2).arctan(),n0n2=new MathLib.Complex(-0,-2).arctan(),p0n1=new MathLib.Complex(0,-1).arctan(),n0n1=new MathLib.Complex(-0,-1).arctan(),p0n5=new MathLib.Complex(0,-.5).arctan(),n0n5=new MathLib.Complex(-0,-.5).arctan(),p0p0=new MathLib.Complex(0,0).arctan(),p0n0=new MathLib.Complex(0,-0).arctan(),n0p0=new MathLib.Complex(-0,0).arctan(),n0n0=new MathLib.Complex(-0,-0).arctan(),p0p5=new MathLib.Complex(0,.5).arctan(),n0p5=new MathLib.Complex(-0,.5).arctan(),p0p1=new MathLib.Complex(0,1).arctan(),n0p1=new MathLib.Complex(-0,1).arctan(),p0p2=new MathLib.Complex(0,2).arctan(),n0p2=new MathLib.Complex(-0,2).arctan();ok(MathLib.isNaN(new MathLib.Complex(0/0).arctan().re)),ok(MathLib.isNaN(new MathLib.Complex(1/0).arctan().re)),ok(MathLib.isEqual(p0n2,new MathLib.Complex(1.5707963267948966,-.5493061443340549)),"(+0 -2i).arctan() = 1.57 - 0.55i"),ok(MathLib.isEqual(n0n2,new MathLib.Complex(-1.5707963267948966,-.5493061443340549)),"(-0 -2i).arctan() = -1.57 - 0.55i"),equal(p0n1.re,1/0),equal(n0n1.re,1/0),ok(MathLib.isPosZero(p0n5.re),"(+0 -0.5i).arctan().re = +0"),equal(p0n5.im,-.5493061443340549,"(+0 -0.5i).arctan().im = +0.549"),ok(MathLib.isNegZero(n0n5.re),"(-0 -0.5i).arctan().re = -0"),equal(n0n5.im,-.5493061443340549,"(-0 -0.5i).arctan().im = -0.549"),ok(MathLib.isPosZero(p0p0.re),"(+0 +0i).arctan().re = +0"),ok(MathLib.isPosZero(p0p0.im),"(+0 +0i).arctan().im = +0"),ok(MathLib.isPosZero(p0n0.re),"(+0 -0i).arctan().re = +0"),ok(MathLib.isNegZero(p0n0.im),"(+0 -0i).arctan().im = -0"),ok(MathLib.isNegZero(n0p0.re),"(-0 +0i).arctan().re = -0"),ok(MathLib.isPosZero(n0p0.im),"(-0 +0i).arctan().im = +0"),ok(MathLib.isNegZero(n0n0.re),"(-0 -0i).arctan().re = -0"),ok(MathLib.isNegZero(n0n0.im),"(-0 -0i).arctan().im = -0"),ok(MathLib.isPosZero(p0p5.re),"(+0 +0.5i).arctan().re = +0"),equal(p0p5.im,.5493061443340549,"(+0 +0.5i).arctan().im = +0.549"),ok(MathLib.isNegZero(n0p5.re),"(-0 +0.5i).arctan().re = -0"),equal(n0p5.im,.5493061443340549,"(-0 +0.5i).arctan().im = -0.549"),equal(p0p1.re,1/0),equal(n0p1.re,1/0),ok(MathLib.isEqual(p0p2,new MathLib.Complex(1.5707963267948966,.5493061443340549)),"(+0 +2i).arctan() = 1.57 + 0.55i"),ok(MathLib.isEqual(n0p2,new MathLib.Complex(-1.5707963267948966,.5493061443340549)),"(-0 +2i).arctan() = -1.57 + 0.55i"),ok(MathLib.isEqual(new MathLib.Complex(1,2).arctan(),new MathLib.Complex(1.3389725222944935,.40235947810852507))),ok(MathLib.isEqual(new MathLib.Complex(-3,4).arctan(),new MathLib.Complex(-1.4483069952314644,.15899719167999918)))}),test(".artanh()",28,function(){var n2p0=new MathLib.Complex(-2,0).artanh(),n2n0=new MathLib.Complex(-2,-0).artanh(),n1p0=new MathLib.Complex(-1,0).artanh(),n1n0=new MathLib.Complex(-1,-0).artanh(),n5p0=new MathLib.Complex(-.5,0).artanh(),n5n0=new MathLib.Complex(-.5,-0).artanh(),p0p0=new MathLib.Complex(0,0).artanh(),p0n0=new MathLib.Complex(0,-0).artanh(),n0p0=new MathLib.Complex(-0,0).artanh(),n0n0=new MathLib.Complex(-0,-0).artanh(),p5p0=new MathLib.Complex(.5,0).artanh(),p5n0=new MathLib.Complex(.5,-0).artanh(),p1p0=new MathLib.Complex(1,0).artanh(),p1n0=new MathLib.Complex(1,-0).artanh(),p2p0=new MathLib.Complex(2,0).artanh(),p2n0=new MathLib.Complex(2,-0).artanh();ok(MathLib.isNaN(new MathLib.Complex(0/0).artanh().re)),ok(MathLib.isNaN(new MathLib.Complex(1/0).artanh().re)),ok(MathLib.isEqual(n2p0,new MathLib.Complex(-.5493061443340549,1.5707963267948966)),"(-2 +0i).artanh() = -0.55 + 1.57i"),ok(MathLib.isEqual(n2n0,new MathLib.Complex(-.5493061443340549,-1.5707963267948966)),"(-2 -0i).artanh() = -0.55 - 1.57i"),equal(n1p0.re,1/0),equal(n1n0.re,1/0),ok(MathLib.isEqual(n5p0.re,-.5493061443340549),"(+0 -0.5i).artanh().re = -0.549"),ok(MathLib.isPosZero(n5p0.im),"(+0 -0.5i).artanh().im = +0"),ok(MathLib.isEqual(n5n0.re,-.5493061443340549),"(-0 -0.5i).artanh().re = -0.549"),ok(MathLib.isNegZero(n5n0.im),"(-0 -0.5i).artanh().im = -0"),ok(MathLib.isPosZero(p0p0.re),"(+0 +0i).artanh().re = +0"),ok(MathLib.isPosZero(p0p0.im),"(+0 +0i).artanh().im = +0"),ok(MathLib.isPosZero(p0n0.re),"(+0 -0i).artanh().re = +0"),ok(MathLib.isNegZero(p0n0.im),"(+0 -0i).artanh().im = -0"),ok(MathLib.isNegZero(n0p0.re),"(-0 +0i).artanh().re = -0"),ok(MathLib.isPosZero(n0p0.im),"(-0 +0i).artanh().im = +0"),ok(MathLib.isNegZero(n0n0.re),"(-0 -0i).artanh().re = -0"),ok(MathLib.isNegZero(n0n0.im),"(-0 -0i).artanh().im = -0"),ok(MathLib.isEqual(p5p0.re,.5493061443340549),"(+0.5i +0).artanh().re = +0.549"),ok(MathLib.isPosZero(p5p0.im),"(+0.5i +0).artanh().im = +0"),ok(MathLib.isEqual(p5n0.re,.5493061443340549),"(+0.5i -0).artanh().re = +0.549"),ok(MathLib.isNegZero(p5n0.im),"(+0.5i -0).artanh().im = -0"),equal(p1p0.re,1/0),equal(p1n0.re,1/0),ok(MathLib.isEqual(p2p0,new MathLib.Complex(.5493061443340549,1.5707963267948966)),"(2 + 0i).artanh() = 1.57 + 0.55"),ok(MathLib.isEqual(p2n0,new MathLib.Complex(.5493061443340549,-1.5707963267948966)),"(2 - 0i).artanh() = -1.57 + 0.55"),ok(MathLib.isEqual(new MathLib.Complex(1,2).artanh(),new MathLib.Complex(.17328679513998632,1.1780972450961724))),ok(MathLib.isEqual(new MathLib.Complex(-3,4).artanh(),new MathLib.Complex(-.1175009073114339,1.4099210495965755)))}),test(".arg()",6,function(){var c1=new MathLib.Complex(1,1),c2=new MathLib.Complex(1,-1),c3=new MathLib.Complex(0,0),c4=new MathLib.Complex(-1,0);ok(MathLib.isNaN(new MathLib.Complex(0/0,1).arg())),ok(MathLib.isNaN(new MathLib.Complex(1/0,1).arg())),equal(c1.arg(),.7853981633974483),equal(c2.arg(),-.7853981633974483),equal(c3.arg(),0),equal(c4.arg(),3.141592653589793)}),test(".compare()",9,function(){var c=new MathLib.Complex(3,2),d=new MathLib.Complex(1,1),e=new MathLib.Complex(-1,1),nan=new MathLib.Complex(0/0),inf=new MathLib.Complex(1/0);equal(nan.compare(nan),0),equal(nan.compare(c),-1),equal(nan.compare(inf),-1),equal(inf.compare(nan),1),equal(inf.compare(c),1),equal(inf.compare(inf),0),equal(c.compare(c),0,"equal complex numbers"),equal(c.compare(d),1,"normal compare"),equal(d.compare(e),-1,"")}),test(".conjugate()",12,function(){var pp=new MathLib.Complex(0,0).conjugate(),pn=new MathLib.Complex(0,-0).conjugate(),np=new MathLib.Complex(-0,0).conjugate(),nn=new MathLib.Complex(-0,-0).conjugate();ok(MathLib.isNaN(new MathLib.Complex(0/0).conjugate().re)),equal(new MathLib.Complex(1/0).conjugate().re,1/0),ok(MathLib.isPosZero(pp.re)),ok(MathLib.isNegZero(pp.im)),ok(MathLib.isPosZero(pn.re)),ok(MathLib.isPosZero(pn.im)),ok(MathLib.isNegZero(np.re)),ok(MathLib.isNegZero(np.im)),ok(MathLib.isNegZero(nn.re)),ok(MathLib.isPosZero(nn.im)),ok(MathLib.isEqual(new MathLib.Complex(1,2).conjugate(),new MathLib.Complex(1,-2))),ok(MathLib.isEqual(new MathLib.Complex(-3,4).conjugate(),new MathLib.Complex(-3,-4)))}),test(".copy()",12,function(){var pp=new MathLib.Complex(0,0).copy(),pn=new MathLib.Complex(0,-0).copy(),np=new MathLib.Complex(-0,0).copy(),nn=new MathLib.Complex(-0,-0).copy();ok(MathLib.isNaN(new MathLib.Complex(0/0).copy().re)),equal(new MathLib.Complex(1/0).copy().re,1/0),ok(MathLib.isPosZero(pp.re)),ok(MathLib.isPosZero(pp.im)),ok(MathLib.isPosZero(pn.re)),ok(MathLib.isNegZero(pn.im)),ok(MathLib.isNegZero(np.re)),ok(MathLib.isPosZero(np.im)),ok(MathLib.isNegZero(nn.re)),ok(MathLib.isNegZero(nn.im)),ok(MathLib.isEqual(new MathLib.Complex(1,2).copy(),new MathLib.Complex(1,2))),ok(MathLib.isEqual(new MathLib.Complex(-3,4).copy(),new MathLib.Complex(-3,4)))}),test(".cos()",3,function(){ok(MathLib.isNaN(new MathLib.Complex(0/0).cos().re)),ok(MathLib.isNaN(new MathLib.Complex(1/0).cos().re)),ok(MathLib.isEqual(new MathLib.Complex(1,2).cos(),new MathLib.Complex(2.0327230070196656,-3.0518977991518)))}),test(".cosh()",4,function(){ok(MathLib.isNaN(new MathLib.Complex(0/0).cosh().re)),ok(MathLib.isNaN(new MathLib.Complex(1/0).cosh().re)),ok(MathLib.isEqual(new MathLib.Complex(1,2).cosh(),new MathLib.Complex(-.64214812471552,1.0686074213827783))),ok(MathLib.isEqual(new MathLib.Complex(-3,4).cosh(),new MathLib.Complex(-6.580663040551157,7.581552742746545)))}),test(".cot()",5,function(){ok(MathLib.isNaN(new MathLib.Complex(0/0).cot().re)),ok(MathLib.isNaN(new MathLib.Complex(1/0).cot().re)),equal(new MathLib.Complex(0).cot().re,1/0),ok(MathLib.isEqual(new MathLib.Complex(1,2).cot(),new MathLib.Complex(.032797755533752596,-.984329226458191))),ok(MathLib.isEqual(new MathLib.Complex(-3,4).cot(),new MathLib.Complex(.00018758773798365923,-1.0006443924715591)))}),test(".coth()",5,function(){ok(MathLib.isNaN(new MathLib.Complex(0/0).coth().re)),ok(MathLib.isNaN(new MathLib.Complex(1/0).coth().re)),equal(new MathLib.Complex(0).coth().re,1/0),ok(MathLib.isEqual(new MathLib.Complex(1,2).coth(),new MathLib.Complex(.8213297974938517,.17138361290918502))),ok(MathLib.isEqual(new MathLib.Complex(-3,4).coth(),new MathLib.Complex(-.9992669278059015,-.004901182394304473)))}),test(".csc()",5,function(){ok(MathLib.isNaN(new MathLib.Complex(0/0).csc().re)),ok(MathLib.isNaN(new MathLib.Complex(1/0).csc().re)),equal(new MathLib.Complex(0).csc().re,1/0),ok(MathLib.isEqual(new MathLib.Complex(1,2).csc(),new MathLib.Complex(.2283750655996866,-.1413630216124078))),ok(MathLib.isEqual(new MathLib.Complex(-3,4).csc(),new MathLib.Complex(-.0051744731840193976,.03627588962862601)))}),test(".csch()",5,function(){ok(MathLib.isNaN(new MathLib.Complex(0/0).csch().re)),ok(MathLib.isNaN(new MathLib.Complex(1/0).csch().re)),equal(new MathLib.Complex(0).csch().re,1/0),ok(MathLib.isEqual(new MathLib.Complex(1,2).csch(),new MathLib.Complex(-.2215009308505094,-.6354937992538999))),ok(MathLib.isEqual(new MathLib.Complex(-3,4).csch(),new MathLib.Complex(.06487747137063549,.0754898329158637)))}),test(".divide()",18,function(){var inf=new MathLib.Complex(1/0),nan=new MathLib.Complex(0/0),zero=new MathLib.Complex(0,0),c=new MathLib.Complex(2,5),c=new MathLib.Complex(2,5),d=new MathLib.Complex(3,6),e=new MathLib.Complex(3,7);deepEqual(nan.divide(nan),nan,"ComplexNaN / ComplexNaN = ComplexNaN"),deepEqual(nan.divide(inf),nan,"ComplexNaN / ComplexInfinity = ComplexNaN"),deepEqual(nan.divide(zero),nan,"ComplexNaN / 0 = ComplexNaN"),deepEqual(nan.divide(c),nan,"ComplexNaN / (2+5i) = ComplexNaN"),deepEqual(inf.divide(nan),nan,"ComplexInfinity / ComplexNaN = ComplexNaN"),deepEqual(inf.divide(inf),nan,"ComplexInfinity / ComplexInfinity = ComplexNaN"),deepEqual(inf.divide(zero),inf,"ComplexInfinity / 0 = ComplexInfinity"),deepEqual(inf.divide(c),inf,"ComplexInfinity / (2+5i) = ComplexInfinity"),deepEqual(zero.divide(nan),nan,"0 / ComplexNaN = ComplexNaN"),deepEqual(zero.divide(inf),zero,"0 / ComplexInfinity = 0"),deepEqual(zero.divide(zero),nan,"0 / 0 = ComplexNaN"),deepEqual(zero.divide(c),zero,"0 / (2+5i) = 0"),deepEqual(c.divide(nan),nan,"(2+5i) / ComplexNaN = ComplexNaN"),deepEqual(c.divide(inf),zero,"(2+5i) / ComplexInfinity = 0"),deepEqual(c.divide(zero),inf,"(2+5i) / 0 = ComplexInfinity"),deepEqual(c.divide(c),new MathLib.Complex(1),"(2+5i) / (2+5i) = 1"),deepEqual(d.divide(3),new MathLib.Complex(1,2),"Dividing by a normal number."),ok(c.divide(e).isEqual(new MathLib.Complex(41/58,1/58)),"Dividing by a complex number.")}),test(".exp()",12,function(){var pp=new MathLib.Complex(0,0).exp(),pn=new MathLib.Complex(0,-0).exp(),np=new MathLib.Complex(-0,0).exp(),nn=new MathLib.Complex(-0,-0).exp();ok(MathLib.isNaN(new MathLib.Complex(0/0).exp().re)),ok(MathLib.isNaN(new MathLib.Complex(1/0).exp().re)),equal(pp.re,1,"(+0 +0i).exp().re = 1"),ok(MathLib.isPosZero(pp.im),"(+0 +0i).exp().im = 0"),equal(pn.re,1,"(+0 -0i).exp().re = 1"),ok(MathLib.isNegZero(pn.im),"(+0 -0i).exp().im = 0"),equal(np.re,1,"(-0 +0i).exp().re = 1"),ok(MathLib.isPosZero(np.im),"(-0 +0i).exp().im = 0"),equal(nn.re,1,"(-0 -0i).exp().re = 1"),ok(MathLib.isNegZero(nn.im),"(-0 -0i).exp().im = 0"),ok(MathLib.isEqual(new MathLib.Complex(1,2).exp(),new MathLib.Complex(-1.1312043837568135,2.4717266720048188))),ok(MathLib.isEqual(new MathLib.Complex(-3,4).exp(),new MathLib.Complex(-.032542999640154786,-.03767897757486585)))}),test(".inverse()",9,function(){ok(MathLib.isNaN(new MathLib.Complex(0/0).inverse().re)),ok(MathLib.isPosZero(new MathLib.Complex(1/0).inverse().re)),ok(MathLib.isPosZero(new MathLib.Complex(1/0).inverse().im)),equal(new MathLib.Complex(0,0).inverse().re,1/0),equal(new MathLib.Complex(0,-0).inverse().re,1/0),equal(new MathLib.Complex(-0,0).inverse().re,1/0),equal(new MathLib.Complex(-0,-0).inverse().re,1/0),deepEqual(new MathLib.Complex(3,4).inverse(),new MathLib.Complex(.12,-0.16)),deepEqual(new MathLib.Complex(0,2).inverse(),new MathLib.Complex(0,-0.5))}),test(".isEqual()",2,function(){var c=new MathLib.Complex(3,4),d=new MathLib.Complex(3,4),e=new MathLib.Complex(5,3);equal(c.isEqual(d),!0,"equal number"),equal(d.isEqual(e),!1,"different number")}),test(".isFinite()",3,function(){equal(new MathLib.Complex(3,4).isFinite(),!0,"finite complex number"),equal(new MathLib.Complex(1/0).isFinite(),!1,"ComplexInfinity"),equal(new MathLib.Complex(0/0).isFinite(),!1,"ComplexNaN")}),test(".isZero()",2,function(){var c=new MathLib.Complex(3,4),d=new MathLib.Complex(0,0);equal(c.isZero(),!1,"non zero complex"),equal(d.isZero(),!0,"complex zero")}),test(".ln()",4,function(){var c=new MathLib.Complex(3,4),res=new MathLib.Complex(1.6094379124341003,.9272952180016123);ok(MathLib.isNaN(new MathLib.Complex(0/0).ln().re)),equal(new MathLib.Complex(1/0).ln().re,1/0),equal(new MathLib.Complex(0).ln().re,1/0),equal(MathLib.isEqual(c.ln(),res),!0,"natural logarithm of the complex number")}),test(".minus()",17,function(){var inf=new MathLib.Complex(1/0),nan=new MathLib.Complex(0/0),zero=new MathLib.Complex(0,0),c=new MathLib.Complex(2,5),d=new MathLib.Complex(7,-8);deepEqual(nan.minus(nan),nan,"ComplexNaN - ComplexNaN = ComplexNaN"),deepEqual(nan.minus(inf),nan,"ComplexNaN - ComplexInfinity = ComplexNaN"),deepEqual(nan.minus(zero),nan,"ComplexNaN - 0 = ComplexNaN"),deepEqual(nan.minus(c),nan,"ComplexNaN - (2+5i) = ComplexNaN"),deepEqual(inf.minus(nan),nan,"ComplexInfinity - ComplexNaN = ComplexNaN"),deepEqual(inf.minus(inf),inf,"ComplexInfinity - ComplexInfinity = ComplexInfinity"),deepEqual(inf.minus(zero),inf,"ComplexInfinity - 0 = ComplexInfinity"),deepEqual(inf.minus(c),inf,"ComplexInfinity - (2+5i) = ComplexInfinity"),deepEqual(zero.minus(nan),nan,"0 - ComplexNaN = ComplexNaN"),deepEqual(zero.minus(inf),inf,"0 - ComplexInfinity = ComplexInfinity"),deepEqual(zero.minus(zero),zero,"0 - 0 = 0"),deepEqual(zero.minus(c),c.negative(),"0 - (2+5i) = -2-5i"),deepEqual(c.minus(nan),nan,"(2+5i) - ComplexNaN = ComplexNaN"),deepEqual(c.minus(inf),inf,"(2+5i) - ComplexInfinity = ComplexInfinity"),deepEqual(c.minus(zero),c,"(2+5i) - 0 = 2+5i"),deepEqual(c.minus(c),zero,"(2+5i) - (2+5i) = 0"),deepEqual(c.minus(d),new MathLib.Complex(-5,13),"(2+5i)-(7-8i) = -5 + 13i)")}),test(".negative()",11,function(){var pp=new MathLib.Complex(0,0).negative(),pn=new MathLib.Complex(0,-0).negative(),np=new MathLib.Complex(-0,0).negative(),nn=new MathLib.Complex(-0,-0).negative();ok(MathLib.isNaN(new MathLib.Complex(0/0).negative().re)),equal(new MathLib.Complex(1/0).negative().re,1/0),ok(MathLib.isNegZero(pp.re)),ok(MathLib.isNegZero(pp.im)),ok(MathLib.isNegZero(pn.re)),ok(MathLib.isPosZero(pn.im)),ok(MathLib.isPosZero(np.re)),ok(MathLib.isNegZero(np.im)),ok(MathLib.isPosZero(nn.re)),ok(MathLib.isPosZero(nn.im)),ok(MathLib.isEqual(new MathLib.Complex(-3,4).negative(),new MathLib.Complex(3,-4)))}),test(".plus()",18,function(){var inf=new MathLib.Complex(1/0),nan=new MathLib.Complex(0/0),zero=new MathLib.Complex(0,0),c=new MathLib.Complex(2,5),d=new MathLib.Complex(3,4);deepEqual(nan.plus(nan),nan,"ComplexNaN + ComplexNaN = ComplexNaN"),deepEqual(nan.plus(inf),nan,"ComplexNaN + ComplexInfinity = ComplexNaN"),deepEqual(nan.plus(zero),nan,"ComplexNaN + 0 = ComplexNaN"),deepEqual(nan.plus(c),nan,"ComplexNaN + (2+5i) = ComplexNaN"),deepEqual(inf.plus(nan),nan,"ComplexInfinity + ComplexNaN = ComplexNaN"),deepEqual(inf.plus(inf),inf,"ComplexInfinity + ComplexInfinity = ComplexInfinity"),deepEqual(inf.plus(zero),inf,"ComplexInfinity + 0 = ComplexInfinity"),deepEqual(inf.plus(c),inf,"ComplexInfinity + (2+5i) = ComplexInfinity"),deepEqual(zero.plus(nan),nan,"0 + ComplexNaN = ComplexNaN"),deepEqual(zero.plus(inf),inf,"0 + ComplexInfinity = ComplexInfinity"),deepEqual(zero.plus(zero),zero,"0 + 0 = 0"),deepEqual(zero.plus(c),c,"0 + (2+5i) = c"),deepEqual(c.plus(nan),nan,"(2+5i) + ComplexNaN = ComplexNaN"),deepEqual(c.plus(inf),inf,"(2+5i) + ComplexInfinity = ComplexInfinity"),deepEqual(c.plus(zero),c,"(2+5i) + 0 = 2+5i"),deepEqual(c.plus(c),new MathLib.Complex(4,10),"(2+5i) + (2+5i) = 4+10i"),deepEqual(c.plus(d),new MathLib.Complex(5,9),"Adding two complex numbers."),deepEqual(d.plus(5),new MathLib.Complex(8,4),"Adding a number to a complex number.")
}),test(".polar()",8,function(){equal(new MathLib.Complex.polar(1/0).re,1/0),equal(new MathLib.Complex.polar(1/0,0/0).re,1/0),equal(new MathLib.Complex.polar(1/0,1/0).re,1/0),equal(new MathLib.Complex.polar(1/0,0).re,1/0),ok(MathLib.isPosZero(new MathLib.Complex.polar(1,0).im)),ok(MathLib.isNegZero(new MathLib.Complex.polar(1,-0).im)),ok(MathLib.isEqual(new MathLib.Complex.polar(2,3),new MathLib.Complex(-1.9799849932008908,.2822400161197344))),ok(MathLib.isEqual(new MathLib.Complex.polar(4,-5),new MathLib.Complex(1.134648741852905,3.835697098652554)))}),test(".pow()",29,function(){var inf=new MathLib.Complex(1/0),nan=new MathLib.Complex(0/0),zero=new MathLib.Complex(0,0),c=new MathLib.Complex(2,5),d=new MathLib.Complex(3,7);deepEqual(nan.pow(nan),nan,"ComplexNaN ^ ComplexNaN = ComplexNaN"),deepEqual(nan.pow(inf),nan,"ComplexNaN ^ ComplexInfinity = ComplexNaN"),deepEqual(nan.pow(zero),nan,"ComplexNaN ^ 0 = ComplexNaN"),deepEqual(nan.pow(c),nan,"ComplexNaN ^ (2+5i) = ComplexNaN"),deepEqual(inf.pow(nan),nan,"ComplexInfinity ^ ComplexNaN = ComplexNaN"),deepEqual(inf.pow(inf),nan,"ComplexInfinity ^ ComplexInfinity = ComplexNaN"),deepEqual(inf.pow(zero),nan,"ComplexInfinity ^ 0 = ComplexNaN"),deepEqual(inf.pow(c),inf,"ComplexInfinity ^ (2+5i) = ComplexInfinity"),deepEqual(zero.pow(nan),nan,"0 ^ ComplexNaN = ComplexNaN"),deepEqual(zero.pow(inf),nan,"0 ^ ComplexInfinity = ComplexNaN"),deepEqual(zero.pow(zero),nan,"0 ^ 0 = ComplexNaN"),deepEqual(zero.pow(c),zero,"0 ^ (2+5i) = 0"),deepEqual(c.pow(nan),nan,"(2+5i) ^ ComplexNaN = ComplexNaN"),deepEqual(c.pow(inf),nan,"(2+5i) ^ ComplexInfinity = ComplexNaN"),ok(c.pow(zero).isEqual(new MathLib.Complex(1)),"(2+5i) ^ 0 = 1"),ok(c.pow(c).isEqual(new MathLib.Complex(-.014751488748626421,-.07400398475771672)),"(2+5i) ^ (2+5i) = -0.01475 -0.07400i"),ok(c.pow(d).isEqual(new MathLib.Complex(-.03528847161704269,.012943638960390488))),equal(c.pow(0).re,1,"(2+5i) ^ 0 = 1 + 0i"),ok(MathLib.isPosZero(c.pow(0).im),"(2+5i) ^ 0 = 1 + 0i"),equal(c.pow(-0).re,1,"(2+5i) ^ -0 = 1 - 0i"),ok(MathLib.isNegZero(c.pow(-0).im),"(2+5i) ^ -0 = 1 - 0i"),deepEqual(nan.pow(3),nan,"ComplexNaN ^ 3 = ComplexNaN"),deepEqual(inf.pow(3),inf,"ComplexInfinity ^ 3 = ComplexInfinity"),deepEqual(zero.pow(3),zero,"0 ^ 3 = 0"),ok(c.pow(3).isEqual(new MathLib.Complex(-142,-65)),"(2+5i) ^ 3 = -142 -65i"),ok(c.pow(-3).isEqual(new MathLib.Complex(-.005822296937143794,.0026651359219320185)),"(2+5i) ^ -3 = -0.0058223 + 0.00266514 i"),ok(Math.abs(c.pow(3.24).re+176.64664988162752)<1e-12,"(2+5i) ^ 3.24 = -176.647 -153.359i"),ok(Math.abs(c.pow(3.24).im+153.35877082892785)<1e-12,"(2+5i) ^ 3.24 = -176.647 -153.359i"),ok(c.pow(-3.24).isEqual(new MathLib.Complex(-.0032280175872257473,.0028024579561675015)),"(2+5i) ^ -3.24 = -0.00322802 + 0.00280246i")}),test(".sec()",4,function(){ok(MathLib.isNaN(new MathLib.Complex(0/0).sec().re)),ok(MathLib.isNaN(new MathLib.Complex(1/0).sec().re)),ok(MathLib.isEqual(new MathLib.Complex(1,2).sec(),new MathLib.Complex(.1511762982655772,.2269736753937216))),ok(MathLib.isEqual(new MathLib.Complex(-3,4).sec(),new MathLib.Complex(-.03625349691586887,-.00516434460775318)))}),test(".sech()",4,function(){ok(MathLib.isNaN(new MathLib.Complex(0/0).sech().re)),ok(MathLib.isNaN(new MathLib.Complex(1/0).sech().re)),ok(MathLib.isEqual(new MathLib.Complex(1,2).sech(),new MathLib.Complex(-.41314934426694,-.6875274386554789))),ok(MathLib.isEqual(new MathLib.Complex(-3,4).sech(),new MathLib.Complex(-.06529402785794705,-.07522496030277323)))}),test(".sign()",12,function(){var pp=new MathLib.Complex(0,0).sign(),pn=new MathLib.Complex(0,-0).sign(),np=new MathLib.Complex(-0,0).sign(),nn=new MathLib.Complex(-0,-0).sign();ok(MathLib.isNaN(new MathLib.Complex(0/0).sign().re)),ok(MathLib.isNaN(new MathLib.Complex(1/0).sign().re)),ok(MathLib.isPosZero(pp.re)),ok(MathLib.isPosZero(pp.im)),ok(MathLib.isPosZero(pn.re)),ok(MathLib.isNegZero(pn.im)),ok(MathLib.isNegZero(np.re)),ok(MathLib.isPosZero(np.im)),ok(MathLib.isNegZero(nn.re)),ok(MathLib.isNegZero(nn.im)),ok(new MathLib.Complex(2,-3).sign().isEqual(MathLib.Complex.polar(1,Math.atan2(-3,2)))),ok(new MathLib.Complex(5,6).sign().isEqual(MathLib.Complex.polar(1,Math.atan2(6,5))))}),test(".sin()",11,function(){var pp=new MathLib.Complex(0,0).sin(),pn=new MathLib.Complex(0,-0).sin(),np=new MathLib.Complex(-0,0).sin(),nn=new MathLib.Complex(-0,-0).sin();ok(MathLib.isNaN(new MathLib.Complex(0/0).sin().re)),ok(MathLib.isNaN(new MathLib.Complex(1/0).sin().re)),ok(MathLib.isPosZero(pp.re)),ok(MathLib.isPosZero(pp.im)),ok(MathLib.isPosZero(pn.re)),ok(MathLib.isNegZero(pn.im)),ok(MathLib.isNegZero(np.re)),ok(MathLib.isPosZero(np.im)),ok(MathLib.isNegZero(nn.re)),ok(MathLib.isNegZero(nn.im)),ok(MathLib.isEqual(new MathLib.Complex(1,2).sin(),new MathLib.Complex(3.1657785132161673,1.959601041421606)))}),test(".sinh()",12,function(){var pp=new MathLib.Complex(0,0).sinh(),pn=new MathLib.Complex(0,-0).sinh(),np=new MathLib.Complex(-0,0).sinh(),nn=new MathLib.Complex(-0,-0).sinh();ok(MathLib.isNaN(new MathLib.Complex(0/0).sinh().re)),ok(MathLib.isNaN(new MathLib.Complex(1/0).sinh().re)),ok(MathLib.isPosZero(pp.re)),ok(MathLib.isPosZero(pp.im)),ok(MathLib.isPosZero(pn.re)),ok(MathLib.isNegZero(pn.im)),ok(MathLib.isNegZero(np.re)),ok(MathLib.isPosZero(np.im)),ok(MathLib.isNegZero(nn.re)),ok(MathLib.isNegZero(nn.im)),ok(MathLib.isEqual(new MathLib.Complex(1,2).sinh(),new MathLib.Complex(-.4890562590412937,1.4031192506220407))),ok(MathLib.isEqual(new MathLib.Complex(-3,4).sinh(),new MathLib.Complex(6.548120040911002,-7.619231720321411)))}),test(".sqrt()",6,function(){ok(MathLib.isNaN(new MathLib.Complex(0/0).sqrt().re)),equal(new MathLib.Complex(1/0).sqrt().re,1/0),ok(MathLib.isEqual(new MathLib.Complex(0,0).sqrt(),new MathLib.Complex(0,0))),ok(MathLib.isEqual(new MathLib.Complex(0,2).sqrt(),new MathLib.Complex(1,1))),ok(MathLib.isEqual(new MathLib.Complex(-1,0).sqrt(),new MathLib.Complex(0,1))),ok(MathLib.isEqual(new MathLib.Complex(-1,-0).sqrt(),new MathLib.Complex(0,-1)))}),test(".tan()",12,function(){var pp=new MathLib.Complex(0,0).tan(),pn=new MathLib.Complex(0,-0).tan(),np=new MathLib.Complex(-0,0).tan(),nn=new MathLib.Complex(-0,-0).tan();ok(MathLib.isNaN(new MathLib.Complex(0/0).tan().re)),ok(MathLib.isNaN(new MathLib.Complex(1/0).tan().re)),ok(MathLib.isPosZero(pp.re)),ok(MathLib.isPosZero(pp.im)),ok(MathLib.isPosZero(pn.re)),ok(MathLib.isNegZero(pn.im)),ok(MathLib.isNegZero(np.re)),ok(MathLib.isPosZero(np.im)),ok(MathLib.isNegZero(nn.re)),ok(MathLib.isNegZero(nn.im)),ok(MathLib.isEqual(new MathLib.Complex(1,2).tan(),new MathLib.Complex(.03381282607989669,1.0147936161466335))),ok(MathLib.isEqual(new MathLib.Complex(-3,4).tan(),new MathLib.Complex(.00018734620462947842,.9993559873814731)))}),test(".tanh()",12,function(){var pp=new MathLib.Complex(0,0).tanh(),pn=new MathLib.Complex(0,-0).tanh(),np=new MathLib.Complex(-0,0).tanh(),nn=new MathLib.Complex(-0,-0).tanh();ok(MathLib.isNaN(new MathLib.Complex(0/0).tanh().re)),ok(MathLib.isNaN(new MathLib.Complex(1/0).tanh().re)),ok(MathLib.isPosZero(pp.re)),ok(MathLib.isPosZero(pp.im)),ok(MathLib.isPosZero(pn.re)),ok(MathLib.isNegZero(pn.im)),ok(MathLib.isNegZero(np.re)),ok(MathLib.isPosZero(np.im)),ok(MathLib.isNegZero(nn.re)),ok(MathLib.isNegZero(nn.im)),ok(MathLib.isEqual(new MathLib.Complex(1,2).tanh(),new MathLib.Complex(1.16673625724092,-.24345820118572525))),ok(MathLib.isEqual(new MathLib.Complex(-3,4).tanh(),new MathLib.Complex(-1.000709536067233,.00490825806749606)))}),test(".times()",19,function(){var inf=new MathLib.Complex(1/0),nan=new MathLib.Complex(0/0),zero=new MathLib.Complex(0,0),c=new MathLib.Complex(2,5),d=new MathLib.Complex(3,7),r=new MathLib.Rational(2,3);deepEqual(nan.times(nan),nan,"ComplexNaN * ComplexNaN = ComplexNaN"),deepEqual(nan.times(inf),nan,"ComplexNaN * ComplexInfinity = ComplexNaN"),deepEqual(nan.times(zero),nan,"ComplexNaN * 0 = ComplexNaN"),deepEqual(nan.times(c),nan,"ComplexNaN * (2+5i) = ComplexNaN"),deepEqual(inf.times(nan),nan,"ComplexInfinity * ComplexNaN = ComplexNaN"),deepEqual(inf.times(inf),inf,"ComplexInfinity * ComplexInfinity = ComplexInfinity"),deepEqual(inf.times(zero),nan,"ComplexInfinity * 0 = ComplexNaN"),deepEqual(inf.times(c),inf,"ComplexInfinity * (2+5i) = ComplexInfinity"),deepEqual(zero.times(nan),nan,"0 * ComplexNaN = ComplexNaN"),deepEqual(zero.times(inf),nan,"0 * ComplexInfinity = ComplexNaN"),deepEqual(zero.times(zero),zero,"0 * 0 = 0"),deepEqual(zero.times(c),zero,"0 * (2+5i) = 0"),deepEqual(c.times(nan),nan,"(2+5i) * ComplexNaN = ComplexNaN"),deepEqual(c.times(inf),inf,"(2+5i) * ComplexInfinity = ComplexInfinity"),deepEqual(c.times(zero),zero,"(2+5i) * 0 = 0"),deepEqual(c.times(c),new MathLib.Complex(-21,20),"(2+5i) * (2+5i) = -21+20i"),equal(c.times(3).isEqual(new MathLib.Complex(6,15)),!0,"Multiplying by a normal number."),equal(c.times(d).isEqual(new MathLib.Complex(-29,29)),!0,"Multiplying by a complex number."),equal(c.times(r).isEqual(new MathLib.Complex(4/3,10/3)),!0,"Multiplying by a rational number.")}),test(".toContentMathML()",7,function(){var c=new MathLib.Complex(3,4),d=new MathLib.Complex(0,7),e=new MathLib.Complex(4,0),f=new MathLib.Complex(4,-5),g=new MathLib.Complex(0,0);equal(new MathLib.Complex(0/0).toContentMathML(),'<csymbol cd="nums1">NaN</csymbol>'),equal(new MathLib.Complex(1/0).toContentMathML(),'<csymbol cd="nums1">infinity</csymbol>'),equal(c.toContentMathML(),"<apply><plus /><cn>3</cn><apply><times /><cn>4</cn><imaginaryi /></apply></apply>","Normal complex number."),equal(d.toContentMathML(),"<apply><plus /><cn>0</cn><apply><times /><cn>7</cn><imaginaryi /></apply></apply>","Real part is zero."),equal(e.toContentMathML(),"<apply><plus /><cn>4</cn><apply><times /><cn>0</cn><imaginaryi /></apply></apply>","Complex part is zero."),equal(f.toContentMathML(),"<apply><plus /><cn>4</cn><apply><times /><cn>-5</cn><imaginaryi /></apply></apply>","Complex part is negative."),equal(g.toContentMathML(),"<apply><plus /><cn>0</cn><apply><times /><cn>0</cn><imaginaryi /></apply></apply>","Number is zero.")}),test(".toLaTeX()",7,function(){var c=new MathLib.Complex(3,4),d=new MathLib.Complex(0,7),e=new MathLib.Complex(4,0),f=new MathLib.Complex(4,-5),g=new MathLib.Complex(0,0);equal(new MathLib.Complex(0/0).toLaTeX(),"\\text{ComplexNaN}"),equal(new MathLib.Complex(1/0).toLaTeX(),"\\text{ComplexInfinity}"),equal(c.toLaTeX(),"3+4i","Normal complex number."),equal(d.toLaTeX(),"7i","Real part is zero."),equal(e.toLaTeX(),"4","Complex part is zero."),equal(f.toLaTeX(),"4-5i","Complex part is negative."),equal(g.toLaTeX(),"0","Number is zero.")}),test(".toMathML()",7,function(){var c=new MathLib.Complex(3,4),d=new MathLib.Complex(0,7),e=new MathLib.Complex(4,0),f=new MathLib.Complex(4,-5),g=new MathLib.Complex(0,0);equal(new MathLib.Complex(0/0).toMathML(),"<mi>ComplexNaN</mi>"),equal(new MathLib.Complex(1/0).toMathML(),"<mi>ComplexInfinity</mi>"),equal(c.toMathML(),"<mn>3</mn><mo>+</mo><mn>4</mn><mo>&#x2062;</mo><mi>i</mi>","Normal complex number."),equal(d.toMathML(),"<mn>7</mn><mo>&#x2062;</mo><mi>i</mi>","Real part is zero."),equal(e.toMathML(),"<mn>4</mn>","Complex part is zero."),equal(f.toMathML(),"<mn>4</mn><mo>-</mo><mn>5</mn><mo>&#x2062;</mo><mi>i</mi>","Complex part is negative."),equal(g.toMathML(),"<mn>0</mn>","Number is zero.")}),test(".toPoint()",5,function(){var c=new MathLib.Complex(3,-4),p=c.toPoint();equal(p.type,"point","Converting a complex number to a point: type check"),equal(p.dimension,2,"Converting a complex number to a point: dimension check."),deepEqual(p,new MathLib.Point([3,-4,1]),"Converting a complex number to a point: position check."),ok(new MathLib.Complex(0/0).toPoint().isEqual(new MathLib.Point([0,0,0])),"ComplexNaN.toPoint() = (0,0,0)"),ok(new MathLib.Complex(1/0).toPoint().isEqual(new MathLib.Point([0,0,0])),"ComplexInfinity.toPoint() = (0,0,0)")}),test(".toString()",7,function(){var c=new MathLib.Complex(3,4),d=new MathLib.Complex(0,7),e=new MathLib.Complex(4,0),f=new MathLib.Complex(4,-5),g=new MathLib.Complex(0,0);equal(new MathLib.Complex(0/0).toString(),"ComplexNaN"),equal(new MathLib.Complex(1/0).toString(),"ComplexInfinity"),equal(c.toString(),"3+4i","Normal complex number."),equal(d.toString(),"7i","Real part is zero."),equal(e.toString(),"4","Complex part is zero."),equal(f.toString(),"4-5i","Complex part is negative."),equal(g.toString(),"0","Number is zero.")}),module("Conic"),test("init",1,function(){var p=new MathLib.Conic(new MathLib.Matrix([[0,1],[2,3]]));equal(typeof p,"object","Testing typeof")}),test(".constructor",1,function(){var p=new MathLib.Conic(new MathLib.Matrix([[0,1],[2,3]]));equal(p.constructor,MathLib.Conic,"Testing .constructor")}),test(".type",1,function(){var p=new MathLib.Conic(new MathLib.Matrix([[0,1],[2,3]]));equal(p.type,"conic","Testing .type")}),test(".eccentricity()",10,function(){var c1=new MathLib.Conic([[1,0,0],[0,1,0],[0,0,-1]]),c2=new MathLib.Conic([[2,0,0],[0,2,0],[0,0,-2]]),e1=new MathLib.Conic([[4,0,0],[0,3,0],[0,0,-1]]),e2=new MathLib.Conic([[8,0,0],[0,6,0],[0,0,-2]]),p1=new MathLib.Conic([[1,0,0],[0,0,-.5],[0,-.5,0]]),p2=new MathLib.Conic([[2,0,0],[0,0,-1],[0,-1,0]]),h1=new MathLib.Conic([[4,0,0],[0,-3,0],[0,0,-1]]),h2=new MathLib.Conic([[8,0,0],[0,-6,0],[0,0,-2]]),deg1=new MathLib.Conic([[1,1,0],[1,1,0],[0,0,-1]]),deg2=new MathLib.Conic([[1,1,0],[1,2,0],[0,0,0]]);equal(c1.eccentricity(),0,"circle.eccentricity() = 0"),equal(c2.eccentricity(),0,"circle.eccentricity() = 0"),equal(e1.eccentricity(),.5,"ellipse.eccentricity()"),equal(e2.eccentricity(),.5,"ellipse.eccentricity()"),equal(p1.eccentricity(),1,"parabola.eccentricity() = 1"),equal(p2.eccentricity(),1,"parabola.eccentricity() = 1"),equal(h1.eccentricity(),Math.sqrt(1+4/3),"hyperbola.eccentricity()"),equal(h2.eccentricity(),Math.sqrt(1+4/3),"hyperbola.eccentricity()"),equal(deg1.eccentricity(),void 0,"degeneratedConic.eccentricity() = undefined"),equal(deg2.eccentricity(),void 0,"degeneratedConic.eccentricity() = undefined")}),test(".isDegenerated()",5,function(){var c=new MathLib.Conic([[1,0,0],[0,1,0],[0,0,-1]]),e=new MathLib.Conic([[4,0,0],[0,3,0],[0,0,-1]]),p=new MathLib.Conic([[1,0,0],[0,0,-.5],[0,-.5,0]]),h=new MathLib.Conic([[4,0,0],[0,-3,0],[0,0,-1]]),deg=new MathLib.Conic([[1,0,0],[0,0,0],[0,0,0]],[[0,0,0],[0,1,1],[0,1,1]]);equal(c.isDegenerated(),!1,".isDegenerated(hyperbola) = false"),equal(e.isDegenerated(),!1,".isDegenerated(ellipse) = false"),equal(p.isDegenerated(),!1,".isDegenerated(parabola) = false"),equal(h.isDegenerated(),!1,".isDegenerated(hyperbola) = false"),equal(deg.isDegenerated(),!0,".isDegenerated(degenerated conic) = true")}),test(".isEqual()",4,function(){var c1=new MathLib.Conic([[1,0,0],[0,1,0],[0,0,1]]),c2=new MathLib.Conic([[1,0,0],[0,1,0],[0,0,1]]),c3=new MathLib.Conic([[2,0,0],[0,2,0],[0,0,2]]),c4=new MathLib.Conic([[1,0,0],[0,1,0],[0,0,2]]);equal(c1.isEqual(c1),!0,"same variable"),equal(c1.isEqual(c2),!0,"identical conic"),equal(c1.isEqual(c3),!0,"scaled parameters"),equal(c1.isEqual(c4),!1,"different conic")}),test(".latusRectum()",10,function(){var c1=new MathLib.Conic([[1,0,0],[0,1,0],[0,0,-1]]),c2=new MathLib.Conic([[2,0,0],[0,2,0],[0,0,-2]]),e1=new MathLib.Conic([[4,0,0],[0,3,0],[0,0,-1]]),e2=new MathLib.Conic([[8,0,0],[0,6,0],[0,0,-2]]),p1=new MathLib.Conic([[1,0,0],[0,0,-.5],[0,-.5,0]]),p2=new MathLib.Conic([[2,0,0],[0,0,-1],[0,-1,0]]),h1=new MathLib.Conic([[4,0,0],[0,-3,0],[0,0,-1]]),h2=new MathLib.Conic([[8,0,0],[0,-6,0],[0,0,-2]]),deg1=new MathLib.Conic([[1,1,0],[1,1,0],[0,0,-1]]),deg2=new MathLib.Conic([[1,1,0],[1,2,0],[0,0,0]]);equal(c1.latusRectum(),2,"circle.latusRectum()"),equal(c2.latusRectum(),2,"circle.latusRectum()"),equal(e1.latusRectum(),4/3,"ellipse.latusRectum()"),equal(e2.latusRectum(),4/3,"ellipse.latusRectum()"),equal(p1.latusRectum(),1,"parabola.latusRectum()"),equal(p2.latusRectum(),1,"parabola.latusRectum()"),equal(h1.latusRectum(),4/3,"hyperbola.latusRectum()"),equal(h2.latusRectum(),4/3,"hyperbola.latusRectum()"),equal(deg1.latusRectum(),void 0,"degeneratedConic.latusRectum() = undefined"),equal(deg2.latusRectum(),void 0,"degeneratedConic.latusRectum() = undefined")}),test(".linearEccentricity()",10,function(){var c1=new MathLib.Conic([[1,0,0],[0,1,0],[0,0,-1]]),c2=new MathLib.Conic([[2,0,0],[0,2,0],[0,0,-2]]),e1=new MathLib.Conic([[4,0,0],[0,3,0],[0,0,-1]]),e2=new MathLib.Conic([[8,0,0],[0,6,0],[0,0,-2]]),p1=new MathLib.Conic([[1,0,0],[0,0,-.5],[0,-.5,0]]),p2=new MathLib.Conic([[2,0,0],[0,0,-1],[0,-1,0]]),h1=new MathLib.Conic([[4,0,0],[0,-3,0],[0,0,-1]]),h2=new MathLib.Conic([[8,0,0],[0,-6,0],[0,0,-2]]),deg1=new MathLib.Conic([[1,1,0],[1,1,0],[0,0,-1]]),deg2=new MathLib.Conic([[1,1,0],[1,2,0],[0,0,0]]);equal(c1.linearEccentricity(),0,"circle.linearEccentricity()"),equal(c2.linearEccentricity(),0,"circle.linearEccentricity()"),equal(e1.linearEccentricity(),.28867513459481287,"ellipse.linearEccentricity()"),equal(e2.linearEccentricity(),.28867513459481287,"ellipse.linearEccentricity()"),equal(p1.linearEccentricity(),.25,"parabola.linearEccentricity()"),equal(p2.linearEccentricity(),.25,"parabola.linearEccentricity()"),equal(h1.linearEccentricity(),Math.sqrt(1/3+.25),"hyperbola.linearEccentricity()"),equal(h2.linearEccentricity(),Math.sqrt(1/3+.25),"hyperbola.linearEccentricity()"),equal(deg1.linearEccentricity(),void 0,"degeneratedConic.linearEccentricity() = undefined"),equal(deg2.linearEccentricity(),void 0,"degeneratedConic.linearEccentricity() = undefined")}),test(".meet()",28,function(){var i,ii,meetingPoints,line=new MathLib.Line([-1,1,0]),conics=[];for(conics.push(new MathLib.Conic([[1,0,0],[0,1,0],[0,0,-1]])),conics.push(new MathLib.Conic([[4,0,0],[0,3,0],[0,0,-1]])),conics.push(new MathLib.Conic([[1,0,0],[0,0,-.5],[0,-.5,0]])),conics.push(new MathLib.Conic([[4,0,0],[0,-3,0],[0,0,-1]])),conics.push(new MathLib.Conic([[1,1,0],[1,1,0],[0,0,-1]])),conics.push(new MathLib.Conic([[1,1,0],[1,2,0],[0,0,0]])),conics.push(new MathLib.Conic([[1,0,0],[0,0,0],[0,0,0]],[[0,0,0],[0,1,0],[0,0,1]])),i=0,ii=conics.length;ii>i;i++)meetingPoints=conics[i].meet(line),ok(MathLib.isEqual(meetingPoints[0].scalarProduct(line),0),"line goes through first meeting point"),ok(MathLib.isEqual(meetingPoints[1].scalarProduct(line),0),"line goes through second meeting point"),ok(MathLib.isEqual(meetingPoints[0].times(conics[i].primal).scalarProduct(meetingPoints[0]),0),"conic goes through first meeting point"),ok(MathLib.isEqual(meetingPoints[1].times(conics[i].primal).scalarProduct(meetingPoints[1]),0),"conic goes through second meeting point")}),test(".normalize()",30,function(){var i,cp,np,C=[],N=[],c1=new MathLib.Conic([[1,1,0],[1,1,0],[0,0,-1]]),n1=c1.normalize(),c2=new MathLib.Conic([[4,0,0],[0,3,0],[0,0,-1]]),n2=c2.normalize(),c3=new MathLib.Conic([[4,0,0],[0,3,0],[0,0,-1]]),n3=c3.normalize(),c4=new MathLib.Conic([[-4,0,0],[0,0,2],[0,2,8]]),n4=c4.normalize(),c1Deg=new MathLib.Conic([[0,0,0],[0,0,0],[0,0,1]],[[1,0,0],[0,1,0],[0,0,1]]),n1Deg=c1Deg.normalize(),a=Math.random()-.5,b=Math.random()-.5,c=Math.random()-.5,d=Math.random()-.5,e=Math.random()-.5,f=Math.random()-.5,Conic=new MathLib.Conic([[a,b,d],[b,c,e],[d,e,f]]);for(C.push(c1),N.push(n1),C.push(c2),N.push(n2),C.push(c3),N.push(n3),C.push(c4),N.push(n4),C.push(c1Deg),N.push(n1Deg),C.push(Conic),N.push(Conic.normalize()),i=0;i<C.length;i++)cp=C[i].primal,np=N[i].primal,equal(cp.rank(),np.rank(),!0,"rank is invariant"),equal(np[0][1],0,"b is 0"),equal(0===np[2][2]||-1===np[2][2],!0,"f is 0 or -1"),equal(np[0][0]*np[0][2],0,"a or d is 0"),equal(np[1][1]*np[1][2],0,"c or e is 0")}),test(".polarity()",14,function(){var q=new MathLib.Point([2,1,1]),l=new MathLib.Line([1,2,1]),c=new MathLib.Conic([[1,0,0],[0,1,0],[0,0,-1]]),e=new MathLib.Conic([[4,0,0],[0,3,0],[0,0,-1]]),p=new MathLib.Conic([[1,0,0],[0,0,-.5],[0,-.5,0]]),h=new MathLib.Conic([[4,0,0],[0,-3,0],[0,0,-1]]),deg1=new MathLib.Conic([[1,1,0],[1,1,0],[0,0,-1]]),deg2=new MathLib.Conic([[1,1,0],[1,2,0],[0,0,0]]),deg3=new MathLib.Conic([[1,0,0],[0,0,0],[0,0,0]],[[0,0,0],[0,1,0],[0,0,1]]);ok(MathLib.isEqual(c.polarity(q),new MathLib.Line([2,1,-1])),"circle.polarity()"),ok(MathLib.isEqual(c.polarity(l),new MathLib.Point([1,2,-1])),"circle.polarity()"),ok(MathLib.isEqual(e.polarity(q),new MathLib.Line([8,3,-1])),"ellipse.polarity()"),ok(MathLib.isEqual(e.polarity(l),new MathLib.Point([.25,2/3,-1])),"ellipse.polarity()"),ok(MathLib.isEqual(p.polarity(q),new MathLib.Line([2,-.5,-.5])),"parabola.polarity()"),ok(MathLib.isEqual(p.polarity(l),new MathLib.Point([-.25,.5,1])),"parabola.polarity()"),ok(MathLib.isEqual(h.polarity(q),new MathLib.Line([8,-3,-1])),"hyperbola.polarity()"),ok(MathLib.isEqual(h.polarity(l),new MathLib.Point([.25,-2/3,-1])),"hyperbola.polarity()"),ok(MathLib.isEqual(deg1.polarity(q),new MathLib.Line([3,3,-1])),"degeneratedConic.polarity()"),ok(MathLib.isEqual(deg1.polarity(l),new MathLib.Point([1,-1,0])),"degeneratedConic.polarity()"),ok(MathLib.isEqual(deg2.polarity(q),new MathLib.Line([3,4,0])),"degeneratedConic.polarity()"),ok(MathLib.isEqual(deg2.polarity(l),new MathLib.Point([0,0,1])),"degeneratedConic.polarity()"),ok(MathLib.isEqual(deg3.polarity(q),new MathLib.Line([2,0,0])),"degeneratedConic.polarity()"),ok(MathLib.isEqual(deg3.polarity(l),new MathLib.Point([0,2,1])),"degeneratedConic.polarity()")}),test(".splitDegenerated()",4,function(){var c1=new MathLib.Conic([[1,0,0],[0,1,0],[0,0,1]]),c2=new MathLib.Conic([[1,0,0],[0,1,0],[0,0,0]]),c3=new MathLib.Conic([[1,1,0],[1,1,0],[0,0,0]]),c4=new MathLib.Conic([[1,0,0],[0,0,0],[0,0,0]]);equal(c1.splitDegenerated(),void 0,"rank 3 conic"),deepEqual(c2.splitDegenerated(),[new MathLib.Line([1,1,0]),new MathLib.Line([1,-1,0])],"rank 2 conic"),deepEqual(c3.splitDegenerated(),[new MathLib.Line([1,1,0]),new MathLib.Line([1,1,0])],"rank 1 conic"),deepEqual(c4.splitDegenerated(),[new MathLib.Line([1,0,0]),new MathLib.Line([1,0,0])],"rank 1 conic")}),test(".throughFivePoints()",5,function(){var p1=new MathLib.Point([Math.random(),Math.random(),1]),p2=new MathLib.Point([Math.random(),Math.random(),1]),p3=new MathLib.Point([Math.random(),Math.random(),1]),p4=new MathLib.Point([Math.random(),Math.random(),1]),p5=new MathLib.Point([Math.random(),Math.random(),1]),conic=MathLib.Conic.throughFivePoints(p1,p2,p3,p4,p5);ok(MathLib.isEqual(p1.times(conic.primal).scalarProduct(p1),0),"conic goes through first point"),ok(MathLib.isEqual(p2.times(conic.primal).scalarProduct(p2),0),"conic goes through second point"),ok(MathLib.isEqual(p3.times(conic.primal).scalarProduct(p3),0),"conic goes through third point"),ok(MathLib.isEqual(p4.times(conic.primal).scalarProduct(p4),0),"conic goes through fourth point"),ok(MathLib.isEqual(p5.times(conic.primal).scalarProduct(p5),0),"conic goes through fifth point")}),module("Expression"),test("init",2,function(){var e1=new MathLib.Expression("sin(1)"),e2=new MathLib.Expression({value:1,subtype:"number"});equal(e1.subtype,"functionCall","init (string)"),equal(e2.subtype,"number","init (object)")}),test(".constructor",1,function(){var e=new MathLib.Expression;equal(e.constructor,MathLib.Expression,"Testing .constructor")}),test(".type",1,function(){var e=new MathLib.Expression;equal(e.type,"expression","Testing .type")}),test(".compare()",3,function(){var e1=new MathLib.Expression("sin(42)"),e2=new MathLib.Expression("sin(42)"),e3=new MathLib.Expression("cos(42)"),e4=new MathLib.Expression("tan(42)");equal(e1.compare(e2),0,".compare()"),equal(e1.compare(e3),1,".compare()"),equal(e1.compare(e4),-1,".compare()")}),test(".parse (Number)",11,function(){equal(MathLib.Expression.parse("123").value,123,'.parse("123")'),equal(MathLib.Expression.parse("123.").value,123,'.parse("123.")'),equal(MathLib.Expression.parse(".456").value,.456,'.parse(".456")'),equal(MathLib.Expression.parse("123.456e7").value,123456e4,'.parse("123.456e7")'),equal(MathLib.Expression.parse("123.456E7").value,123456e4,'.parse("123.456eE7")'),equal(MathLib.Expression.parse("123.456e+7").value,123456e4,'.parse("123.456e+7")'),equal(MathLib.Expression.parse("123.456E+7").value,123456e4,'.parse("123.456E+7")'),equal(MathLib.Expression.parse("123.456e-7").value,123456e-10,'.parse("123.456e-7")'),equal(MathLib.Expression.parse("123.456E-7").value,123456e-10,'.parse("123.456E-7")');var num=MathLib.Expression.parse("123");equal(num.type,"expression"),equal(num.subtype,"number")}),test(".parse (unaryOperator)",4,function(){var unary=MathLib.Expression.parse("-12");equal(unary.subtype,"unaryOperator"),equal(unary.value,"-"),equal(MathLib.Expression.parse("+12").evaluate(),12,'.parse("12+34")'),equal(MathLib.Expression.parse("-12").evaluate(),-12,'.parse("12*34")')}),test(".parse (binaryOperator)",10,function(){equal(MathLib.Expression.parse("12+34").evaluate(),46,'.parse("12+34")'),equal(MathLib.Expression.parse("12*34").evaluate(),408,'.parse("12*34")'),equal(MathLib.Expression.parse("65-43-21").evaluate(),1,'.parse("65-43-21")'),equal(MathLib.Expression.parse("12*34+56").evaluate(),464,'.parse("12*34+56")'),equal(MathLib.Expression.parse("12+34*56").evaluate(),1916,'.parse("12+34*56")'),equal(MathLib.Expression.parse("12*34/6").evaluate(),68,'.parse("12*34/6")'),equal(MathLib.Expression.parse("12/3*4").evaluate(),16,'.parse("12/3*4")'),equal(MathLib.Expression.parse("12/3/4").evaluate(),1,'.parse("12/3/4")'),equal(MathLib.Expression.parse("36/2/3/6").evaluate(),1,'.parse("36/2/3/6")'),equal(MathLib.Expression.parse("36/2/3/2/3").evaluate(),1,'.parse("36/2/3/2/3")')}),test(".parse (brackets)",3,function(){var br=MathLib.Expression.parse("(1)");equal(br.subtype,"brackets"),equal(br.value,"brackets"),deepEqual(br.content.value,"1")}),test(".parse (functionCall)",3,function(){var fn=MathLib.Expression.parse("cos(1)");equal(fn.subtype,"functionCall"),equal(fn.value,"cos"),deepEqual(fn.content[0].value,"1")}),test(".parse() boolean",8,function(){equal(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><apply><and/><true/><true/></apply></math>').evaluate(),!0,"</and> true true"),equal(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><apply><and/><true/><false/><true/></apply></math>').evaluate(),!1,"</and> true false true"),equal(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><apply><or/><false/><false/></apply></math>').evaluate(),!1,"</or> false false"),equal(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><apply><or/><true/><false/><true/></apply></math>').evaluate(),!0,"</or> true false true"),equal(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><apply><xor/><false/><true/></apply></math>').evaluate(),!0,"</xor> false false"),equal(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><apply><xor/><true/><false/><true/></apply></math>').evaluate(),!1,"</xor> true false true"),equal(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><apply><not/><false/></apply></math>').evaluate(),!0,"</not> false"),equal(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><apply><not/><true/></apply></math>').evaluate(),!1,"</not> true")}),test(".parse() ci",1,function(){MathLib.Expression.variables.n=42,deepEqual(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><ci>n</ci></math>').evaluate(),42,".parse() ci")}),test(".parse() cs",1,function(){equal(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><cs>MathLib.js - A mathematical JavaScript library</cs></math>').evaluate(),"MathLib.js - A mathematical JavaScript library",".parse() cs")}),test(".parse() cn",5,function(){deepEqual(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><cn>+34</cn></math>').evaluate(),34,".parse() a normal number"),deepEqual(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><cn>34.2</cn></math>').evaluate(),34.2,".parse() a normal number"),deepEqual(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><cn>.123</cn></math>').evaluate(),.123,".parse() a normal number"),deepEqual(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><cn>+34E-12</cn></math>').evaluate(),3.4e-11,".parse() a normal number"),deepEqual(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><cn>+34.345E-12</cn></math>').evaluate(),3.4345e-11,".parse() a normal number")}),test(".parse() complex",3,function(){deepEqual(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><cn type="complex-cartesian">3<sep/>4</cn></math>').evaluate(),new MathLib.Complex(3,4),".parse() complex (cartesian)"),ok(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><cn type="complex-polar">1<sep/>3.141592653589793</cn></math>').evaluate().isEqual(new MathLib.Complex(-1,0)),".parse() complex (polar)"),ok(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><cn type="complex-polar">1<sep/><pi/></cn></math>').evaluate().isEqual(new MathLib.Complex(-1,0)),".parse() complex (polar)")}),test(".parse() rational",1,function(){deepEqual(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><cn type="rational">3<sep/>4</cn></math>').evaluate(),new MathLib.Rational(3,4),".parse() rational")}),test(".parse() function constructing",3,function(){var expsin=MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><lambda><bvar><ci>x</ci></bvar><domainofapplication><complexes/></domainofapplication><apply><exp/><apply><sin/><ci>x</ci></apply></apply></lambda></math>').evaluate();deepEqual(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><lambda><bvar><ci>x</ci></bvar><domainofapplication><complexes/></domainofapplication><apply><sin/><ci>x</ci></apply></lambda></math>').evaluate()(0),0,".evaluate() sin"),deepEqual(expsin(0),1,"exp(sin(0)) = 1"),deepEqual(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><lambda><bvar>x</bvar><domainofapplication><complexes/></domainofapplication><apply><ident/><ci>x</ci></apply></lambda></math>').evaluate()(42),42,"The identity function")}),test(".parse() function evaluation",4,function(){deepEqual(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><apply><sin/><cn>42</cn></apply></math>').evaluate(),Math.sin(42),".evaluate() apply"),deepEqual(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><apply><plus/><cn>1</cn><cn>2</cn><cn>3</cn></apply></math>').evaluate(),6,"plus"),deepEqual(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><apply><ln/><cn>42</cn></apply></math>').evaluate(),Math.log(42),".evaluate() apply"),deepEqual(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><apply><factorial/><cn>6</cn></apply></math>').evaluate(),720,"factorial")}),test(".parse() matrix",2,function(){deepEqual(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><matrix><matrixrow><cn>1</cn><cn>0</cn><cn>0</cn></matrixrow><matrixrow><cn>0</cn><cn>1</cn><cn>0</cn></matrixrow><matrixrow><cn>0</cn><cn>0</cn><cn>1</cn></matrixrow></matrix></math>').evaluate(),new MathLib.Matrix([[1,0,0],[0,1,0],[0,0,1]]),".evaluate() matrix"),deepEqual(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><apply><determinant/><matrix><matrixrow><cn>8</cn><cn>1</cn><cn>6</cn></matrixrow><matrixrow><cn>3</cn><cn>5</cn><cn>7</cn></matrixrow><matrixrow><cn>4</cn><cn>9</cn><cn>2</cn></matrixrow></matrix></apply></math>').evaluate(),-360,".evaluate() apply")}),test(".parse() set",3,function(){deepEqual(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><set><cn>1</cn><cn>2</cn><cn>3</cn><cn>4</cn><cn>5</cn><cn>6</cn><cn>7</cn><cn>8</cn><cn>9</cn><cn>10</cn></set></math>').evaluate(),MathLib.Set.fromTo(1,10),"set containing numbers"),deepEqual(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><apply><union/><set><cn>1</cn><cn>2</cn></set><set><cn>2</cn><cn>3</cn></set></apply></math>').evaluate(),new MathLib.Set([1,2,3]),"set union"),deepEqual(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><set><cs>A</cs><cs>B</cs><cs> </cs></set></math>').evaluate(),new MathLib.Set(["A","B"," "]),"set containing variables")
}),test(".parse() vector",1,function(){deepEqual(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><vector><cn>1</cn><cn>2</cn><cn>3</cn></vector></math>').evaluate(),new MathLib.Vector([1,2,3]),"vector")}),test("whitespaces",1,function(){var mathML=MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML">\n<set>	<cn>  123  </cn><cs> String with spaces </cs> </set>	</math>');equal(mathML.toString(),'{123, " String with spaces "}')}),test(".toContentMathML",8,function(){equal(MathLib.Expression.parse("123.456E-7").toContentMathML(),"<cn>123.456E-7</cn>",'("123.456E-7").toContentMathML()'),equal(MathLib.Expression.parse("1+2").toContentMathML(),'<apply><csymbol cd="arith1">plus</csymbol><cn>1</cn><cn>2</cn></apply>','("1+2").toContentMathML()'),equal(MathLib.Expression.parse("(1+2)*3").toContentMathML(),'<apply><csymbol cd="arith1">times</csymbol><apply><csymbol cd="arith1">plus</csymbol><cn>1</cn><cn>2</cn></apply><cn>3</cn></apply>','("(1+2)*3").toContentMathML()'),equal(MathLib.Expression.parse("2-3-4").toContentMathML(),'<apply><csymbol cd="arith1">minus</csymbol><apply><csymbol cd="arith1">minus</csymbol><cn>2</cn><cn>3</cn></apply><cn>4</cn></apply>','("2-3-4").toContentMathML()'),equal(MathLib.Expression.parse("2/3/4").toContentMathML(),'<apply><csymbol cd="arith1">divide</csymbol><apply><csymbol cd="arith1">divide</csymbol><cn>2</cn><cn>3</cn></apply><cn>4</cn></apply>','("2/3/4").toContentMathML()'),equal(MathLib.Expression.parse("2^3^4").toContentMathML(),'<apply><csymbol cd="arith1">power</csymbol><cn>2</cn><apply><csymbol cd="arith1">power</csymbol><cn>3</cn><cn>4</cn></apply></apply>','("2^3^4").toContentMathML()'),equal(MathLib.Expression.parse("sin(1)").toContentMathML(),'<apply><csymbol cd="transc1">sin</csymbol><cn>1</cn></apply>','("sin(1)").toContentMathML()'),equal(MathLib.Expression.parse("sin(1)+cos(exp(2)*3)").toContentMathML(),'<apply><csymbol cd="arith1">plus</csymbol><apply><csymbol cd="transc1">sin</csymbol><cn>1</cn></apply><apply><csymbol cd="transc1">cos</csymbol><apply><csymbol cd="arith1">times</csymbol><apply><csymbol cd="transc1">exp</csymbol><cn>2</cn></apply><cn>3</cn></apply></apply></apply>','("sin(1)+cos(exp(2)*3)").toContentMathML()')}),test(".toLaTeX",17,function(){equal(MathLib.Expression.parse("123.456E-7").toLaTeX(),"123.456E-7",'("123.456E-7").toLaTeX()'),equal(MathLib.Expression.parse("1+2").toLaTeX(),"1+2",'("1+2").toLaTeX()'),equal(MathLib.Expression.parse("(1+2)*3").toLaTeX(),"\\left(1+2\\right)\\cdot3",'("(1+2)*3").toLaTeX()'),equal(MathLib.Expression.parse("2-3-4").toLaTeX(),"2-3-4",'("2-3-4").toLaTeX()'),equal(MathLib.Expression.parse("2/3/4").toLaTeX(),"\\frac{\\frac{2}{3}}{4}",'("2/3/4").toLaTeX()'),equal(MathLib.Expression.parse("2^3^4").toLaTeX(),"2^{3^{4}}",'("2^3^4").toLaTeX()'),equal(MathLib.Expression.parse("sin(1)").toLaTeX(),"\\sin\\left(1\\right)",'("sin(1)").toLaTeX()'),equal(MathLib.Expression.parse("exp(1)").toLaTeX(),"e^{1}",'("exp(1)").toLaTeX()'),equal(MathLib.Expression.parse("sqrt(1)").toLaTeX(),"\\sqrt{1}",'("sqrt(1)").toLaTeX()'),equal(MathLib.Expression.parse("arsinh(1)").toLaTeX(),"\\operatorname{arsinh}\\left(1\\right)",'("arsinh(1)").toLaTeX()'),equal(MathLib.Expression.parse("sin(1)+cos(exp(2)*3)").toLaTeX(),"\\sin\\left(1\\right)+\\cos\\left(e^{2}\\cdot3\\right)",'("sin(1)+cos(exp(2)*3)").toLaTeX()'),equal(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><cs>MathLib.js - A mathematical JavaScript library</cs></math>').toLaTeX(),'\\texttt{"{}MathLib.js - A mathematical JavaScript library"}',".toLaTeX() cs"),equal(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><cn type="complex-cartesian">2<sep/>3</cn></math>').toLaTeX(),"2+3i",".toLaTeX() complex"),equal(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><cn type="rational">3<sep/>4</cn></math>').toLaTeX(),"\\frac{3}{4}",".toLaTeX() rational"),equal(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><matrix><matrixrow><cn>1</cn><cn>2</cn></matrixrow><matrixrow><cn>3</cn><cn>4</cn></matrixrow><matrixrow><cn>5</cn><cn>6</cn></matrixrow></matrix></math>').toLaTeX(),"\\begin{pmatrix}1&2\\\\3&4\\\\5&6\\end{pmatrix}",".toLaTeX() matrix"),equal(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><set><cn>1</cn><cn>2</cn><cn>3</cn></set></math>').toLaTeX(),"\\left{1, 2, 3\\right}",".toLaTeX() set"),equal(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><vector><cn>1</cn><cn>2</cn><cn>3</cn></vector></math>').toLaTeX(),"\\begin{pmatrix}1\\\\2\\\\3\\end{pmatrix}","toLaTeX() vector")}),test(".toMathML",14,function(){equal(MathLib.Expression.parse("123.456E-7").toMathML(),"<mn>123.456E-7</mn>",'("123.456E-7").toMathML()'),equal(MathLib.Expression.parse("1+2").toMathML(),"<mrow><mn>1</mn><mo>+</mo><mn>2</mn></mrow>",'("1+2").toMathML()'),equal(MathLib.Expression.parse("(1+2)*3").toMathML(),"<mrow><mrow><mo>(</mo><mrow><mn>1</mn><mo>+</mo><mn>2</mn></mrow><mo>)</mo></mrow><mo>&middot;</mo><mn>3</mn></mrow>",'("(1+2)*3").toMathML()'),equal(MathLib.Expression.parse("2-3-4").toMathML(),"<mn>2</mn><mo>-</mo><mn>3</mn><mo>-</mo><mn>4</mn>",'("2-3-4").toMathML()'),equal(MathLib.Expression.parse("2/3/4").toMathML(),"<mfrac><mfrac><mn>2</mn><mn>3</mn></mfrac><mn>4</mn></mfrac>",'("2/3/4").toMathML()'),equal(MathLib.Expression.parse("2^3^4").toMathML(),"<msup><mn>2</mn><msup><mn>3</mn><mn>4</mn></msup></msup>",'("2^3^4").toMathML()'),equal(MathLib.Expression.parse("sin(1)").toMathML(),"<mrow><mi>sin</mi><mo>&af;</mo><mrow><mo>(</mo><mn>1</mn><mo>)</mo></mrow></mrow>",'("sin(1)").toMathML()'),equal(MathLib.Expression.parse("sin(1)+cos(exp(2)*3)").toMathML(),"<mrow><mrow><mi>sin</mi><mo>&af;</mo><mrow><mo>(</mo><mn>1</mn><mo>)</mo></mrow></mrow><mo>+</mo><mrow><mi>cos</mi><mo>&af;</mo><mrow><mo>(</mo><mrow><mrow><mi>exp</mi><mo>&af;</mo><mrow><mo>(</mo><mn>2</mn><mo>)</mo></mrow></mrow><mo>&middot;</mo><mn>3</mn></mrow><mo>)</mo></mrow></mrow></mrow>",'("sin(1)+cos(exp(2)*3)").toMathML()'),equal(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><cs>MathLib.js - A mathematical JavaScript library</cs></math>').toMathML(),"<ms>MathLib.js - A mathematical JavaScript library</ms>",".toMathML() cs"),equal(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><cn type="complex-cartesian">2<sep/>3</cn></math>').toMathML(),"<mrow><mn>2</mn><mo>+</mo><mn>3</mn><mi>i</mi></mrow>",".toMathML() complex"),equal(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><cn type="rational">3<sep/>4</cn></math>').toMathML(),"<mfrac><mn>3</mn><mn>4</mn></mfrac>",".toMathML() rational"),equal(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><matrix><matrixrow><cn>1</cn><cn>2</cn></matrixrow><matrixrow><cn>3</cn><cn>4</cn></matrixrow><matrixrow><cn>5</cn><cn>6</cn></matrixrow></matrix></math>').toMathML(),"<mrow><mo>(</mo><mtable><mtr><mtd><mn>1</mn></mtd><mtd><mn>2</mn></mtd></mtr><mtr><mtd><mn>3</mn></mtd><mtd><mn>4</mn></mtd></mtr><mtr><mtd><mn>5</mn></mtd><mtd><mn>6</mn></mtd></mtr></mtable><mo>)</mo></mrow>",".toMathML() matrix"),equal(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><set><cn>1</cn><cn>2</cn><cn>3</cn></set></math>').toMathML(),"<mrow><mo>{</mo><mn>1</mn><mo>,</mo><mn>2</mn><mo>,</mo><mn>3</mn><mo>}</mo></mrow>",".toMathML() set"),equal(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><vector><cn>1</cn><cn>2</cn><cn>3</cn></vector></math>').toMathML(),"<mrow><mo>(</mo><mtable><mtr><mtd><mn>1</mn></mtd></mtr><mtr><mtd><mn>2</mn></mtd></mtr><mtr><mtd><mn>3</mn></mtd></mtr></mtable><mo>)</mo></mrow>","toMathML() vector")}),test(".toString",14,function(){equal(MathLib.Expression.parse("123.456E-7").toString(),"123.456E-7",'("123.456E-7").toString()'),equal(MathLib.Expression.parse("1+2").toString(),"1+2",'("1+2").toString()'),equal(MathLib.Expression.parse("(1+2)*3").toString(),"(1+2)*3",'("(1+2)*3").toString()'),equal(MathLib.Expression.parse("2-3-4").toString(),"2-3-4",'("2-3-4").toString()'),equal(MathLib.Expression.parse("2/3/4").toString(),"2/3/4",'("2/3/4").toString()'),equal(MathLib.Expression.parse("2^3^4").toString(),"2^3^4",'("2^3^4").toString()'),equal(MathLib.Expression.parse("sin(1)").toString(),"sin(1)",'("sin(1)").toString()'),equal(MathLib.Expression.parse("sin(1)+cos(exp(2)*3)").toString(),"sin(1)+cos(exp(2)*3)",'("sin(1)+cos(exp(2)*3)").toString()'),equal(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><cs>MathLib.js - A mathematical JavaScript library</cs></math>').toString(),'"MathLib.js - A mathematical JavaScript library"',".toString() cs"),equal(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><cn type="complex-cartesian">2<sep/>3</cn></math>').toString(),"2+3i",".toString() complex"),equal(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><cn type="rational">3<sep/>4</cn></math>').toString(),"3/4",".parse() rational"),equal(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><matrix><matrixrow><cn>1</cn><cn>2</cn></matrixrow><matrixrow><cn>3</cn><cn>4</cn></matrixrow><matrixrow><cn>5</cn><cn>6</cn></matrixrow></matrix></math>').toString(),"⎛1	2⎞\n⎜3	4⎟\n⎝5	6⎠",".evaluate() matrix"),equal(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><set><cn>1</cn><cn>2</cn><cn>3</cn></set></math>').toString(),"{1, 2, 3}",".toString() set"),equal(MathLib.Expression.parseContentMathML('<math xmlns="http://www.w3.org/1998/Math/MathML"><vector><cn>1</cn><cn>2</cn><cn>3</cn></vector></math>').toString(),"(1, 2, 3)","toString() vector")}),module("Functn"),test("execution",4,function(){equal(MathLib.sin(0),0,"MathLib.sin(0) should be 0"),equal(MathLib.exp(MathLib.sin)(0),1,"MathLib.exp(MathLib.sin)(0) should be 1"),equal(MathLib.plus(MathLib.sin,2)(0),2,"sin(0) + 2"),equal(MathLib.plus(MathLib.times(MathLib.sin,MathLib.sin),MathLib.times(MathLib.cos,MathLib.cos))(42),1,"sin(42)^2 + cos(42)^2 = 1")}),test(".constructor",1,function(){equal(MathLib.sin.constructor,MathLib.Functn,"Testing .constructor")}),test(".type",4,function(){equal(MathLib.sin.type,"functn","MathLib.sin.type should be functn"),equal(MathLib.exp(MathLib.sin).type,"functn","MathLib.exp(MathLib.sin).type should be functn"),equal(MathLib.plus(1,MathLib.cos).type,"functn","MathLib.plus(1, MathLib.cos).type should be functn"),equal(MathLib.plus(MathLib.cos,1).type,"functn","MathLib.plus(MathLib.cos, 1).type should be functn")}),test(".abs()",7,function(){equal(MathLib.isNaN(MathLib.abs(0/0)),!0,"Spec. 1: MathLib.abs(NaN) = NaN"),equal(MathLib.isPosZero(MathLib.abs(0)),!0,"Spec. 2: MathLib.abs(+0) = +0"),equal(MathLib.isPosZero(MathLib.abs(-0)),!0,"Spec. 3: MathLib.abs(-0) = +0"),equal(MathLib.abs(+1/0),+1/0,"Spec. 4: MathLib.abs(+∞) = ∞"),equal(MathLib.abs(-1/0),+1/0,"Spec. 5: MathLib.abs(-∞) = ∞"),equal(MathLib.abs(1),1,"Spec. 6: otherwise MathLib.abs(x) = absolute value of x"),equal(MathLib.abs(-1),1,"Spec. 6: otherwise MathLib.abs(x) =  absolute value of x")}),test(".and()",14,function(){equal(MathLib.and(),!0),equal(MathLib.and([]),!0),equal(MathLib.and(!0),!0),equal(MathLib.and([!0]),!0),equal(MathLib.and(!1),!1),equal(MathLib.and([!1]),!1),equal(MathLib.and(!0,!0),!0,"true and true = true"),equal(MathLib.and([!0,!0]),!0,"true and true = true"),equal(MathLib.and(!0,!1),!1,"true and false = false"),equal(MathLib.and([!0,!1]),!1,"true and false = false"),equal(MathLib.and(!1,!0),!1,"false and true = false"),equal(MathLib.and([!1,!0]),!1,"false and true = false"),equal(MathLib.and(!1,!1),!1,"false and false = false"),equal(MathLib.and([!1,!1]),!1,"false and false = false")}),test(".arccos()",8,function(){equal(MathLib.isNaN(MathLib.arccos(0/0)),!0,"Spec. 1: MathLib.arccos(NaN) = NaN"),equal(MathLib.isNaN(MathLib.arccos(+1/0)),!0,"Spec. 2: MathLib.arccos(x) = NaN if x>1"),equal(MathLib.isNaN(MathLib.arccos(2)),!0,"Spec. 2: MathLib.arccos(x) = NaN if x>1"),equal(MathLib.isNaN(MathLib.arccos(-1/0)),!0,"Spec. 3: MathLib.arccos(x) = NaN if x<-1"),equal(MathLib.isNaN(MathLib.arccos(-2)),!0,"Spec. 3: MathLib.arccos(x) = NaN if x<-1"),equal(MathLib.arccos(1),0,"Spec. 4: otherwise MathLib.arccos(x) = inverse cosine of x"),equal(MathLib.arccos(0),Math.PI/2,"Spec. 4: otherwise MathLib.arccos(x) = inverse cosine of x"),equal(MathLib.arccos(-1),Math.PI,"Spec. 4: otherwise MathLib.arccos(x) = inverse cosine of x")}),test(".arccot()",6,function(){equal(MathLib.isNaN(MathLib.arccot(0/0)),!0,"Spec. 1: MathLib.arccot(NaN) = NaN"),equal(MathLib.isPosZero(MathLib.arccot(+1/0)),!0,"Spec. 2: MathLib.arccot(+∞) = +0"),equal(MathLib.arccot(-1/0),Math.PI,"Spec. 3: MathLib.arccot(-∞) = π"),equal(MathLib.arccot(1),Math.PI/4,"Spec. 4: otherwise MathLib.arccot(x) = inverse cotangent of x"),equal(MathLib.arccot(-0),Math.PI/2,"Spec. 4: otherwise MathLib.arccot(x) = inverse cotangent of x"),equal(MathLib.arccot(0),Math.PI/2,"Spec. 4: otherwise MathLib.arccot(x) = inverse cotangent of x")}),test(".arccsc()",9,function(){equal(MathLib.isNaN(MathLib.arccsc(0/0)),!0,"Spec. 1: MathLib.arccsc(NaN) = NaN"),equal(MathLib.isNaN(MathLib.arccsc(0)),!0,"Spec. 2: MathLib.arccsc(x) = NaN (if -1<x<1)"),equal(MathLib.isNaN(MathLib.arccsc(-0)),!0,"Spec. 2: MathLib.arccsc(x) = NaN (if -1<x<1)"),equal(MathLib.isNaN(MathLib.arccsc(.5)),!0,"Spec. 2: MathLib.arccsc(x) = NaN (if -1<x<1)"),equal(MathLib.isPosZero(MathLib.arccsc(+1/0)),!0,"Spec. 3: MathLib.arccsc(+∞) = +0"),equal(MathLib.isNegZero(MathLib.arccsc(-1/0)),!0,"Spec. 4: MathLib.arccsc(-∞) = -0"),equal(MathLib.arccsc(1),Math.PI/2,"Spec. 5: otherwise MathLib.arccsc(x) = inverse cosecant of x"),equal(MathLib.arccsc(-1),-Math.PI/2,"Spec. 5: otherwise MathLib.arccsc(x) = inverse cosecant of x"),equal(MathLib.arccsc(10),.1001674211615598,"Spec. 5: otherwise MathLib.arccsc(x) = inverse cosecant of x")}),test(".arcosh()",9,function(){equal(MathLib.isNaN(MathLib.arcosh(0/0)),!0,"Spec. 1: MathLib.arcosh(NaN) = NaN"),equal(MathLib.arcosh(+1/0),1/0,"Spec. 2: MathLib.arcosh(+∞) = +∞"),equal(MathLib.isNaN(MathLib.arcosh(-1/0)),!0,"Spec. 3: MathLib.arcosh(-∞) = NaN"),equal(MathLib.isNaN(MathLib.arcosh(-1)),!0,"Spec. 4: otherwise MathLib.arcosh(x) = NaN if x < 1"),equal(MathLib.isNaN(MathLib.arcosh(-0)),!0,"Spec. 4: otherwise MathLib.arcosh(x) = NaN if x < 1"),equal(MathLib.isNaN(MathLib.arcosh(0)),!0,"Spec. 4: otherwise MathLib.arcosh(x) = NaN if x < 1"),equal(MathLib.isPosZero(MathLib.arcosh(1)),!0,"Spec. 5: otherwise MathLib.arcosh(1) = +0"),equal(MathLib.arcosh(2),1.3169578969248166,"Spec. 6: otherwise MathLib.arcosh(x) = inverse hyperbolic cosine of x"),equal(MathLib.arcosh(10),2.993222846126381,"Spec. 6: otherwise MathLib.arcosh(x) = inverse hyperbolic cosine of x")}),test(".arcoth()",11,function(){equal(MathLib.isNaN(MathLib.arcoth(0/0)),!0,"Spec. 1: MathLib.arcoth(NaN) = NaN"),equal(MathLib.isPosZero(MathLib.arcoth(1/0)),!0,"Spec. 2: MathLib.arcoth(+∞) = +0"),equal(MathLib.isNegZero(MathLib.arcoth(-1/0)),!0,"Spec. 3: MathLib.arcoth(-∞) = -0"),equal(MathLib.arcoth(1),1/0,"Spec. 4: MathLib.arcoth(1) = +∞"),equal(MathLib.arcoth(-1),-1/0,"Spec. 5: MathLib.arcoth(-1) = -∞"),equal(MathLib.isNaN(MathLib.arcoth(0)),!0,"Spec. 6: MathLib.arcoth(x) = NaN if x > -1 and x < 1"),equal(MathLib.isNaN(MathLib.arcoth(-0)),!0,"Spec. 6: MathLib.arcoth(x) = NaN if x > -1 and x < 1"),equal(MathLib.isNaN(MathLib.arcoth(.5)),!0,"Spec. 6: MathLib.arcoth(x) = NaN if x > -1 and x < 1"),equal(MathLib.isNaN(MathLib.arcoth(-.5)),!0,"Spec. 6: MathLib.arcoth(x) = NaN if x > -1 and x < 1"),equal(MathLib.arcoth(2),.5493061443340549,"Spec. 9: otherwise MathLib.arcoth(x) = inverse hyperbolic cotangent of x"),equal(MathLib.arcoth(10),.10033534773107562,"Spec. 9: otherwise MathLib.arcoth(x) = inverse hyperbolic cotangent of x")}),test(".arcsch()",7,function(){equal(MathLib.isNaN(MathLib.arcsch(0/0)),!0,"Spec. 1: MathLib.arcsch(NaN) = NaN"),equal(MathLib.arcsch(0),+1/0,"Spec. 2: MathLib.arcsch(+0) = +∞"),equal(MathLib.arcsch(-0),-1/0,"Spec. 3: MathLib.arcsch(-0) = -∞"),equal(MathLib.isPosZero(MathLib.arcsch(+1/0)),!0,"Spec. 4: MathLib.arcsch(+∞) = +0"),equal(MathLib.isNegZero(MathLib.arcsch(-1/0)),!0,"Spec. 5: MathLib.arcsch(-∞) = -0"),equal(MathLib.arcsch(1),.8813735870195429,"Spec. 6: otherwise MathLib.arcsch(x) = inverse hyperbolic cosecant of x"),equal(MathLib.arcsch(10),.09983407889920758,"Spec. 6: otherwise MathLib.arcsch(x) = inverse hyperbolic cosecant of x")}),test(".arcsec()",9,function(){equal(MathLib.isNaN(MathLib.arcsec(0/0)),!0,"Spec. 1: MathLib.arcsec(NaN) = NaN"),equal(MathLib.isNaN(MathLib.arcsec(0)),!0,"Spec. 2: MathLib.arcsec(x) = NaN (if -1<x<1)"),equal(MathLib.isNaN(MathLib.arcsec(-0)),!0,"Spec. 2: MathLib.arcsec(x) = NaN (if -1<x<1)"),equal(MathLib.isNaN(MathLib.arcsec(.5)),!0,"Spec. 2: MathLib.arcsec(x) = NaN (if -1<x<1)"),equal(MathLib.arcsec(+1/0),Math.PI/2,"Spec. 3: MathLib.arcsec(+∞) = π/2"),equal(MathLib.arcsec(-1/0),Math.PI/2,"Spec. 4: MathLib.arcsec(-∞) = π/2"),equal(MathLib.isPosZero(MathLib.arcsec(1)),!0,"Spec. 5: otherwise MathLib.arcsec(1) = +0"),equal(MathLib.arcsec(-1),Math.PI,"Spec. 6: otherwise MathLib.arcsec(x) = inverse secant of x"),equal(MathLib.arcsec(10),1.4706289056333368,"Spec. 6: otherwise MathLib.arcsec(x) = inverse secant of x")}),test(".arcsin()",9,function(){equal(MathLib.isNaN(MathLib.arcsin(0/0)),!0,"Spec. 1: MathLib.arcsin(NaN) = NaN"),equal(MathLib.isPosZero(MathLib.arcsin(0)),!0,"Spec. 2: MathLib.arcsin(+0) = +0"),equal(MathLib.isNegZero(MathLib.arcsin(-0)),!0,"Spec. 3: MathLib.arcsin(-0) = -0"),equal(MathLib.isNaN(MathLib.arcsin(+1/0)),!0,"Spec. 4: MathLib.arcsin(x) = NaN if x>1"),equal(MathLib.isNaN(MathLib.arcsin(2)),!0,"Spec. 4: MathLib.arcsin(x) = NaN if x>1"),equal(MathLib.isNaN(MathLib.arcsin(-1/0)),!0,"Spec. 5: MathLib.arcsin(x) = NaN if x<-1"),equal(MathLib.isNaN(MathLib.arcsin(-2)),!0,"Spec. 5: MathLib.arcsin(x) = NaN if x<-1"),equal(MathLib.arcsin(1),Math.PI/2,"Spec. 6: otherwise MathLib.arcsin(x) = inverse sine of x"),equal(MathLib.arcsin(-1),-Math.PI/2,"Spec. 6: otherwise MathLib.arcsin(x) = inverse sine of x")}),test(".arctan()",7,function(){equal(MathLib.isNaN(MathLib.arctan(0/0)),!0,"Spec. 1: MathLib.arctan(NaN) = NaN"),equal(MathLib.isPosZero(MathLib.arctan(0)),!0,"Spec. 2: MathLib.arctan(+0) = +0"),equal(MathLib.isNegZero(MathLib.arctan(-0)),!0,"Spec. 3: MathLib.arctan(-0) = -0"),equal(MathLib.arctan(+1/0),+Math.PI/2,"Spec. 4: MathLib.arctan(+∞) = +π/2"),equal(MathLib.arctan(-1/0),-Math.PI/2,"Spec. 5: MathLib.arctan(-∞) = -π/2"),equal(MathLib.arctan(1),Math.PI/4,"Spec. 6: otherwise MathLib.arctan(x) = inverse tangent of x"),equal(MathLib.arctan(-1),-Math.PI/4,"Spec. 6: otherwise MathLib.arctan(x) = inverse tangent of x")}),test(".arctan2()",24,function(){equal(MathLib.arctan2(0,-0),Math.PI,"Spec. 1: arctan2(±0, -0) is ±π"),equal(MathLib.arctan2(-0,-0),-Math.PI,"Spec. 1: arctan2(±0, -0) is ±π"),equal(MathLib.isPosZero(MathLib.arctan2(0,0)),!0,"Spec. 2: arctan2(±0, +0) is ±0"),equal(MathLib.isNegZero(MathLib.arctan2(-0,0)),!0,"Spec. 2: arctan2(±0, +0) is ±0"),equal(MathLib.arctan2(0,-4),Math.PI,"Spec. 3: arctan2(±0, x) is ±π for x<0"),equal(MathLib.arctan2(-0,-4),-Math.PI,"Spec. 3: arctan2(±0, x) is ±π for x<0"),equal(MathLib.isPosZero(MathLib.arctan2(0,4)),!0,"Spec. 4: arctan2(±0, x) is ±0 for x>0"),equal(MathLib.isNegZero(MathLib.arctan2(-0,4)),!0,"Spec. 4: arctan2(±0, x) is ±0 for x>0"),equal(MathLib.arctan2(-4,0),-Math.PI/2,"Spec. 5: arctan2(y, ±0) is -π/2 for y < 0"),equal(MathLib.arctan2(-4,-0),-Math.PI/2,"Spec. 5: arctan2(y, ±0) is -π/2 for y < 0"),equal(MathLib.arctan2(4,0),Math.PI/2,"Spec. 6: arctan2(y, ±0) is +π/2 for y > 0"),equal(MathLib.arctan2(4,-0),Math.PI/2,"Spec. 6: arctan2(y, ±0) is +π/2 for y > 0"),equal(MathLib.arctan2(4,-1/0),Math.PI,"Spec. 7: arctan2(±y, -∞) is ±π for finite y > 0"),equal(MathLib.arctan2(-4,-1/0),-Math.PI,"Spec. 7: arctan2(±y, -∞) is ±π for finite y > 0"),equal(MathLib.isPosZero(MathLib.arctan2(4,1/0)),!0,"Spec. 8: arctan2(±y, +∞) is ±0 for finite y > 0"),equal(MathLib.isNegZero(MathLib.arctan2(-4,1/0)),!0,"Spec. 8: arctan2(±y, +∞) is ±0 for finite y > 0"),equal(MathLib.arctan2(1/0,4),Math.PI/2,"Spec. 9: arctan2(±∞, x) is ±π/2 for finite x"),equal(MathLib.arctan2(-1/0,4),-Math.PI/2,"Spec. 9: arctan2(±∞, x) is ±π/2 for finite x"),equal(MathLib.arctan2(1/0,-1/0),.75*Math.PI,"Spec. 10: arctan2(±∞, -∞) is ±3π/4"),equal(MathLib.arctan2(-1/0,-1/0),-3/4*Math.PI,"Spec. 10: arctan2(±∞, -∞) is ±3π/4"),equal(MathLib.arctan2(1/0,1/0),Math.PI/4,"Spec. 11: arctan2(±∞, +∞) is ±π/4"),equal(MathLib.arctan2(-1/0,1/0),-Math.PI/4,"Spec. 11: arctan2(±∞, +∞) is ±π/4"),equal(MathLib.arctan2(1,1),Math.PI/4,"Spec. 12: otherwise MathLib.arctan2(y, x) = -i ln((x+iy)/sqrt(x^2+y^2)"),equal(MathLib.arctan2(-1,1),-Math.PI/4,"Spec. 12: otherwise MathLib.arctan2(y, x) = -i ln((x+iy)/sqrt(x^2+y^2)")}),test(".arithMean()",1,function(){var s=new MathLib.Set([3,3,4,9,2,8,2]);equal(MathLib.arithMean(s),5.2,"Testing .arithMean() (set)")}),test(".arsech()",10,function(){equal(MathLib.isNaN(MathLib.arsech(0/0)),!0,"Spec. 1: MathLib.arsech(NaN) = NaN"),equal(MathLib.arsech(0),1/0,"Spec. 2: MathLib.arsech(+0) = +∞"),equal(MathLib.isNaN(MathLib.arsech(-0)),!0,"Spec. 3: MathLib.arsech(-0) = NaN"),equal(MathLib.isNaN(MathLib.arsech(1/0)),!0,"Spec. 4: MathLib.arsech(+∞) = NaN"),equal(MathLib.isNaN(MathLib.arsech(-1/0)),!0,"Spec. 5: MathLib.arsech(-∞) = NaN"),equal(MathLib.isPosZero(MathLib.arsech(1)),!0,"Spec. 6: MathLib.arsech(1) = +0"),equal(MathLib.isNaN(MathLib.arsech(2)),!0,"Spec. 7: MathLib.arsech(x) = NaN if x < 0 or x > 1"),equal(MathLib.isNaN(MathLib.arsech(-2)),!0,"Spec. 7: MathLib.arsech(x) = NaN if x < 0 or x > 1"),equal(MathLib.arsech(.5),1.3169578969248166,"Spec. 8: otherwise MathLib.arsech(x) = inverse hyperbolic secant of x"),equal(MathLib.arsech(.75),.7953654612239056,"Spec. 8: otherwise MathLib.arsech(x) = inverse hyperbolic secant of x")}),test(".arsinh()",7,function(){equal(MathLib.isNaN(MathLib.arsinh(0/0)),!0,"Spec. 1: MathLib.arsinh(NaN) = NaN"),equal(MathLib.isPosZero(MathLib.arsinh(0)),!0,"Spec. 2: MathLib.arsinh(+0) = +0"),equal(MathLib.isNegZero(MathLib.arsinh(-0)),!0,"Spec. 3: MathLib.arsinh(-0) = -0"),equal(MathLib.arsinh(+1/0),+1/0,"Spec. 4: MathLib.arsinh(+∞) = +∞"),equal(MathLib.arsinh(-1/0),-1/0,"Spec. 5: MathLib.arsinh(-∞) = -∞"),equal(MathLib.isEqual(MathLib.arsinh(1),.8813735870195429),!0,"Spec. 6: otherwise MathLib.arsinh(x) = inverse hyperbolic sine of x"),equal(MathLib.isEqual(MathLib.arsinh(10),2.99822295029797),!0,"Spec. 6: otherwise MathLib.arsinh(x) = inverse hyperbolic sine of x")}),test(".artanh()",11,function(){equal(MathLib.isNaN(MathLib.artanh(0/0)),!0,"Spec. 1: MathLib.artanh(NaN) = NaN"),equal(MathLib.isPosZero(MathLib.artanh(0)),!0,"Spec. 2: MathLib.artanh(+0) = +0"),equal(MathLib.isNegZero(MathLib.artanh(-0)),!0,"Spec. 3: MathLib.artanh(-0) = -0"),equal(MathLib.isNaN(MathLib.artanh(1/0)),!0,"Spec. 4: MathLib.artanh(+∞) = NaN"),equal(MathLib.isNaN(MathLib.artanh(-1/0)),!0,"Spec. 5: MathLib.artanh(-∞) = NaN"),equal(MathLib.artanh(1),1/0,"Spec. 6: MathLib.artanh(1) = +∞"),equal(MathLib.artanh(-1),-1/0,"Spec. 7: MathLib.artanh(-1) = -∞"),equal(MathLib.isNaN(MathLib.artanh(2)),!0,"Spec. 8: MathLib.artanh(x) = NaN if x < -1 or x > 1"),equal(MathLib.isNaN(MathLib.artanh(-2)),!0,"Spec. 8: MathLib.artanh(x) = NaN if x < -1 or x > 1"),equal(MathLib.artanh(.5),.5493061443340549,"Spec. 9: otherwise MathLib.artanh(x) = inverse hyperbolic tangent of x"),equal(MathLib.artanh(.75),.9729550745276566,"Spec. 9: otherwise MathLib.artanh(x) = inverse hyperbolic tangent of x")}),test(".binomial()",52,function(){equal(MathLib.isNaN(MathLib.binomial(0/0,0/0)),!0,"binomial(NaN, NaN)"),equal(MathLib.isNaN(MathLib.binomial(0/0,1/0)),!0,"binomial(NaN, ∞)"),equal(MathLib.isNaN(MathLib.binomial(0/0,-1/0)),!0,"binomial(NaN, -∞)"),equal(MathLib.isNaN(MathLib.binomial(0/0,0)),!0,"binomial(NaN, 0)"),equal(MathLib.isNaN(MathLib.binomial(0/0,-0)),!0,"binomial(NaN, -0)"),equal(MathLib.isNaN(MathLib.binomial(0/0,1)),!0,"binomial(NaN, 1)"),equal(MathLib.isNaN(MathLib.binomial(0/0,-1)),!0,"binomial(NaN, -1)"),equal(MathLib.isNaN(MathLib.binomial(1/0,0/0)),!0,"binomial(∞, NaN)"),equal(MathLib.isNaN(MathLib.binomial(1/0,1/0)),!0,"binomial(∞, ∞)"),equal(MathLib.isNaN(MathLib.binomial(1/0,-1/0)),!0,"binomial(∞, -∞)"),equal(MathLib.binomial(1/0,0),1,"binomial(∞, 0)"),equal(MathLib.binomial(1/0,-0),1,"binomial(∞, -0)"),equal(MathLib.binomial(1/0,1),1/0,"binomial(∞, 1)"),equal(MathLib.isPosZero(MathLib.binomial(1/0,-1)),!0,"binomial(∞, -1)"),equal(MathLib.isNaN(MathLib.binomial(-1/0,0/0)),!0,"binomial(-∞, NaN)"),equal(MathLib.isNaN(MathLib.binomial(-1/0,1/0)),!0,"binomial(-∞, ∞)"),equal(MathLib.isNaN(MathLib.binomial(-1/0,-1/0)),!0,"binomial(-∞, -∞)"),equal(MathLib.binomial(-1/0,0),1,"binomial(-∞, 0)"),equal(MathLib.binomial(-1/0,-0),1,"binomial(-∞, -0)"),equal(MathLib.binomial(-1/0,1),-1/0,"binomial(-∞, 1)"),equal(MathLib.isPosZero(MathLib.binomial(-1/0,-1)),!0,"binomial(-∞, -1)"),equal(MathLib.isNaN(MathLib.binomial(0,0/0)),!0,"binomial(0, NaN)"),equal(MathLib.isNaN(MathLib.binomial(0,1/0)),!0,"binomial(0, ∞)"),equal(MathLib.isNaN(MathLib.binomial(0,-1/0)),!0,"binomial(0, -∞)"),equal(MathLib.binomial(0,0),1,"binomial(0, 0)"),equal(MathLib.binomial(0,-0),1,"binomial(0, -0)"),equal(MathLib.binomial(0,1),0,"binomial(0, 1)"),equal(MathLib.binomial(0,-1),0,"binomial(0, -1)"),equal(MathLib.isNaN(MathLib.binomial(-0,0/0)),!0,"binomial(-0, NaN)"),equal(MathLib.isNaN(MathLib.binomial(-0,1/0)),!0,"binomial(-0, ∞)"),equal(MathLib.isNaN(MathLib.binomial(-0,-1/0)),!0,"binomial(-0, -∞)"),equal(MathLib.binomial(-0,0),1,"binomial(-0, 0)"),equal(MathLib.binomial(-0,-0),1,"binomial(-0, -0)"),equal(MathLib.binomial(-0,1),0,"binomial(-0, 1)"),equal(MathLib.binomial(-0,-1),0,"binomial(-0, -1)"),equal(MathLib.isNaN(MathLib.binomial(1,0/0)),!0,"binomial(1, NaN)"),equal(MathLib.isNaN(MathLib.binomial(1,1/0)),!0,"binomial(1, ∞)"),equal(MathLib.isNaN(MathLib.binomial(1,-1/0)),!0,"binomial(1, -∞)"),equal(MathLib.binomial(1,0),1,"binomial(1, 0)"),equal(MathLib.binomial(1,-0),1,"binomial(1, -0)"),equal(MathLib.binomial(1,1),1,"binomial(1, 1)"),equal(MathLib.binomial(1,-1),0,"binomial(1, -1)"),equal(MathLib.isNaN(MathLib.binomial(-1,0/0)),!0,"binomial(-1, NaN)"),equal(MathLib.isNaN(MathLib.binomial(-1,1/0)),!0,"binomial(-1, ∞)"),equal(MathLib.isNaN(MathLib.binomial(-1,-1/0)),!0,"binomial(-1, -∞)"),equal(MathLib.binomial(-1,0),1,"binomial(-1, 0)"),equal(MathLib.binomial(-1,-0),1,"binomial(-1, -0)"),equal(MathLib.binomial(-1,1),-1,"binomial(-1, 1)"),equal(MathLib.binomial(-1,-1),1,"binomial(-1, -1)"),equal(MathLib.binomial(6,3),20),equal(MathLib.binomial(2,4),0),equal(MathLib.binomial(-4,3),-20)}),test(".cbrt()",7,function(){equal(MathLib.isNaN(MathLib.cbrt(0/0)),!0,"Spec. 1: MathLib.cbrt(NaN) = NaN"),equal(MathLib.isPosZero(MathLib.cbrt(0)),!0,"Spec. 2: MathLib.cbrt(+0) = +0"),equal(MathLib.isNegZero(MathLib.cbrt(-0)),!0,"Spec. 3: MathLib.cbrt(-0) = -0"),equal(MathLib.cbrt(+1/0),+1/0,"Spec. 4: MathLib.cbrt(+∞) = +∞"),equal(MathLib.cbrt(-1/0),-1/0,"Spec. 5: MathLib.cbrt(-∞) = -∞"),equal(MathLib.cbrt(8),2,"Spec. 6: otherwise MathLib.cbrt(x) = cube root of x"),equal(MathLib.cbrt(-8),-2,"Spec. 6: otherwise MathLib.cbrt(x) = cube root of x")}),test(".ceil()",7,function(){equal(MathLib.isNaN(MathLib.ceil(0/0)),!0,"Spec. 1: MathLib.ceil(NaN) = NaN"),equal(MathLib.isPosZero(MathLib.ceil(0)),!0,"Spec. 2: MathLib.ceil(+0) = +0"),equal(MathLib.isNegZero(MathLib.ceil(-0)),!0,"Spec. 3: MathLib.ceil(-0) = -0"),equal(MathLib.ceil(+1/0),+1/0,"Spec. 4: MathLib.ceil(+∞) = +∞"),equal(MathLib.ceil(-1/0),-1/0,"Spec. 5: MathLib.ceil(-∞) = -∞"),equal(MathLib.ceil(2.2),3,"Spec. 6: otherwise MathLib.ceil(x) =  ⎡x⎤"),equal(MathLib.ceil(-2.2),-2,"Spec. 6: otherwise MathLib.ceil(x) = ⎡x⎤")}),test(".cos()",6,function(){equal(MathLib.isNaN(MathLib.cos(0/0)),!0,"Spec. 1: MathLib.cos(NaN) = NaN"),equal(MathLib.isNaN(MathLib.cos(+1/0)),!0,"Spec. 2: MathLib.cos(+∞) = NaN"),equal(MathLib.isNaN(MathLib.cos(-1/0)),!0,"Spec. 3: MathLib.cos(-∞) = NaN"),equal(MathLib.cos(0),1,"Spec. 4: otherwise MathLib.cos(x) = cosine of x"),equal(MathLib.cos(-0),1,"Spec. 4: otherwise MathLib.cos(x) = cosine of x"),equal(MathLib.cos(Math.PI),-1,"Spec. 4: otherwise MathLib.cos(x) = cosine of x")}),test(".cosh()",6,function(){equal(MathLib.isNaN(MathLib.cosh(0/0)),!0,"Spec. 1: MathLib.cosh(NaN) = NaN"),equal(MathLib.cosh(+1/0),+1/0,"Spec. 2: MathLib.cosh(+∞) = +∞"),equal(MathLib.cosh(-1/0),+1/0,"Spec. 3: MathLib.cosh(-∞) = +∞"),equal(MathLib.cosh(0),1,"Spec. 4: otherwise MathLib.cosh(x) = hyperbolic cosine of x"),equal(MathLib.cosh(-0),1,"Spec. 4: otherwise MathLib.cosh(x) = hyperbolic cosine of x"),equal(MathLib.isEqual(MathLib.cosh(1),1.5430806348152437),!0,"Spec. 4: otherwise MathLib.cosh(x) = hyperbolic cosine of x")}),test(".cot()",7,function(){equal(MathLib.isNaN(MathLib.cot(0/0)),!0,"Spec. 1: MathLib.cot(NaN) = NaN"),equal(MathLib.cot(0),1/0,"Spec. 2: MathLib.cot(+0) = +∞"),equal(MathLib.cot(-0),-1/0,"Spec. 3: MathLib.cot(-0) = -∞"),equal(MathLib.isNaN(MathLib.cot(+1/0)),!0,"Spec. 4: MathLib.cot(+∞) = NaN"),equal(MathLib.isNaN(MathLib.cot(-1/0)),!0,"Spec. 5: MathLib.cot(-∞) = NaN"),equal(MathLib.cot(Math.PI/3),1/Math.sqrt(3),"Spec. 6: otherwise MathLib.cot(x) = cotangent of x"),equal(MathLib.cot(Math.PI/2),0,"Spec. 6: otherwise MathLib.cot(x) = cotangent of x")}),test(".coth()",7,function(){equal(MathLib.isNaN(MathLib.coth(0/0)),!0,"Spec. 1: MathLib.coth(NaN) = NaN"),equal(MathLib.coth(0),1/0,"Spec. 2: MathLib.coth(+0) = +∞"),equal(MathLib.coth(-0),-1/0,"Spec. 3: MathLib.coth(-0) = -∞"),equal(MathLib.coth(+1/0),1,"Spec. 4: MathLib.coth(+∞) = 1"),equal(MathLib.coth(-1/0),-1,"Spec. 5: MathLib.coth(-∞) = -1"),equal(MathLib.coth(1),1.3130352854993312,"Spec. 6: otherwise MathLib.coth(x) = hyperbolic cotangent of x"),equal(MathLib.coth(10),1.0000000041223074,"Spec. 6: otherwise MathLib.coth(x) = hyperbolic cotangent of x")}),test(".csc()",7,function(){equal(MathLib.isNaN(MathLib.csc(0/0)),!0,"Spec. 1: MathLib.csc(NaN) = NaN"),equal(MathLib.csc(0),+1/0,"Spec. 2: MathLib.csc(+0) = +∞"),equal(MathLib.csc(-0),-1/0,"Spec. 3: MathLib.csc(-0) = -∞"),equal(MathLib.isNaN(MathLib.csc(+1/0)),!0,"Spec. 4: MathLib.csc(+∞) = NaN"),equal(MathLib.isNaN(MathLib.csc(-1/0)),!0,"Spec. 5: MathLib.csc(-∞) = NaN"),equal(MathLib.csc(Math.PI/2),1,"Spec. 6: otherwise MathLib.csc(x) = cosecant of x"),equal(MathLib.csc(-Math.PI/2),-1,"Spec. 6: otherwise MathLib.csc(x) = cosecant of x")}),test(".csch()",7,function(){equal(MathLib.isNaN(MathLib.csch(0/0)),!0,"Spec. 1: MathLib.csch(NaN) = NaN"),equal(MathLib.csch(0),+1/0,"Spec. 2: MathLib.csch(+0) = +∞"),equal(MathLib.csch(-0),-1/0,"Spec. 3: MathLib.csch(-0) = -∞"),equal(MathLib.isPosZero(MathLib.csch(+1/0)),!0,"Spec. 4: MathLib.csch(+∞) = +0"),equal(MathLib.isNegZero(MathLib.csch(-1/0)),!0,"Spec. 5: MathLib.csch(-∞) = -0"),ok(MathLib.isEqual(MathLib.csch(1),.8509181282393216),"Spec. 6: otherwise MathLib.csch(x) = hyperbolic cosecant of x"),ok(MathLib.isEqual(MathLib.csch(10),9079985971212217e-20),"Spec. 6: otherwise MathLib.csch(x) = hyperbolic cosecant of x")}),test(".degToRad()",7,function(){equal(MathLib.isNaN(MathLib.degToRad(0/0)),!0,"Spec. 1: MathLib.degToRad(NaN) = NaN"),equal(MathLib.isPosZero(MathLib.degToRad(0)),!0,"Spec. 2: MathLib.degToRad(+0) = +0"),equal(MathLib.isNegZero(MathLib.degToRad(-0)),!0,"Spec. 3: MathLib.degToRad(-0) = -0"),equal(MathLib.degToRad(+1/0),1/0,"Spec. 4: MathLib.degToRad(+∞) = +∞"),equal(MathLib.degToRad(-1/0),-1/0,"Spec. 5: MathLib.degToRad(-∞) = -∞"),equal(MathLib.degToRad(90),Math.PI/2,"Spec. 6: otherwise MathLib.degToRad(x) = x * π/180"),equal(MathLib.degToRad(180),Math.PI,"Spec. 6: otherwise MathLib.degToRad(x) = x * π/180")
}),test(".diff()",4,function(){ok(Math.abs(MathLib.cos.diff(0)-0)<1e-10,"cos’(0) = 0"),ok(Math.abs(MathLib.sin.diff(0)-1)<1e-10,"sin’(0) = 1"),ok(Math.abs(MathLib.exp.diff(0)-1)<1e-10,"exp’(0) = 1"),ok(Math.abs(MathLib.exp.diff(1)-Math.E)<1e-10,"exp’(1) = e")}),test(".exp()",6,function(){equal(MathLib.isNaN(MathLib.exp(0/0)),!0,"Spec. 1: MathLib.exp(NaN) = NaN"),equal(MathLib.exp(+1/0),+1/0,"Spec. 2: MathLib.exp(+∞) = +∞"),equal(MathLib.isPosZero(MathLib.exp(-1/0)),!0,"Spec. 3: MathLib.exp(-∞) = 0"),equal(MathLib.exp(0),1,"Spec. 4: otherwise MathLib.exp(x) = e^x"),equal(MathLib.exp(-0),1,"Spec. 4: otherwise MathLib.exp(x) = e^x"),equal(MathLib.isEqual(MathLib.exp(1),Math.E),!0,"Spec. 4: otherwise MathLib.exp(x) = e^x")}),test(".factor()",2,function(){deepEqual(MathLib.factor(12),new MathLib.Set([2,2,3],!0)),deepEqual(MathLib.factor(-15),new MathLib.Set([3,5],!0))}),test(".factorial()",10,function(){equal(MathLib.isNaN(MathLib.factorial(0/0)),!0,"Spec. 1: MathLib.factorial(NaN) = NaN"),equal(MathLib.factorial(+1/0),1/0,"Spec. 2: MathLib.factorial(+∞) = +∞"),equal(MathLib.isNaN(MathLib.factorial(-1/0)),!0,"Spec. 3: MathLib.factorial(-∞) = NaN"),equal(MathLib.isNaN(MathLib.factorial(-1)),!0,"Spec. 4: MathLib.factorial(n) = NaN if n<0 or n not an integer"),equal(MathLib.isNaN(MathLib.factorial(1.5)),!0,"Spec. 4: MathLib.factorial(n) = NaN if n<0 or n not an integer"),equal(MathLib.factorial(171),1/0,"Spec. 5: MathLib.factorial(n) = ∞ if n is an integer greater 170"),equal(MathLib.factorial(0),1,"Spec. 6: MathLib.factorial(n) = n!"),equal(MathLib.factorial(-0),1,"Spec. 6: MathLib.factorial(n) = n!"),equal(MathLib.factorial(1),1,"Spec. 6: MathLib.factorial(n) = n!"),equal(MathLib.factorial(6),720,"Spec. 6: MathLib.factorial(n) = n!")}),test(".fallingFactorial()",4,function(){equal(MathLib.fallingFactorial(2,0),1),equal(MathLib.fallingFactorial(6,3),120),equal(MathLib.fallingFactorial(2,4),0),equal(MathLib.fallingFactorial(4,3,.5),42)}),test(".fibonacci()",1,function(){equal(MathLib.fibonacci(4),3,"Is the fourth fibonacci number 3?")}),test(".floor()",7,function(){equal(MathLib.isNaN(MathLib.floor(0/0)),!0,"Spec. 1: MathLib.floor(NaN) = NaN"),equal(MathLib.isPosZero(MathLib.floor(0)),!0,"Spec. 2: MathLib.floor(+0) = +0"),equal(MathLib.isNegZero(MathLib.floor(-0)),!0,"Spec. 3: MathLib.floor(-0) = -0"),equal(MathLib.floor(+1/0),+1/0,"Spec. 4: MathLib.floor(+∞) = +∞"),equal(MathLib.floor(-1/0),-1/0,"Spec. 5: MathLib.floor(-∞) = -∞"),equal(MathLib.floor(2.2),2,"Spec. 6: otherwise MathLib.floor(x) =  ⎣x⎦"),equal(MathLib.floor(-2.2),-3,"Spec. 6: otherwise MathLib.floor(x) = ⎣x⎦")}),test(".gcd()",8,function(){equal(MathLib.gcd(),0,"The empty gcd is zero."),equal(MathLib.gcd([]),0,"The empty gcd is zero."),equal(MathLib.gcd(7),7),equal(MathLib.gcd([7]),7),equal(MathLib.gcd(8,12),4),equal(MathLib.gcd([8,12]),4),equal(MathLib.gcd(1,2,3),1),equal(MathLib.gcd([1,2,3]),1)}),test(".geoMean()",1,function(){var s=new MathLib.Set([3,3,4,9,2,8,2]);equal(MathLib.geoMean(s),Math.pow(1728,.2),"Testing .geoMean() (set)")}),test(".harmonicMean()",1,function(){var s=new MathLib.Set([3,3,4,9,2,8,2]);equal(MathLib.harmonicMean(s),3.7894736842105265,"Testing .harmonicMean() (set)")}),test(".hypot()",16,function(){equal(MathLib.hypot(+1/0,0/0),1/0,"Spec. 1: MathLib.hypot(x, y, ...) = +∞ if any argument is infinite"),equal(MathLib.hypot(0/0,+1/0),1/0,"Spec. 1: MathLib.hypot(x, y, ...) = +∞ if any argument is infinite"),equal(MathLib.hypot(-1/0,0/0),1/0,"Spec. 1: MathLib.hypot(x, y, ...) = +∞ if any argument is infinite"),equal(MathLib.hypot(0/0,-1/0),1/0,"Spec. 1: MathLib.hypot(x, y, ...) = +∞ if any argument is infinite"),equal(MathLib.hypot(+1/0,2),1/0,"Spec. 1: MathLib.hypot(x, y, ...) = +∞ if any argument is infinite"),equal(MathLib.hypot(2,+1/0),1/0,"Spec. 1: MathLib.hypot(x, y, ...) = +∞ if any argument is infinite"),equal(MathLib.hypot(-1/0,2),1/0,"Spec. 1: MathLib.hypot(x, y, ...) = +∞ if any argument is infinite"),equal(MathLib.hypot(2,-1/0),1/0,"Spec. 1: MathLib.hypot(x, y, ...) = +∞ if any argument is infinite"),equal(MathLib.isNaN(MathLib.hypot(0/0,2)),!0,"Spec. 2: MathLib.hypot(x, y, ...) = NaN if any argument is NaN, and none infinite"),equal(MathLib.isNaN(MathLib.hypot(2,0/0)),!0,"Spec. 2: MathLib.hypot(x, y, ...) = NaN if any argument is NaN, and none infinite"),equal(MathLib.isPosZero(MathLib.hypot(0,0)),!0,"Spec. 3: MathLib.hypot(x, y, ...) = +0 if all arguments are ±0"),equal(MathLib.isPosZero(MathLib.hypot(-0,-0)),!0,"Spec. 3:MathLib.hypot(x, y, ...) = +0 if all arguments are ±0"),equal(MathLib.isEqual(MathLib.hypot(3),3),!0,"Spec. 4: Otherwise MathLib.hypot(x, y, ...) = the square root of the sum of the squared arguments"),equal(MathLib.isEqual(MathLib.hypot(-3),3),!0,"Spec. 4: Otherwise MathLib.hypot(x, y, ...) = the square root of the sum of the squared arguments"),equal(MathLib.isEqual(MathLib.hypot(3,4),5),!0,"Spec. 4: Otherwise MathLib.hypot(x, y, ...) = the square root of the sum of the squared arguments"),equal(MathLib.isEqual(MathLib.hypot(3,4,12),13),!0,"Spec. 4: Otherwise MathLib.hypot(x, y, ...) = the square root of the sum of the squared arguments")}),test(".hypot2()",6,function(){equal(MathLib.isEqual(MathLib.hypot2(3,4),25),!0),equal(MathLib.isEqual(MathLib.hypot2(3,4,12),169),!0),deepEqual(MathLib.hypot2(0/0,4),0/0),equal(MathLib.hypot2(0/0,1/0),1/0),equal(MathLib.hypot2(-1/0,0/0),1/0),equal(MathLib.hypot2(1/0,4),1/0)}),test(".inverse()",2,function(){equal(MathLib.inverse(2),.5,"MathLib.inverse(2) should be 0.5"),equal(MathLib.isNaN(MathLib.inverse(0/0)),!0,"MathLib.inverse(NaN) should be NaN")}),test(".isEqual()",10,function(){equal(MathLib.isEqual(),!0),equal(MathLib.isEqual([]),!0),equal(MathLib.isEqual(1),!0),equal(MathLib.isEqual([1]),!0),equal(MathLib.isEqual(1,1),!0),equal(MathLib.isEqual([1,1]),!0),equal(MathLib.isEqual(1,2),!1),equal(MathLib.isEqual([1,2]),!1),equal(MathLib.isEqual(new MathLib.Complex(1,2),new MathLib.Complex(1,2)),!0),equal(MathLib.isEqual(new MathLib.Complex(1,2),new MathLib.Complex(1,3)),!1)}),test(".isFinite()",4,function(){equal(MathLib.isFinite(2),!0),equal(MathLib.isFinite(0/0),!1),equal(MathLib.isFinite(+1/0),!1),equal(MathLib.isFinite(-1/0),!1)}),test(".isInt()",2,function(){equal(MathLib.isInt(2),!0),equal(MathLib.isInt(2.5),!1)}),test(".isMathMLSupported()",1,function(){var supp=MathLib.isMathMLSupported();equal(typeof supp,"boolean",".isMathMLSupported()")}),test(".isNaN()",2,function(){equal(MathLib.isNaN(0/0),!0),equal(MathLib.isNaN(2),!1)}),test(".isNegZero()",2,function(){equal(MathLib.isNegZero(-0),!0),equal(MathLib.isNegZero(0),!1)}),test(".isOne()",2,function(){equal(MathLib.isOne(1),!0),equal(MathLib.isOne(2),!1)}),test(".isPosZero()",2,function(){equal(MathLib.isPosZero(0),!0),equal(MathLib.isPosZero(-0),!1)}),test(".isPrime()",2,function(){equal(MathLib.isPrime(4567),!0),equal(MathLib.isPrime(112),!1)}),test(".isZero()",2,function(){equal(MathLib.isZero(0),!0),equal(MathLib.isZero(1),!1)}),test(".lcm()",8,function(){equal(MathLib.lcm(),0,"The empty lcm is zero."),equal(MathLib.lcm([]),0,"The empty lcm is zero."),equal(MathLib.lcm(7),7),equal(MathLib.lcm([7]),7),equal(MathLib.lcm(8,12),24),equal(MathLib.lcm([8,12]),24),equal(MathLib.lcm(1,2,3),6),equal(MathLib.lcm([1,2,3]),6)}),test(".ln()",8,function(){equal(MathLib.ln(1),0,"MathLib.ln(1) should be 0"),equal(MathLib.ln(Math.E),1,"MathLib.ln(Math.E) should be 1"),equal(MathLib.ln(+1/0),+1/0,"MathLib.ln(+Infinity) should be +Infinity"),equal(MathLib.ln(0),-1/0,"MathLib.ln(+0) should be -Infinity"),equal(MathLib.ln(-0),-1/0,"MathLib.ln(-0) should be -Infinity"),equal(MathLib.isNaN(MathLib.ln(-4)),!0,"MathLib.ln(-4) should be NaN"),equal(MathLib.isNaN(MathLib.ln(-1/0)),!0,"MathLib.ln(-Infinity) should be NaN"),equal(MathLib.isNaN(MathLib.ln(0/0)),!0,"MathLib.ln(NaN) should be NaN")}),test(".max()",3,function(){var s=new MathLib.Set([3,3,4,9,2,8,2]);equal(MathLib.max([1,42,17,4]),42),equal(MathLib.max(1,42,17,4),42),equal(MathLib.max(s),9,"Testing .max() (set)")}),test(".min()",3,function(){var s=new MathLib.Set([3,3,4,9,2,8,2]);equal(MathLib.min([1,42,17,4]),1),equal(MathLib.min(1,42,17,4),1),equal(MathLib.min(s),2,"Testing .min() (set)")}),test(".not()",2,function(){equal(MathLib.not(!0),!1,"not true = false"),equal(MathLib.not(!1),!0,"not false = true")}),test(".or()",14,function(){equal(MathLib.or(),!1),equal(MathLib.or([]),!1),equal(MathLib.or(!0),!0),equal(MathLib.or([!0]),!0),equal(MathLib.or(!1),!1),equal(MathLib.or([!1]),!1),equal(MathLib.or(!0,!0),!0,"true or true = true"),equal(MathLib.or([!0,!0]),!0,"true or true = true"),equal(MathLib.or(!0,!1),!0,"true or false = true"),equal(MathLib.or([!0,!1]),!0,"true or false = true"),equal(MathLib.or(!1,!0),!0,"false or true = true"),equal(MathLib.or([!1,!0]),!0,"false or true = true"),equal(MathLib.or(!1,!1),!1,"false or false = false"),equal(MathLib.or([!1,!1]),!1,"false or false = false")}),test(".plus()",5,function(){equal(MathLib.plus(),0,"The empty sum is zero."),equal(MathLib.plus([]),0,"The empty sum is zero."),equal(MathLib.plus(1,2),3),equal(MathLib.plus([1,2]),3),deepEqual(MathLib.plus(MathLib.Matrix.identity(3),MathLib.Matrix.identity(3)),new MathLib.Matrix([[2,0,0],[0,2,0],[0,0,2]]))}),test("pow()",65,function(){equal(MathLib.pow(1,0),1,"Spec. 1: MathLib.pow (x, ±0) = 1 (for any x, even a zero, NaN, or ±∞)"),equal(MathLib.pow(0,0),1,"Spec. 1: MathLib.pow (x, ±0) = 1 (for any x, even a zero, NaN, or ±∞)"),equal(MathLib.pow(-0,0),1,"Spec. 1: MathLib.pow (x, ±0) = 1 (for any x, even a zero, NaN, or ±∞)"),equal(MathLib.pow(0/0,0),1,"Spec. 1: MathLib.pow (x, ±0) = 1 (for any x, even a zero, NaN, or ±∞)"),equal(MathLib.pow(1/0,0),1,"Spec. 1: MathLib.pow (x, ±0) = 1 (for any x, even a zero, NaN, or ±∞)"),equal(MathLib.pow(-1/0,0),1,"Spec. 1: MathLib.pow (x, ±0) = 1 (for any x, even a zero, NaN, or ±∞)"),equal(MathLib.pow(1,-0),1,"Spec. 1: MathLib.pow (x, ±0) = 1 (for any x, even a zero, NaN, or ±∞)"),equal(MathLib.pow(0,-0),1,"Spec. 1: MathLib.pow (x, ±0) = 1 (for any x, even a zero, NaN, or ±∞)"),equal(MathLib.pow(-0,-0),1,"Spec. 1: MathLib.pow (x, ±0) = 1 (for any x, even a zero, NaN, or ±∞)"),equal(MathLib.pow(0/0,-0),1,"Spec. 1: MathLib.pow (x, ±0) = 1 (for any x, even a zero, NaN, or ±∞)"),equal(MathLib.pow(1/0,-0),1,"Spec. 1: MathLib.pow (x, ±0) = 1 (for any x, even a zero, NaN, or ±∞)"),equal(MathLib.pow(-1/0,-0),1,"Spec. 1: MathLib.pow (x, ±0) = 1 (for any x, even a zero, NaN, or ±∞)"),equal(MathLib.pow(0,-5),+1/0,"Spec. 2: MathLib.pow (±0, y) = ±∞ (for y an odd integer < 0)"),equal(MathLib.pow(-0,-5),-1/0,"Spec. 2: MathLib.pow (±0, y) = ±∞ (for y an odd integer < 0)"),equal(MathLib.pow(0,-1/0),1/0,"Spec. 3: MathLib.pow(±0, -∞) = +∞"),equal(MathLib.pow(-0,-1/0),1/0,"Spec. 3: MathLib.pow(±0, -∞) = +∞"),equal(MathLib.isPosZero(MathLib.pow(0,1/0)),!0,"Spec. 4: MathLib.pow(±0, +∞) = +0"),equal(MathLib.isPosZero(MathLib.pow(-0,1/0)),!0,"Spec. 4: MathLib.pow(±0, +∞) = +0"),equal(MathLib.pow(0,-4),+1/0,"Spec. 5: MathLib.pow (±0, y) = +∞ (for finite y < 0 and not an odd integer)"),equal(MathLib.pow(-0,-4),+1/0,"Spec. 5: MathLib.pow (±0, y) = +∞ (for finite y < 0 and not an odd integer)"),equal(MathLib.pow(0,-5.5),+1/0,"Spec. 5: MathLib.pow (±0, y) = +∞ (for finite y < 0 and not an odd integer)"),equal(MathLib.pow(-0,-5.5),+1/0,"Spec. 5: MathLib.pow (±0, y) = +∞ (for finite y < 0 and not an odd integer)"),equal(MathLib.isPosZero(MathLib.pow(0,5)),!0,"Spec. 6: MathLib.pow (±0, y) = ±0 (for finite y > 0 an odd integer)"),equal(MathLib.isNegZero(MathLib.pow(-0,5)),!0,"Spec. 6: MathLib.pow (±0, y) = ±0 (for finite y > 0 an odd integer)"),equal(MathLib.isPosZero(MathLib.pow(0,4)),!0,"Spec. 7: MathLib.pow (±0, y) = +0 (for finite y > 0 and not an odd integer)"),equal(MathLib.isPosZero(MathLib.pow(-0,4)),!0,"Spec. 7: MathLib.pow (±0, y) = +0 (for finite y > 0 and not an odd integer)"),equal(MathLib.isPosZero(MathLib.pow(0,5.5)),!0,"Spec. 7: MathLib.pow (±0, y) = +0 (for finite y > 0 and not an odd integer)"),equal(MathLib.isPosZero(MathLib.pow(-0,5.5)),!0,"Spec. 7: MathLib.pow (±0, y) = +0 (for finite y > 0 and not an odd integer)"),equal(MathLib.pow(-1,+1/0),1,"Spec. 8: MathLib.pow(-1, ±∞) = 1"),equal(MathLib.pow(-1,-1/0),1,"Spec. 8: MathLib.pow(-1, ±∞) = 1"),equal(MathLib.pow(1,2),1,"Spec. 9: MathLib.pow(+1, y) = 1 (for any y, even ±∞ and NaN)"),equal(MathLib.pow(1,-2),1,"Spec. 9: MathLib.pow(+1, y) = 1 (for any y, even ±∞ and NaN)"),equal(MathLib.pow(1,+1/0),1,"Spec. 9: MathLib.pow(+1, y) = 1 (for any y, even ±∞ and NaN)"),equal(MathLib.pow(1,-1/0),1,"Spec. 9: MathLib.pow(+1, y) = 1 (for any y, even ±∞ and NaN)"),equal(MathLib.pow(1,0/0),1,"Spec. 9: MathLib.pow(+1, y) = 1 (for any y, even ±∞ and NaN)"),equal(MathLib.isNaN(MathLib.pow(-2,2.5)),!0,"Spec. 10: MathLib.pow (x, y) = NaN (for finite x < 0 and finite non-integer y.)"),equal(MathLib.isNaN(MathLib.pow(-2,2.5)),!0,"Spec. 10: MathLib.pow (x, y) = NaN (for finite x < 0 and finite non-integer y.)"),equal(MathLib.pow(3,1/0),1/0,"Spec. 11: MathLib.pow(x, +∞) = +∞ (for |x| > 1)"),equal(MathLib.pow(-3,1/0),1/0,"Spec. 11: MathLib.pow(x, +∞) = +∞ (for |x| > 1)"),equal(MathLib.isPosZero(MathLib.pow(3,-1/0)),!0,"Spec. 12: MathLib.pow(x, -∞) = +0 (for |x| > 1)"),equal(MathLib.isPosZero(MathLib.pow(-3,-1/0)),!0,"Spec. 12: MathLib.pow(x, -∞) = +0 (for |x| > 1)"),equal(MathLib.isPosZero(MathLib.pow(.5,+1/0)),!0,"Spec. 13: MathLib.pow(x, +∞) = +0 (for |x| < 1)"),equal(MathLib.isPosZero(MathLib.pow(-.5,+1/0)),!0,"Spec. 13: MathLib.pow(x, +∞) = +0 (for |x| < 1)"),equal(MathLib.pow(.5,-1/0),1/0,"Spec. 14: MathLib.pow(x, -∞) = +∞ (for |x| < 1)"),equal(MathLib.pow(-.5,-1/0),1/0,"Spec. 14: MathLib.pow(x, -∞) = +∞ (for |x| < 1)"),equal(MathLib.pow(+1/0,2),1/0,"Spec. 15: MathLib.pow(+∞, y) = +∞ (for y > 0)"),equal(MathLib.pow(+1/0,2),1/0,"Spec. 15: MathLib.pow(+∞, y) = +∞ (for y > 0)"),equal(MathLib.isPosZero(MathLib.pow(+1/0,-2)),!0,"Spec. 16: MathLib.pow(+∞, y) = +0 (for y < 0)"),equal(MathLib.isPosZero(MathLib.pow(+1/0,-1/0)),!0,"Spec. 16: MathLib.pow(+∞, y) = +0 (for y < 0)"),equal(MathLib.pow(-1/0,2),1/0,"Spec. 17: MathLib.pow(-∞, y) = MathLib.pow(-0, -y)"),equal(MathLib.pow(-1/0,0),1,"Spec. 17: MathLib.pow(-∞, y) = MathLib.pow(-0, -y)"),equal(MathLib.pow(-1/0,-0),1,"Spec. 17: MathLib.pow(-∞, y) = MathLib.pow(-0, -y)"),equal(MathLib.pow(-1/0,1/0),1/0,"Spec. 17: MathLib.pow(-∞, y) = MathLib.pow(-0, -y)"),equal(MathLib.pow(-1/0,-1/0),0,"Spec. 17: MathLib.pow(-∞, y) = MathLib.pow(-0, -y)"),equal(MathLib.isNaN(MathLib.pow(0/0,1)),!0,"Spec. 18: MathLib.pow(NaN, y) = NaN (for all y except ±0)"),equal(MathLib.isNaN(MathLib.pow(0/0,1/0)),!0,"Spec. 18: MathLib.pow(NaN, y) = NaN (for all y except ±0)"),equal(MathLib.isNaN(MathLib.pow(0/0,-1/0)),!0,"Spec. 18: MathLib.pow(NaN, y) = NaN (for all y except ±0)"),equal(MathLib.isNaN(MathLib.pow(0/0,0/0)),!0,"Spec. 18: MathLib.pow(NaN, y) = NaN (for all y except ±0)"),equal(MathLib.isNaN(MathLib.pow(2,0/0)),!0,"Spec. 19: MathLib.pow(x, NaN) = NaN (for all x except +1)"),equal(MathLib.isNaN(MathLib.pow(1/0,0/0)),!0,"Spec. 19: MathLib.pow(x, NaN) = NaN (for all x except +1)"),equal(MathLib.isNaN(MathLib.pow(-1/0,0/0)),!0,"Spec. 19: MathLib.pow(x, NaN) = NaN (for all x except +1)"),equal(MathLib.isNaN(MathLib.pow(0,0/0)),!0,"Spec. 19: MathLib.pow(x, NaN) = NaN (for all x except +1)"),equal(MathLib.isNaN(MathLib.pow(-0,0/0)),!0,"Spec. 19: MathLib.pow(x, NaN) = NaN (for all x except +1)"),equal(MathLib.pow(2,3),8,"Spec. 20: otherwise MathLib.pow(x, n) = x^n"),equal(MathLib.pow(2,-3),.125,"Spec. 20: otherwise MathLib.pow(x, n) = x^n")}),test(".quad()",2,function(){ok(Math.abs(MathLib.sin.quad(0,2*Math.PI))<1e-15,"integrate sin from 0 to 2*pi"),ok(Math.abs(MathLib.exp.quad(0,1)-Math.E+1)<1e-7,"integrate exp from 0 to 1")}),test(".radToDeg()",7,function(){equal(MathLib.isNaN(MathLib.radToDeg(0/0)),!0,"Spec. 1: MathLib.radToDeg(NaN) = NaN"),equal(MathLib.isPosZero(MathLib.radToDeg(0)),!0,"Spec. 2: MathLib.radToDeg(+0) = +0"),equal(MathLib.isNegZero(MathLib.radToDeg(-0)),!0,"Spec. 3: MathLib.radToDeg(-0) = -0"),equal(MathLib.radToDeg(+1/0),1/0,"Spec. 4: MathLib.radToDeg(+∞) = +∞"),equal(MathLib.radToDeg(-1/0),-1/0,"Spec. 5: MathLib.radToDeg(-∞) = -∞"),equal(MathLib.radToDeg(Math.PI/2),90,"Spec. 6: otherwise MathLib.radToDeg(x) = x * π/180"),equal(MathLib.radToDeg(Math.PI),180,"Spec. 6: otherwise MathLib.radToDeg(x) = x * π/180")}),test(".risingFactorial()",3,function(){equal(MathLib.risingFactorial(2,0),1),equal(MathLib.risingFactorial(2,3),24),equal(MathLib.risingFactorial(3,4,.5),189)}),test(".round()",10,function(){equal(MathLib.isNaN(MathLib.round(0/0)),!0,"Spec. 1: MathLib.round(NaN) = NaN"),equal(MathLib.isPosZero(MathLib.round(0)),!0,"Spec. 2: MathLib.round(x) = +0 if +0 ≤ x < 0.5"),equal(MathLib.isPosZero(MathLib.round(.2)),!0,"Spec. 2: MathLib.round(x) = +0 if +0 ≤ x < 0.5"),equal(MathLib.isNegZero(MathLib.round(-0)),!0,"Spec. 3: MathLib.round(x) = -0 if -0.5 ≤ x ≤ -0"),equal(MathLib.isNegZero(MathLib.round(-.5)),!0,"Spec. 3: MathLib.round(x) = -0 if -0.5 ≤ x ≤ -0"),equal(MathLib.round(+1/0),+1/0,"Spec. 4: MathLib.round(+∞) = +∞"),equal(MathLib.round(-1/0),-1/0,"Spec. 5: MathLib.round(-∞) = -∞"),equal(MathLib.round(2.2),2,"Spec. 6: otherwise MathLib.round(x) =  ⎣ x+0.5 ⎦"),equal(MathLib.round(2.5),3,"Spec. 6: otherwise MathLib.round(x) = ⎣ x+0.5 ⎦"),equal(MathLib.round(-2.2),-2,"Spec. 6: otherwise MathLib.round(x) = ⎣ x+0.5 ⎦")}),test(".sec()",7,function(){equal(MathLib.isNaN(MathLib.sec(0/0)),!0,"Spec. 1: MathLib.sec(NaN) = NaN"),equal(MathLib.sec(0),1,"Spec. 2: MathLib.sec(+0) = 1"),equal(MathLib.sec(-0),1,"Spec. 3: MathLib.sec(-0) = 1"),equal(MathLib.isNaN(MathLib.sec(+1/0)),!0,"Spec. 4: MathLib.sec(+∞) = NaN"),equal(MathLib.isNaN(MathLib.sec(-1/0)),!0,"Spec. 5: MathLib.sec(-∞) = NaN"),equal(MathLib.sec(Math.PI),-1,"Spec. 6: otherwise MathLib.sec(x) = secant of x"),equal(MathLib.sec(2*Math.PI),1,"Spec. 6: otherwise MathLib.sec(x) = secant of x")}),test(".sech()",6,function(){equal(MathLib.isNaN(MathLib.sech(0/0)),!0,"Spec. 1: MathLib.sech(NaN) = NaN"),equal(MathLib.isPosZero(MathLib.sech(+1/0)),!0,"Spec. 2: MathLib.sech(+∞) = +0"),equal(MathLib.isPosZero(MathLib.sech(-1/0)),!0,"Spec. 3: MathLib.sech(-∞) = +0"),equal(MathLib.sech(0),1,"Spec. 4: otherwise MathLib.sech(x) = hyperbolic secant of x"),equal(MathLib.sech(-0),1,"Spec. 4: otherwise MathLib.sech(x) = hyperbolic secant of x"),equal(MathLib.isEqual(MathLib.sech(1),.6480542736638855),!0,"Spec. 4: otherwise MathLib.sech(x) = hyperbolic secant of x")}),test(".sign()",7,function(){equal(MathLib.isNaN(MathLib.sign(0/0)),!0,"Spec. 1: MathLib.sign(NaN) = NaN"),equal(MathLib.isPosZero(MathLib.sign(0)),!0,"Spec. 2: MathLib.sign(0) = 0"),equal(MathLib.isNegZero(MathLib.sign(-0)),!0,"Spec. 3: MathLib.sign(-0) = -0"),equal(MathLib.sign(4),1,"Spec. 4: MathLib.sign(x) = 1 for x > 0"),equal(MathLib.sign(1/0),1,"Spec. 4: MathLib.sign(x) = 1 for x > 0"),equal(MathLib.sign(-4),-1,"Spec. 5: MathLib.sign(x) = -1 for x < 0"),equal(MathLib.sign(-1/0),-1,"Spec. 5: MathLib.sign(x) = -1 for x < 0")}),test(".sin()",7,function(){equal(MathLib.isNaN(MathLib.sin(0/0)),!0,"Spec. 1: MathLib.sin(NaN) = NaN"),equal(MathLib.isPosZero(MathLib.sin(0)),!0,"Spec. 2: MathLib.sin(+0) = +0"),equal(MathLib.isNegZero(MathLib.sin(-0)),!0,"Spec. 3: MathLib.sin(-0) = -0"),equal(MathLib.isNaN(MathLib.sin(+1/0)),!0,"Spec. 4: MathLib.sin(+∞) = NaN"),equal(MathLib.isNaN(MathLib.sin(-1/0)),!0,"Spec. 5: MathLib.sin(-∞) = NaN"),equal(MathLib.sin(Math.PI/2),1,"Spec. 6: otherwise MathLib.sin(x) = sine of x"),equal(MathLib.sin(-Math.PI/2),-1,"Spec. 6: otherwise MathLib.sin(x) = sine of x")}),test(".sinh()",7,function(){equal(MathLib.isNaN(MathLib.sinh(0/0)),!0,"Spec. 1: MathLib.sinh(NaN) = NaN"),equal(MathLib.isPosZero(MathLib.sinh(0)),!0,"Spec. 2: MathLib.sinh(+0) = +0"),equal(MathLib.isNegZero(MathLib.sinh(-0)),!0,"Spec. 3: MathLib.sinh(-0) = -0"),equal(MathLib.sinh(+1/0),+1/0,"Spec. 4: MathLib.sinh(+∞) = +∞"),equal(MathLib.sinh(-1/0),-1/0,"Spec. 5: MathLib.sinh(-∞) = -∞"),ok(MathLib.isEqual(MathLib.sinh(1),1.1752011936438014),"Spec. 6: otherwise MathLib.sinh(x) = hyperbolic sine of x"),ok(MathLib.isEqual(MathLib.sinh(2),3.626860407847019),"Spec. 6: otherwise MathLib.sinh(x) = hyperbolic sine of x")}),test(".sqrt()",8,function(){equal(MathLib.isNaN(MathLib.sqrt(0/0)),!0,"Spec. 1: MathLib.sqrt(NaN) = NaN"),equal(MathLib.isPosZero(MathLib.sqrt(0)),!0,"Spec. 2: MathLib.sqrt(+0) = +0"),equal(MathLib.isNegZero(MathLib.sqrt(-0)),!0,"Spec. 3: MathLib.sqrt(-0) = -0"),equal(MathLib.sqrt(+1/0),+1/0,"Spec. 4: MathLib.sqrt(+∞) = +∞"),equal(MathLib.isNaN(MathLib.sqrt(-1/0)),!0,"Spec. 5: MathLib.sqrt(x) = NaN if x < 0"),equal(MathLib.isNaN(MathLib.sqrt(-2)),!0,"Spec. 5: MathLib.sqrt(x) = NaN if x < 0"),equal(MathLib.sqrt(9),3,"Spec. 6: otherwise MathLib.sqrt(x) = square root of x"),equal(MathLib.sqrt(2),1.4142135623730951,"Spec. 6: otherwise MathLib.sqrt(x) = square root of x")}),test(".tan()",7,function(){equal(MathLib.isNaN(MathLib.tan(0/0)),!0,"Spec. 1: MathLib.tan(NaN) = NaN"),equal(MathLib.isPosZero(MathLib.tan(0)),!0,"Spec. 2: MathLib.tan(+0) = +0"),equal(MathLib.isNegZero(MathLib.tan(-0)),!0,"Spec. 3: MathLib.tan(-0) = -0"),equal(MathLib.isNaN(MathLib.tan(+1/0)),!0,"Spec. 4: MathLib.tan(+∞) = NaN"),equal(MathLib.isNaN(MathLib.tan(-1/0)),!0,"Spec. 5: MathLib.tan(-∞) = NaN"),equal(MathLib.isZero(MathLib.tan(Math.PI)),!0,"Spec. 6: otherwise MathLib.tan(x) = tangent of x"),equal(MathLib.isOne(MathLib.tan(Math.PI/4)),!0,"Spec. 6: otherwise MathLib.tan(x) = tangent of x")}),test(".tanh()",7,function(){equal(MathLib.isNaN(MathLib.tanh(0/0)),!0,"Spec. 1: MathLib.tanh(NaN) = NaN"),equal(MathLib.isPosZero(MathLib.tanh(0)),!0,"Spec. 2: MathLib.tanh(+0) = +0"),equal(MathLib.isNegZero(MathLib.tanh(-0)),!0,"Spec. 3: MathLib.tanh(-0) = -0"),equal(MathLib.tanh(+1/0),1,"Spec. 4: MathLib.tanh(+∞) = +1"),equal(MathLib.tanh(-1/0),-1,"Spec. 5: MathLib.tanh(-∞) = -1"),equal(MathLib.isEqual(MathLib.tanh(1),.761594155955765),!0,"Spec. 6: otherwise MathLib.tanh(x) = hyperbolic tangent of x"),equal(MathLib.isEqual(MathLib.tanh(10),.9999999958776927),!0,"Spec. 6: otherwise MathLib.tanh(x) = hyperbolic tangent of x")}),test(".times()",5,function(){equal(MathLib.times(),1,"The empty product is one."),equal(MathLib.times([]),1,"The empty product is one."),equal(MathLib.times(1,2),2),equal(MathLib.times([1,2]),2),deepEqual(MathLib.times(MathLib.Matrix.identity(3),MathLib.Matrix.identity(3)),new MathLib.Matrix([[1,0,0],[0,1,0],[0,0,1]]))}),test(".toContentMathML()",6,function(){equal(MathLib.sin.toContentMathML(),'<lambda><bvar><ci>x</ci></bvar><apply><csymbol cd="transc1">sin</csymbol><ci>x</ci></apply></lambda>',"MathLib.sin.toContentMathML()"),equal(MathLib.exp(MathLib.sin).toContentMathML(),'<lambda><bvar><ci>x</ci></bvar><apply><csymbol cd="transc1">exp</csymbol><apply><csymbol cd="transc1">sin</csymbol><ci>x</ci></apply></apply></lambda>',"MathLib.exp(MathLib.sin).toContentMathML()"),equal(MathLib.plus(MathLib.sin,2).toContentMathML(),'<lambda><bvar><ci>x</ci></bvar><apply><csymbol cd="arith1">plus</csymbol><apply><csymbol cd="transc1">sin</csymbol><ci>x</ci></apply><cn>2</cn></apply></lambda>',"MathLib.plus(MathLib.sin, 2).toContentMathML()"),equal(MathLib.plus(2,MathLib.sin).toContentMathML(),'<lambda><bvar><ci>x</ci></bvar><apply><csymbol cd="arith1">plus</csymbol><cn>2</cn><apply><csymbol cd="transc1">sin</csymbol><ci>x</ci></apply></apply></lambda>',"MathLib.plus(2, MathLib.sin).toContentMathML()"),equal(MathLib.times(2,MathLib.sin).toContentMathML(),'<lambda><bvar><ci>x</ci></bvar><apply><csymbol cd="arith1">times</csymbol><cn>2</cn><apply><csymbol cd="transc1">sin</csymbol><ci>x</ci></apply></apply></lambda>',"MathLib.times(2, MathLib.sin).toContentMathML()"),equal(MathLib.plus(MathLib.sin,MathLib.cos).toContentMathML(),'<lambda><bvar><ci>x</ci></bvar><apply><csymbol cd="arith1">plus</csymbol><apply><csymbol cd="transc1">sin</csymbol><ci>x</ci></apply><apply><csymbol cd="transc1">cos</csymbol><ci>x</ci></apply></apply></lambda>',"MathLib.plus(MathLib.sin, MathLib.cos).toContentMathML()")}),test(".toLaTeX()",6,function(){equal(MathLib.sin.toLaTeX(),"x \\longmapsto \\sin\\left(x\\right)","MathLib.sin.toLaTeX() should be x \\longmapsto \\sin\\left(x)"),equal(MathLib.exp(MathLib.sin).toLaTeX(),"x \\longmapsto e^{\\sin\\left(x\\right)}","MathLib.exp(MathLib.sin).toLaTeX() should be x \\longmapsto e^{\\sin\\left(x\\right)}"),equal(MathLib.plus(MathLib.sin,2).toLaTeX(),"x \\longmapsto \\sin\\left(x\\right)+2","MathLib.plus(MathLib.sin, 2).toLaTeX() = x \\longmapsto \\sin\\left(x\\right)+2"),equal(MathLib.plus(2,MathLib.sin).toLaTeX(),"x \\longmapsto 2+\\sin\\left(x\\right)","MathLib.plus(2, MathLib.sin).toLaTeX() = x \\longmapsto 2+\\sin\\left(x\\right)"),equal(MathLib.times(2,MathLib.sin).toLaTeX(),"x \\longmapsto 2\\cdot\\sin\\left(x\\right)","MathLib.times(2, MathLib.sin).toLaTeX() = x \\longmapsto 2\\cdot\\sin\\left(x\\right)"),equal(MathLib.plus(MathLib.sin,MathLib.cos).toLaTeX(),"x \\longmapsto \\sin\\left(x\\right)+\\cos\\left(x\\right)","MathLib.plus(MathLib.sin, MathLib.cos).toLaTeX() = x \\longmapsto \\sin\\left(x\\right)+\\cos\\left(x\\right)")}),test(".toMathML()",6,function(){equal(MathLib.sin.toMathML(),"<mrow><mi>x</mi><mo>&#x27FC;</mo><mrow><mi>sin</mi><mo>&af;</mo><mrow><mo>(</mo><mi>x</mi><mo>)</mo></mrow></mrow></mrow>","MathLib.sin.toMathML()"),equal(MathLib.exp(MathLib.sin).toMathML(),"<mrow><mi>x</mi><mo>&#x27FC;</mo><mrow><mi>exp</mi><mo>&af;</mo><mrow><mo>(</mo><mrow><mi>sin</mi><mo>&af;</mo><mrow><mo>(</mo><mi>x</mi><mo>)</mo></mrow></mrow><mo>)</mo></mrow></mrow></mrow>","MathLib.exp(MathLib.sin).toMathML()"),equal(MathLib.plus(MathLib.sin,2).toMathML(),"<mrow><mi>x</mi><mo>&#x27FC;</mo><mrow><mrow><mi>sin</mi><mo>&af;</mo><mrow><mo>(</mo><mi>x</mi><mo>)</mo></mrow></mrow><mo>+</mo><mn>2</mn></mrow></mrow>","MathLib.plus(MathLib.sin, 2).toMathML()"),equal(MathLib.plus(2,MathLib.sin).toMathML(),"<mrow><mi>x</mi><mo>&#x27FC;</mo><mrow><mn>2</mn><mo>+</mo><mrow><mi>sin</mi><mo>&af;</mo><mrow><mo>(</mo><mi>x</mi><mo>)</mo></mrow></mrow></mrow></mrow>","MathLib.plus(2, MathLib.sin).toMathML()"),equal(MathLib.times(2,MathLib.sin).toMathML(),"<mrow><mi>x</mi><mo>&#x27FC;</mo><mrow><mn>2</mn><mo>&middot;</mo><mrow><mi>sin</mi><mo>&af;</mo><mrow><mo>(</mo><mi>x</mi><mo>)</mo></mrow></mrow></mrow></mrow>","MathLib.times(2, MathLib.sin).toMathML()"),equal(MathLib.plus(MathLib.sin,MathLib.cos).toMathML(),"<mrow><mi>x</mi><mo>&#x27FC;</mo><mrow><mrow><mi>sin</mi><mo>&af;</mo><mrow><mo>(</mo><mi>x</mi><mo>)</mo></mrow></mrow><mo>+</mo><mrow><mi>cos</mi><mo>&af;</mo><mrow><mo>(</mo><mi>x</mi><mo>)</mo></mrow></mrow></mrow></mrow>","MathLib.plus(MathLib.sin, MathLib.cos).toMathML()")}),test(".toString()",6,function(){equal(MathLib.sin.toString(),"x ⟼ sin(x)","MathLib.sin.toString() should be x ⟼ sin(x)"),equal(MathLib.exp(MathLib.sin).toString(),"x ⟼ exp(sin(x))","MathLib.exp(MathLib.sin).toString() should be x ⟼ exp(sin(x))"),equal(MathLib.plus(MathLib.sin,2).toString(),"x ⟼ sin(x)+2","MathLib.plus(MathLib.sin, 2).toString() = x ⟼ sin(x)+2"),equal(MathLib.plus(2,MathLib.sin).toString(),"x ⟼ 2+sin(x)","MathLib.plus(2, MathLib.sin).toString() = x ⟼ 2+sin(x)"),equal(MathLib.times(2,MathLib.sin).toString(),"x ⟼ 2*sin(x)","MathLib.times(2, MathLib.sin).toString() = x ⟼ 2*sin(x)"),equal(MathLib.plus(MathLib.sin,MathLib.cos).toString(),"x ⟼ sin(x)+cos(x)","MathLib.plus(MathLib.sin, MathLib.cos).toString() = x ⟼ sin(x)+cos(x)")}),test(".xor()",14,function(){equal(MathLib.xor(),!1),equal(MathLib.xor([]),!1),equal(MathLib.xor(!0),!0),equal(MathLib.xor([!0]),!0),equal(MathLib.xor(!1),!1),equal(MathLib.xor([!1]),!1),equal(MathLib.xor(!0,!0),!1,"true xor true = false"),equal(MathLib.xor([!0,!0]),!1,"true xor true = false"),equal(MathLib.xor(!0,!1),!0,"true xor false = true"),equal(MathLib.xor([!0,!1]),!0,"true xor false = true"),equal(MathLib.xor(!1,!0),!0,"false xor true = true"),equal(MathLib.xor([!1,!0]),!0,"false xor true = true"),equal(MathLib.xor(!1,!1),!1,"false xor false = false"),equal(MathLib.xor([!1,!1]),!1,"false xor false = false")}),module("Line"),test("init",4,function(){var line=new MathLib.Line([3,2,1]);equal(line.dimension,2,"Testing the dimension"),equal(line[0],3,"Testing the entries"),equal(line[1],2,"Testing the entries"),equal(line[2],1,"Testing the entries")}),test(".constructor",1,function(){var line=new MathLib.Line([3,2,1]);equal(line.constructor,MathLib.Line,"Testing .constructor")}),test(".type",1,function(){var line=new MathLib.Line([3,2,1]);equal(line.type,"line","Testing .type")}),test(".isEqual()",4,function(){var line1=new MathLib.Line([3,2,1]),line2=new MathLib.Line([6,4,2]),line3=new MathLib.Line([1,1,1]),line4=new MathLib.Line([1,1,1,1]),line5=new MathLib.Line([0,0,1]),line6=new MathLib.Line([0,0,2]);equal(line1.isEqual(line2),!0,".isEqual()"),equal(line1.isEqual(line3),!1,".isEqual()"),equal(line3.isEqual(line4),!1,".isEqual()"),equal(line5.isEqual(line6),!0,".isEqual() two representations of the infinite line")}),test(".isFinite()",2,function(){var line1=new MathLib.Line([3,2,1]),line2=new MathLib.Line([0,0,1]);equal(line1.isFinite(),!0,".isFinite()"),equal(line2.isFinite(),!1,".isFinite()")}),test(".isParallelTo()",3,function(){var l1=new MathLib.Line([3,2,1]),l2=new MathLib.Line([3,2,2]),l3=new MathLib.Line([6,4,1]),l4=new MathLib.Line([1,4,1]);equal(l1.isParallelTo(l2),!0,".isParallelTo()"),equal(l1.isParallelTo(l3),!0,".isParallelTo()"),equal(l1.isParallelTo(l4),!1,".isParallelTo()")}),test(".map()",2,function(){var p=new MathLib.Line([1,2,3]),q=new MathLib.Line([2,4,6]),f=function(x){return 2*x},res=p.map(f);deepEqual(res,q,".map()"),equal(res.type,"line",".type should be line")}),test(".meet()",5,function(){var l1=new MathLib.Line([1,0,1]),l2=new MathLib.Line([0,1,1]),l3=new MathLib.Line([1,1,0]),p1=l1.meet(l2),i=0,f=function(){i++};deepEqual(p1,new MathLib.Point([-1,-1,1]),".meet()"),deepEqual(l1.meet(l3),new MathLib.Point([-1,1,1]),".meet()"),l1[0]=2,deepEqual(p1,new MathLib.Point([-1,-2,2]),"The coordinates of the point should change if those of the line change."),MathLib.on("warning",f),p1[0]=42,deepEqual(p1,new MathLib.Point([-1,-2,2]),"You should not be able to change the coordinates of the point."),equal(i,1,"The attempt to change the coordinates should raise a warning."),MathLib.off("warning",f)}),test(".normalize()",3,function(){var l1=new MathLib.Line([3,4,5]),l2=new MathLib.Line([0,0,1]),l3=new MathLib.Line([0,0,8]);deepEqual(l1.normalize(),new MathLib.Line([.6,.8,1]),".normalize() of an finite line"),deepEqual(l2.normalize(),new MathLib.Line([0,0,1]),".normalize() of the infinite line"),deepEqual(l3.normalize(),new MathLib.Line([0,0,1]),".normalize() of the infinite line")}),test(".parallelThrough()",5,function(){var l=new MathLib.Line([1,0,1]),p=new MathLib.Point([1,1,1]),parallel=l.parallelThrough(p),i=0,f=function(){i++};deepEqual(parallel,new MathLib.Line([-1,0,1]),".parallelThrough()"),l[0]=2,deepEqual(parallel,new MathLib.Line([-2,0,2]),"The coordinates of the parallel should change if those of the line change."),p[0]=2,deepEqual(parallel,new MathLib.Line([-2,0,4]),"The coordinates of the parallel should change if those of the point change."),MathLib.on("warning",f),parallel[0]=42,deepEqual(parallel,new MathLib.Line([-2,0,4]),"You should not be able to change the coordinates of the parallel."),equal(i,1,"The attempt to change the coordinates should raise a warning."),MathLib.off("warning",f)}),test(".toLaTeX()",1,function(){var line=new MathLib.Line([3,2,1]);equal(line.toLaTeX(),"\\begin{pmatrix}\n	3\\\\\n	2\\\\\n	1\n\\end{pmatrix}",".toLaTeX()")}),test(".toMathML()",1,function(){var line=new MathLib.Line([3,2,1]);equal(line.toMathML(),"<mrow><mo>(</mo><mtable><mtr><mtd><mn>3</mn></mtd></mtr><mtr><mtd><mn>2</mn></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable><mo>)</mo></mrow>",".toMathML()")}),test(".toString()",1,function(){var line=new MathLib.Line([3,2,1]);equal(line.toString(),"(3, 2, 1)",".toString()")}),module("Matrix"),test("init",2,function(){var m=new MathLib.Matrix([[1,2,3],[4,5,6],[7,8,9]]);
equal(m.rows,3,"Testing the number of rows"),equal(m.cols,3,"Testing the number of cols")}),test(".constructor",1,function(){var m=new MathLib.Matrix([[1,2,3],[4,5,6],[7,8,9]]);equal(m.constructor,MathLib.Matrix,"Testing .constructor")}),test(".type",1,function(){var m=new MathLib.Matrix([[1,2,3],[4,5,6],[7,8,9]]);equal(m.type,"matrix","Testing .type")}),test(".LU()",2,function(){var m=new MathLib.Matrix([[4,3],[8,3]]),n=new MathLib.Matrix([[1,3,5],[2,4,7],[1,1,0]]),res1=new MathLib.Matrix([[8,3],[.5,1.5]]),res2=new MathLib.Matrix([[2,4,7],[.5,1,1.5],[.5,-1,-2]]);deepEqual(m.LU(),res1,"LU decomposition"),deepEqual(n.LU(),res2,"LU decomposition")}),test(".adjoint()",1,function(){var C=MathLib.Complex,m=new MathLib.Matrix([[new C(3,1),5,new C(0,-2)],[new C(2,-2),new C(0,1),new C(-7,-13)]]),res=new MathLib.Matrix([[new C(3,-1),new C(2,2)],[5,new C(0,-1)],[new C(0,2),new C(-7,13)]]);deepEqual(m.adjoint(),res,"Adjoint matrix of a complex 2x3 matrix")}),test(".adjugate()",1,function(){var m=new MathLib.Matrix([[-3,2,-5],[-1,0,-3],[3,-4,1]]),res=new MathLib.Matrix([[-12,18,-6],[-8,12,-4],[4,-6,2]]);deepEqual(m.adjugate(),res,"Adjoint matrix of a complex 2x3 matrix")}),test(".cholesky()",1,function(){var m=new MathLib.Matrix([[25,15,-5],[15,18,0],[-5,0,11]]),res=new MathLib.Matrix([[5,0,0],[3,3,0],[-1,1,3]]);deepEqual(m.cholesky(),res,"Cholesky decomposition of a 3x3 matrix")}),test(".compare()",3,function(){var m1=new MathLib.Matrix([[1,2],[3,4]]),m2=new MathLib.Matrix([[1,2,3],[4,5,6]]),m3=new MathLib.Matrix([[1,2,3],[4,5,6]]),m4=new MathLib.Matrix([[1,1,2],[3,5,8]]);equal(m1.compare(m2),-1),equal(m2.compare(m3),0),equal(m3.compare(m4),1)}),test(".determinant()",3,function(){var m=new MathLib.Matrix([[0,1,2],[3,2,1],[1,1,0]]),n=new MathLib.Matrix([[42]]),p=new MathLib.Matrix([[0,1,2],[3,2,1]]);equal(m.determinant(),3,"Determinant of a 3x3 matrix"),equal(n.determinant(),42,"Determinant of 1x1 matrix"),equal(p.determinant(),void 0,"Determinant of 2x3 matrix should be undefined")}),test(".every()",2,function(){var f=function(x){return x%2},m=new MathLib.Matrix([[1,5,3],[9,5,11],[-1,9,3]]),n=new MathLib.Matrix([[1,3,5],[7,8,1],[11,6,3]]);equal(m.every(f),!0,".every()"),equal(n.every(f),!1,".every()")}),test(".gershgorin()",2,function(){var C=MathLib.Complex,m=new MathLib.Matrix([[1,2,3],[4,5,6],[7,8,9]]),n=new MathLib.Matrix([[new C(1,4),2,3],[new C(2,3),new C(4,2),6],[7,new C(0,5),9]]),resm=[new MathLib.Circle([1,0],5),new MathLib.Circle([5,0],10),new MathLib.Circle([9,0],9)],resn=[new MathLib.Circle([1,4],5),new MathLib.Circle([4,2],7),new MathLib.Circle([9,0],9)];deepEqual(m.gershgorin(),resm,"Gershgorin circles of a 3x3 matrix"),deepEqual(n.gershgorin(),resn,"Gershgorin circles of a complex 3x3 matrix")}),test(".givens()",9,function(){var m=new MathLib.Matrix([[3,5],[0,2],[0,0],[4,5]]),n=new MathLib.Matrix([[6,5,0],[5,1,4],[0,4,3]]),o=new MathLib.Matrix([[0,1,6],[3,5,7],[4,9,2]]),QRm=m.givens(),Qm=QRm[0],Rm=QRm[1],Q1=new MathLib.Matrix([[.6,4/(5*Math.sqrt(5)),0,-8/(5*Math.sqrt(5))],[0,2/Math.sqrt(5),0,1/Math.sqrt(5)],[0,0,1,0],[.8,-3/(5*Math.sqrt(5)),0,6/(5*Math.sqrt(5))]]),R1=new MathLib.Matrix([[5,7],[0,2.23606797749979],[0,0],[0,0]]),QRn=n.givens(),Qn=QRn[0],Rn=QRn[1],Q2=new MathLib.Matrix([[.768221279597376,-.332654179360071,-.546970988744419],[.64018439966448,.399185015232086,.656365186493303],[0,-.854395997514289,.519622439307198]]),R2=new MathLib.Matrix([[7.810249675906652,4.481290797651358,2.560737598657919],[0,-4.681669871625427,-.966447931614524],[0,0,4.184328063894809]]),QRo=o.givens(),Qo=QRo[0],Ro=QRo[1],Q3=new MathLib.Matrix([[0,-.581238193719096,-.813733471206735],[.6,.650986776965388,-.464990554975277],[.8,-.488240082724041,.348742916231458]]),R3=new MathLib.Matrix([[5,10.2,5.8],[0,-1.720465053408526,.09299811099505462],[0,0,-7.439848879604435]]);ok(Qm.isEqual(Q1),"Q is original matrix"),ok(Rm.isEqual(R1),"R is original matrix"),ok(Qm.times(Rm).isEqual(m),"Q*R is original matrix"),ok(Qn.isEqual(Q2),"Q is original matrix"),ok(Rn.isEqual(R2),"R is original matrix"),ok(Qn.times(Rn).isEqual(n),"Q*R is original matrix"),ok(Qo.isEqual(Q3),"Q is original matrix"),ok(Ro.isEqual(R3),"R is original matrix"),ok(Qo.times(Ro).isEqual(o),"Q*R is original matrix")}),test("identity()",1,function(){equal(new MathLib.Matrix.identity(4).isIdentity(),!0,"creating a identity matrix")}),test(".inverse()",3,function(){var C=MathLib.Complex,m1=new MathLib.Matrix([[1,2,0],[2,3,0],[3,4,1]]),m2=new MathLib.Matrix([[1,2],[2,4]]),m3=new MathLib.Matrix([[new C(1,2),new C(3,4)],[new C(5,6),new C(7,8)]]);equal(m1.inverse().isEqual(new MathLib.Matrix([[-3,2,0],[2,-1,0],[1,-2,1]])),!0,"inverting a regular matrix"),equal(m2.inverse(),void 0,"inverting a singular matrix"),equal(m3.inverse().isEqual(new MathLib.Matrix([[new C(-0.5,7/16),new C(.25,-3/16)],[new C(.375,-5/16),new C(-2/16,1/16)]])),!0,"inverting a regular complex matrix")}),test(".isBandMatrix()",2,function(){var m=new MathLib.Matrix([[2,1,3,0],[1,2,1,3],[0,1,2,1],[0,0,1,2]]);equal(m.isBandMatrix(1,2),!0,"band matrix"),equal(m.isBandMatrix(1,1),!1,"upper bandwidth to small")}),test(".isDiag()",2,function(){var c=new MathLib.Complex(0,0),m=new MathLib.Matrix([[1,0,0],[0,5,c],[0,0,9]]),n=new MathLib.Matrix([[1,4,7],[2,5,8],[2,5,8]]);equal(m.isDiag(),!0,"square matrix"),equal(n.isDiag(),!1,"non square matrix")}),test(".isIdentity()",2,function(){var m=new MathLib.Matrix([[1,0,0],[0,1,0],[0,0,1]]),n=new MathLib.Matrix([[1,4,7],[2,5,8],[2,5,8]]);equal(m.isIdentity(),!0,".isIdentity() on identity matrix"),equal(n.isIdentity(),!1,".isIdentity() on non identity matrix")}),test(".isInvertible()",2,function(){var m=new MathLib.Matrix([[1,4,7],[2,5,8],[2,5,2]]),n=new MathLib.Matrix([[1,4,7],[2,5,8],[3,9,15]]);equal(m.isInvertible(),!0,".isInvertible(), invertible matrix"),equal(n.isInvertible(),!1,".isInvertible(), singular matrix")}),test(".isLower()",4,function(){var m=new MathLib.Matrix([[1,0,0],[4,5,0],[3,0,9]]),n=new MathLib.Matrix([[1,4,7],[2,5,8],[3,5,6]]),o=new MathLib.Matrix([[1,0,0],[4,5,0]]),p=new MathLib.Matrix([[1,0,0],[4,5,0],[4,0,6],[4,3,2]]);equal(m.isLower(),!0,"upper matrix"),equal(n.isLower(),!1,"non upper matrix"),equal(o.isLower(),!0,"upper matrix"),equal(p.isLower(),!0,"upper matrix")}),test(".isOrthogonal()",2,function(){var m=new MathLib.Matrix([[.8,-.6],[.6,.8]]),n=new MathLib.Matrix([[1,4,7],[2,5,8],[2,5,8]]);equal(m.isOrthogonal(),!0,".isOrthogonal() on orthogal matrix"),equal(n.isOrthogonal(),!1,".isOrthogonal() on non orthogonal matrix")}),test(".isPermutation()",3,function(){var m=new MathLib.Matrix([[0,1,0],[1,0,0],[0,0,1]]),n=new MathLib.Matrix([[1,4,7],[2,5,8],[2,3,4]]),o=new MathLib.Matrix([[0,1,0],[1,0,0],[0,0,0]]);equal(m.isPermutation(),!0,"permutation matrix"),equal(n.isPermutation(),!1,"non permutation matrix"),equal(o.isPermutation(),!1,"zero line")}),test(".isPosDefinite()",2,function(){var m=new MathLib.Matrix([[2,-1,0],[-1,2,-1],[0,-1,2]]),n=new MathLib.Matrix([[1,2],[2,1]]);equal(m.isPosDefinite(),!0,"positiv definite matrix"),equal(n.isPosDefinite(),!1,"non positiv definite matrix")}),test(".isSquare()",2,function(){var m=new MathLib.Matrix([[1,2,3],[4,5,6],[7,8,9]]),n=new MathLib.Matrix([[1,4,7],[2,5,8]]);equal(m.isSquare(),!0,"square matrix"),equal(n.isSquare(),!1,"non square matrix")}),test(".isSymmetric()",2,function(){var c=new MathLib.Complex(4,0),m=new MathLib.Matrix([[1,7,c],[7,0,3],[4,3,1]]),n=new MathLib.Matrix([[0,0,0],[0,1,c],[0,0,0]]);equal(m.isSymmetric(),!0,"symmetric matrix"),equal(n.isSymmetric(),!1,"non symmetric matrix")}),test(".isUpper()",4,function(){var m=new MathLib.Matrix([[1,2,3],[0,5,6],[0,0,9]]),n=new MathLib.Matrix([[1,4,7],[2,5,8],[3,5,6]]),o=new MathLib.Matrix([[1,4,7],[0,5,8]]),p=new MathLib.Matrix([[1,4,7],[0,5,8],[0,0,6],[0,0,0]]);equal(m.isUpper(),!0,"upper matrix"),equal(n.isUpper(),!1,"non upper matrix"),equal(o.isUpper(),!0,"upper matrix"),equal(p.isUpper(),!0,"upper matrix")}),test(".isVector()",2,function(){var m=new MathLib.Matrix([[1,2,3],[4,5,6],[7,8,9]]),n=new MathLib.Matrix([[1,2,3]]);equal(m.isVector(),!1,"normal matrix"),equal(n.isVector(),!0,"one row matrix")}),test(".isZero()",2,function(){var c=new MathLib.Complex(0,0),m=new MathLib.Matrix([[0,0,0],[0,0,c],[0,0,0]]),n=new MathLib.Matrix([[0,0,0],[0,1,c],[0,0,0]]);equal(m.isZero(),!0,"zero matrix"),equal(n.isZero(),!1,"non zero matrix")}),test(".map()",2,function(){var p=new MathLib.Matrix([[1,2],[3,4]]),q=new MathLib.Matrix([[2,4],[6,8]]),f=function(x){return 2*x},res=p.map(f);deepEqual(res,q,".map()"),equal(res.type,"matrix",".type should be matrix")}),test(".minus()",2,function(){var m=new MathLib.Matrix([[1,2,3],[4,5,6],[7,8,9]]),n=new MathLib.Matrix([[1,4,7],[2,5,8],[3,6,9]]),res=new MathLib.Matrix([[0,-2,-4],[2,0,-2],[4,2,0]]),res1=new MathLib.Matrix([[0,0,0],[0,0,0],[0,0,0]]);deepEqual(m.minus(n),res,"subtracting two simple matrices"),deepEqual(n.minus(n),res1,"subtracting two simple matrices")}),test(".negative()",1,function(){var m=new MathLib.Matrix([[1,4,7],[2,5,8],[3,6,9]]),res=new MathLib.Matrix([[-1,-4,-7],[-2,-5,-8],[-3,-6,-9]]);deepEqual(m.negative(),res,"negative of a simple matrix")}),test("numbers()",3,function(){var m=new MathLib.Matrix.numbers(3,2,2),n=new MathLib.Matrix.numbers(4,2),o=new MathLib.Matrix.numbers(5);deepEqual(m,new MathLib.Matrix([[3,3],[3,3]]),"static number method"),deepEqual(n,new MathLib.Matrix([[4,4],[4,4]]),"static number method"),deepEqual(o,new MathLib.Matrix([[5]]),"static number method")}),test(".plus()",1,function(){var m=new MathLib.Matrix([[1,2,3],[4,5,6],[7,8,9]]),n=new MathLib.Matrix([[1,4,7],[2,5,8],[3,6,9]]),res=new MathLib.Matrix([[2,6,10],[6,10,14],[10,14,18]]);deepEqual(m.plus(n),res,"adding two simple matrices")}),test(".rank()",2,function(){var m=new MathLib.Matrix([[1,2,3],[0,5,4],[0,10,2]]),n=new MathLib.Matrix([[1,2,3],[0,6,4],[0,3,2]]);equal(m.rank(),3,".rank()"),equal(n.rank(),2,".rank()")}),test(".remove()",3,function(){var m=new MathLib.Matrix([[1,2,3],[4,5,6],[7,8,9]]),res1=new MathLib.Matrix([[1,2,3],[7,8,9]]),res2=new MathLib.Matrix([[1,3],[4,6],[7,9]]),res3=new MathLib.Matrix([[4],[7]]);deepEqual(m.remove(1),res1,"removing the second row"),deepEqual(m.remove(!1,1),res2,"removing the second column"),deepEqual(m.remove([0],[1,2]),res3,"removing the first row and the second and third col")}),test(".rref()",2,function(){var m=new MathLib.Matrix([[1,2,-1,-4],[2,3,-1,-11],[-2,0,-3,22]]),n=new MathLib.Matrix([[1,2,3],[1,2,4],[2,4,7]]);deepEqual(m.rref(),new MathLib.Matrix([[1,0,0,-8],[0,1,0,1],[0,0,1,-2]]),"reduced row echelon form"),deepEqual(n.rref(),new MathLib.Matrix([[1,2,0],[0,0,1],[0,0,0]]),"singular matrix")}),test(".solve()",7,function(){var C=MathLib.Complex,A1=new MathLib.Matrix([[1,2,3],[1,1,1],[3,3,1]]),b1=new MathLib.Vector([2,2,0]),x1=new MathLib.Vector([5,-6,3]),A2=new MathLib.Matrix([[1,0,3],[2,1,0],[0,0,1]]),b2=new MathLib.Vector([10,3,3]),x2=new MathLib.Vector([1,1,3]),A3=new MathLib.Matrix([[new C(2,3),0,3],[2,new C(-1,5),0],[new C(3,-4),new C(0,1),1]]),b3=new MathLib.Vector([new C(5,37),new C(5,19),new C(21,0)]),x3=new MathLib.Vector([new C(4,2),new C(3,0),new C(1,7)]),A4=new MathLib.Matrix([[2,4],[1,2]]),A5=new MathLib.Matrix([[1,0,1],[0,1,1],[0,0,0]]);ok(A1.solve(b1).isEqual(x1),"Solving a system of linear equations"),deepEqual(A1.times(x1),b1,"Showing the solution is right"),deepEqual(A2.solve(b2),x2,"Solving a system of linear equations"),ok(A3.solve(b3).isEqual(x3),"Solving a complex system of linear equations"),equal(A4.solve([1,0]),void 0,"2x2 linear system with no solution"),deepEqual(A4.solve([2,1]),[1,0],"2x2 linear system with more than one solution"),deepEqual(A5.solve([2,1,0]),[2,1,0],"3x3 linear system with more than one solution")}),test(".some()",2,function(){var f=function(x){return x%2},m=new MathLib.Matrix([[1,2,3],[0,5,4],[0,10,2]]),n=new MathLib.Matrix([[2,4,6],[0,6,4],[0,8,2]]);equal(m.some(f),!0,".some()"),equal(n.some(f),!1,".some()")}),test(".times()",5,function(){var m=new MathLib.Matrix([[1,2],[3,4]]),n=new MathLib.Matrix([[0,1],[0,0]]),res=new MathLib.Matrix([[0,1],[0,3]]),C=MathLib.Complex,mc=new MathLib.Matrix([[new C(2,3),0,3],[2,new C(-1,5),0],[new C(3,-4),new C(0,1),1]]),bc=new MathLib.Vector([new C(4,2),3,new C(1,7)]),resc=new MathLib.Vector([new C(5,37),new C(5,19),new C(21,0)]),r=new MathLib.Rational(2,3);deepEqual(m.times(3),new MathLib.Matrix([[3,6],[9,12]]),"matrix scalar multiplication"),deepEqual(m.times(new C(0,1)),new MathLib.Matrix([[new C(0,1),new C(0,2)],[new C(0,3),new C(0,4)]]),"matrix scalar multiplication"),deepEqual(m.times(n),res,"multiplying two simple matrices"),deepEqual(mc.times(bc),resc,"complex matrix times complex vector"),equal(m.times(r).isEqual(new MathLib.Matrix([[2/3,4/3],[2,8/3]])),!0,"complex matrix times rational number")}),test(".toArray()",4,function(){var m=new MathLib.Matrix([[1,2,3],[4,5,6],[7,8,9]]),a=m.toArray();deepEqual(a,[[1,2,3],[4,5,6],[7,8,9]],".toArray()"),equal(Object.prototype.toString.call(a),"[object Array]",".toArray()"),equal(a.type,void 0,"get sure that it is not a Mathlib object"),a[0][0]=42,deepEqual(m,new MathLib.Matrix([[1,2,3],[4,5,6],[7,8,9]]),"make sure the matrix hasn't changed")}),test(".toColVectors()",1,function(){var m=new MathLib.Matrix([[1,2,3],[4,5,6],[7,8,9]]);deepEqual(m.toColVectors(),[new MathLib.Vector([1,4,7]),new MathLib.Vector([2,5,8]),new MathLib.Vector([3,6,9])],".toColVectors()")}),test(".toContentMathML()",1,function(){var m=new MathLib.Matrix([[1,2],[3,4]]);deepEqual(m.toContentMathML(),"<matrix><matrixrow><cn>1</cn><cn>2</cn></matrixrow><matrixrow><cn>3</cn><cn>4</cn></matrixrow></matrix>",".toContentMathML()")}),test(".toLaTeX()",1,function(){var m=new MathLib.Matrix([[1,2,3],[4,5,6],[7,8,9]]);deepEqual(m.toLaTeX(),"\\begin{pmatrix}\n1 & 2 & 3\\\n4 & 5 & 6\\\n7 & 8 & 9\n\\end{pmatrix}",".toLaTeX()")}),test(".toMathML()",1,function(){var m=new MathLib.Matrix([[1,2,3],[4,5,6],[7,8,9]]);deepEqual(m.toMathML(),"<mrow><mo> ( </mo><mtable><mtr><mtd><mn>1</mn></mtd><mtd><mn>2</mn></mtd><mtd><mn>3</mn></mtd></mtr><mtr><mtd><mn>4</mn></mtd><mtd><mn>5</mn></mtd><mtd><mn>6</mn></mtd></mtr><mtr><mtd><mn>7</mn></mtd><mtd><mn>8</mn></mtd><mtd><mn>9</mn></mtd></mtr></mtable><mo> ) </mo></mrow>",".toMathML()")}),test(".toRowVectors()",1,function(){var m=new MathLib.Matrix([[1,2,3],[4,5,6],[7,8,9]]);deepEqual(m.toRowVectors(),[new MathLib.Vector([1,2,3]),new MathLib.Vector([4,5,6]),new MathLib.Vector([7,8,9])],".toRowVectors()")}),test(".toString()",1,function(){var m=new MathLib.Matrix([[1,2,3],[4,5,6],[7,8,9]]);deepEqual(m.toString(),"1	2	3\n4	5	6\n7	8	9",".toString()")}),test(".trace()",2,function(){var c=new MathLib.Complex(3,4),m=new MathLib.Matrix([[1,2,3],[4,5,6],[7,8,9]]),n=new MathLib.Matrix([[1,2],[3,c]]);equal(m.trace(),15,"trace of a simple matrix"),deepEqual(n.trace(),new MathLib.Complex(4,4),"trace of a complex matrix")}),test(".transpose()",2,function(){var m=new MathLib.Matrix([[1,2,3],[4,5,6],[7,8,9]]),n=new MathLib.Matrix([[1,2,3],[4,5,6]]);deepEqual(m.transpose(),new MathLib.Matrix([[1,4,7],[2,5,8],[3,6,9]]),"transpose a square matrix"),deepEqual(n.transpose(),new MathLib.Matrix([[1,4],[2,5],[3,6]]),"transpose of a rectangular matrix")}),module("Permutation"),test("init",1,function(){var p=new MathLib.Permutation([[0,1],[2,3]]);equal(typeof p,"object","Testing typeof")}),test(".constructor",1,function(){var p=new MathLib.Permutation([[0,1],[2,3]]);equal(p.constructor,MathLib.Permutation,"Testing .constructor")}),test(".type",1,function(){var p=new MathLib.Permutation([[0,1],[2,3]]);equal(p.type,"permutation","Testing .type")}),test(".applyTo()",6,function(){var p=new MathLib.Permutation([[0,1,2],[0,1,2]]),r=new MathLib.Permutation([0,2,1]),q=new MathLib.Permutation([]),v=new MathLib.Vector([1,2,3]);equal(p.applyTo(0),2,"Testing .applyTo()"),equal(p.applyTo(3),3,"Testing .applyTo()"),deepEqual(r.applyTo(v),new MathLib.Vector([1,3,2]),"Testing .applyTo()"),equal(r.applyTo(v).type,"vector","Testing .applyTo()"),deepEqual(r.applyTo([1,2,3]),[1,3,2],"Testing .applyTo()"),equal(q.applyTo(1),1,"Testing .applyTo() with id")}),test(".compare()",3,function(){var p1=new MathLib.Permutation([1,2]),p2=new MathLib.Permutation([1,2,3]),p3=new MathLib.Permutation([1,2,3]),p4=new MathLib.Permutation([1,2,1]);equal(p1.compare(p2),-1),equal(p2.compare(p3),0),equal(p3.compare(p4),1)}),test("cycleToList()",2,function(){var p=[[0,1,2],[3,4]],q=[[0,1],[2,3]];deepEqual(new MathLib.Permutation.cycleToList(p),[1,2,0,4,3],"Testing .cycleToList()"),deepEqual(new MathLib.Permutation.cycleToList(q),[1,0,3,2],"Testing .cycleToList()")}),test("listToCycle()",1,function(){var p=[1,2,0,4,3];deepEqual(new MathLib.Permutation.listToCycle(p),[[0,1,2],[3,4]],"Testing .listToCycle()")}),test(".map()",2,function(){var p=new MathLib.Permutation([1,2,3]),q=new MathLib.Permutation([2,4,6]),f=function(x){return 2*x},res=p.map(f);deepEqual(res,q,".map()"),equal(res.type,"permutation",".type should be permutation")}),test(".sgn()",2,function(){var p=new MathLib.Permutation([[0,1],[1,2]]),q=new MathLib.Permutation([[0,1],[1,2,3]]);equal(p.sgn(),1,"Testing .sgn()"),equal(q.sgn(),-1,"Testing .sgn()")}),test(".times()",1,function(){var p=new MathLib.Permutation([2,0,1]),q=new MathLib.Permutation([0,2,1]);deepEqual(p.times(q),new MathLib.Permutation([2,1,0]),"Testing .times()")}),test(".toMatrix()",2,function(){var p=new MathLib.Permutation([[0,1],[2,3]]),q=new MathLib.Permutation([]),pm=new MathLib.Matrix([[0,1,0,0],[1,0,0,0],[0,0,0,1],[0,0,1,0]]),qm=new MathLib.Matrix([[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]]);deepEqual(p.toMatrix(),pm,"Testing .toMatrix()"),deepEqual(q.toMatrix(4),qm,"Testing .toMatrix() with id permutation")}),test(".toString()",2,function(){var p=new MathLib.Permutation([[0,1],[2,3]]),q=new MathLib.Permutation([]);equal(p.toString(),"(0,1)(2,3)","Testing .toString()"),equal(q.toString(),"","Testing .toString() with id permutation")}),module("Point"),test("init",1,function(){var point=new MathLib.Point([3,2,1]);equal(point.dimension,2,"Testing the dimension")}),test(".constructor",1,function(){var p=new MathLib.Point([3,2,1]);equal(p.constructor,MathLib.Point,"Testing .constructor")}),test(".type",1,function(){var p=new MathLib.Point([3,2,1]);equal(p.type,"point","Testing .type")}),test(".I",1,function(){equal(MathLib.Point.I.type,"point",".I")}),test(".J",1,function(){equal(MathLib.Point.J.type,"point",".J")}),test(".distanceTo()",2,function(){var p1=new MathLib.Point([6,8,2]),p2=new MathLib.Point([-3,4,1]);deepEqual(p1.distanceTo(),5,".distanceTo()"),deepEqual(p1.distanceTo(p2),6,".distanceTo()")}),test(".isEqual()",3,function(){var point1=new MathLib.Point([3,2,1]),point2=new MathLib.Point([6,4,2]),point3=new MathLib.Point([1,1,1]),point4=new MathLib.Point([1,1,1,1]);equal(point1.isEqual(point2),!0,".isEqual()"),equal(point1.isEqual(point3),!1,".isEqual()"),equal(point3.isEqual(point4),!1,".isEqual()")}),test(".isFinite()",2,function(){var point1=new MathLib.Point([3,2,1]),point2=new MathLib.Point([6,4,0]);equal(point1.isFinite(),!0,".isFinite()"),equal(point2.isFinite(),!1,".isFinite()")}),test(".isInside()",3,function(){var p1=new MathLib.Point([1,0,1]),p2=new MathLib.Point([2,0,1]),p3=new MathLib.Point([3,0,1]),c=new MathLib.Circle(new MathLib.Point([0,0,1]),2);equal(p1.isInside(c),!0,".isInside()"),equal(p2.isInside(c),!1,".isInside()"),equal(p3.isInside(c),!1,".isInside()")}),test(".isOn()",3,function(){var p1=new MathLib.Point([1,0,1]),p2=new MathLib.Point([2,0,1]),p3=new MathLib.Point([3,0,1]),c=new MathLib.Circle(new MathLib.Point([0,0,1]),2);equal(p1.isOn(c),!1,".isOn()"),equal(p2.isOn(c),!0,".isOn()"),equal(p3.isOn(c),!1,".isOn()")}),test(".isOutside()",3,function(){var p1=new MathLib.Point([1,0,1]),p2=new MathLib.Point([2,0,1]),p3=new MathLib.Point([3,0,1]),c=new MathLib.Circle(new MathLib.Point([0,0,1]),2);equal(p1.isOutside(c),!1,".isOutside()"),equal(p2.isOutside(c),!1,".isOutside()"),equal(p3.isOutside(c),!0,".isOutside()")}),test(".join()",5,function(){var p1=new MathLib.Point([1,0,1]),p2=new MathLib.Point([0,1,1]),p3=new MathLib.Point([1,1,0]),l1=p1.join(p2),i=0,f=function(){i++};deepEqual(l1,new MathLib.Line([-1,-1,1]),".join()"),deepEqual(p1.join(p3),new MathLib.Line([-1,1,1]),".join()"),p1[0]=2,deepEqual(l1,new MathLib.Line([-1,-2,2]),"The coordinates of the line should change if those of the point change."),MathLib.on("warning",f),l1[0]=42,deepEqual(l1,new MathLib.Line([-1,-2,2]),"You should not be able to change the coordinates of the line."),equal(i,1,"The attempt to change the coordinates should raise a warning."),MathLib.off("warning",f)}),test(".map()",2,function(){var p=new MathLib.Point([1,2,3]),q=new MathLib.Point([2,4,6]),f=function(x){return 2*x},res=p.map(f);deepEqual(res,q,".map()"),equal(res.type,"point",".type should be point")}),test(".normalize()",2,function(){var p1=new MathLib.Point([3,2,2]),p2=new MathLib.Point([3,2,0]);deepEqual(p1.normalize(),new MathLib.Point([1.5,1,1]),".normalize() of an finite point"),deepEqual(p2.normalize(),new MathLib.Point([3,2,0]),".normalize() of an infinite point")}),test(".reflectAt()",1,function(){var point1=new MathLib.Point([0,0,1]),point2=new MathLib.Point([1,2,1]),point3=new MathLib.Point([2,4,1]);deepEqual(point1.reflectAt(point2),point3,".reflectAt()")}),test(".toComplex()",2,function(){var p1=new MathLib.Point([3,2,1]),p2=new MathLib.Point([3,2,0]);deepEqual(p1.toComplex(),new MathLib.Complex(3,2),".toComplex() of an finite point"),deepEqual(p2.toComplex(),MathLib.Complex.infinity,".toComplex() of an infinite point")}),test(".toLaTeX()",2,function(){var point=new MathLib.Point([3,2,1]);equal(point.toLaTeX(),"\\begin{pmatrix}3\\\\2\\end{pmatrix}",".toLaTeX()"),equal(point.toLaTeX(!0),"\\begin{pmatrix}3\\\\2\\\\1\\end{pmatrix}",".toLaTeX()")}),test(".toMathML()",2,function(){var point=new MathLib.Point([3,2,1]);equal(point.toMathML(),"<mrow><mo>(</mo><mtable><mtr><mtd><mn>3</mn></mtd></mtr><mtr><mtd><mn>2</mn></mtd></mtr></mtable><mo>)</mo></mrow>",".toMathML()"),equal(point.toMathML(!0),"<mrow><mo>(</mo><mtable><mtr><mtd><mn>3</mn></mtd></mtr><mtr><mtd><mn>2</mn></mtd></mtr><mtr><mtd><mn>1</mn></mtd></mtr></mtable><mo>)</mo></mrow>",".toMathML()")}),test(".toString()",2,function(){var point=new MathLib.Point([3,2,1]);equal(point.toString(),"(3, 2)",".toString()"),equal(point.toString(!0),"(3, 2, 1)",".toString()")}),module("Polynomial"),test("init",3,function(){var p=new MathLib.Polynomial([1,2,3,4]),q=new MathLib.Polynomial(3),p1=new MathLib.Polynomial([1,-4,new MathLib.Complex(2,3)]);equal(p[0],1,"coefficients"),deepEqual(q[2],0,"coefficients"),deepEqual(p1[2],new MathLib.Complex(2,3),".coef")}),test(".constructor",1,function(){var p=new MathLib.Polynomial([1,2,3]);equal(p.constructor,MathLib.Polynomial,"Testing .constructor")}),test(".deg",1,function(){var p=new MathLib.Polynomial(3);equal(p.deg,3,"testing if .degree is right")}),test(".type",1,function(){var p=new MathLib.Polynomial([1,2,3]);equal(p.type,"polynomial","Testing .type")}),test(".compare()",3,function(){var p1=new MathLib.Polynomial([1,2]),p2=new MathLib.Polynomial([1,2,3]),p3=new MathLib.Polynomial([1,2,3]),p4=new MathLib.Polynomial([1,2,1]);equal(p1.compare(p2),-1),equal(p2.compare(p3),0),equal(p3.compare(p4),1)}),test(".differentiate()",3,function(){var p=new MathLib.Polynomial(3);deepEqual(p.differentiate(),new MathLib.Polynomial([0,0,3]),".differentiate()"),deepEqual(p.differentiate(2),new MathLib.Polynomial([0,6]),".differentiate(2)"),deepEqual(p.differentiate(4),new MathLib.Polynomial([0]),".differentiate(4)")}),test(".integrate()",2,function(){var p=new MathLib.Polynomial([0,0,0,1]);deepEqual(p.integrate(),new MathLib.Polynomial([0,0,0,0,.25]),".integrate()"),deepEqual(p.integrate(2),new MathLib.Polynomial([0,0,0,0,0,.05]),".integrate(2)")}),test(".isEqual()",1,function(){var c=new MathLib.Complex(0,0),p=new MathLib.Polynomial(3),q=new MathLib.Polynomial([c,0,0,1]);equal(q.isEqual(p),!0,".times(polynomial)")}),test(".map()",2,function(){var p=new MathLib.Polynomial([1,2,3]),q=new MathLib.Polynomial([2,4,6]),f=function(x){return 2*x},res=p.map(f);deepEqual(res,q,".map()"),equal(res.type,"polynomial",".type should be polynomial")}),test("one()",1,function(){var p=MathLib.Polynomial.one;deepEqual(p,new MathLib.Polynomial([1]),"Testing .one")}),test(".plus()",3,function(){var p=new MathLib.Polynomial(3),p1=new MathLib.Polynomial([1,2,3]);deepEqual(p1.plus(12),new MathLib.Polynomial([13,2,3]),".plus(integer)"),deepEqual(p.plus(p1),new MathLib.Polynomial([1,2,3,1]),".plus(polynomial)"),deepEqual(p1.plus(p),new MathLib.Polynomial([1,2,3,1]),".plus(polynomial)")}),test(".times()",4,function(){var p=new MathLib.Polynomial(3),p1=new MathLib.Polynomial([1,2,3]),r=new MathLib.Rational(2,3);deepEqual(p1.times(5),new MathLib.Polynomial([5,10,15]),".times(integer)"),deepEqual(p.times(p1),new MathLib.Polynomial([0,0,0,1,2,3]),".times(polynomial)"),deepEqual(p1.times(p),new MathLib.Polynomial([0,0,0,1,2,3]),".times(polynomial)"),deepEqual(p1.times(r),new MathLib.Polynomial([2/3,4/3,2]),".times(rational)")}),test(".toContentMathML()",2,function(){var p=new MathLib.Polynomial([1,2,3]),q=new MathLib.Polynomial([-1,0,1]);deepEqual(p.toContentMathML(),'<apply><csymbol cd="arith1">plus</csymbol><apply><csymbol cd="arith1">times</csymbol><cn>3</cn><apply><csymbol cd="arith1">power</csymbol><ci>x</ci><cn>2</cn></apply></apply><apply><csymbol cd="arith1">times</csymbol><cn>2</cn><ci>x</ci></apply><cn>1</cn></apply>',".toContentMathML()"),deepEqual(q.toContentMathML(),'<apply><csymbol cd="arith1">plus</csymbol><apply><csymbol cd="arith1">times</csymbol><cn>1</cn><apply><csymbol cd="arith1">power</csymbol><ci>x</ci><cn>2</cn></apply></apply><cn>-1</cn></apply>',".toContentMathML()")}),test(".toFunctn()",3,function(){var p=new MathLib.Polynomial([1,2,3]),f=p.toFunctn(),sinf=MathLib.sin(f);equal(f.type,"functn",".type should be functn"),equal(sinf.toString(),"x ⟼ sin(3*x^2+2*x+1)","composition with other functions"),equal(f(42),5377,"fuctn evaluation")}),test(".toLaTeX()",2,function(){var p=new MathLib.Polynomial([1,2,3]),q=new MathLib.Polynomial([-1,0,1]);deepEqual(p.toLaTeX(),"3x^{2}+2x+1",".toLaTeX()"),deepEqual(q.toLaTeX(),"1x^{2}-1",".toLaTeX()")}),test(".toMathML()",2,function(){var p=new MathLib.Polynomial([1,2,3]),q=new MathLib.Polynomial([-1,0,1]);deepEqual(p.toMathML(),"<mrow><mn>3</mn><mo>&#x2062;</mo><msup><mi>x</mi><mn>2</mn></msup><mo>+</mo><mn>2</mn><mo>&#x2062;</mo><mi>x</mi><mo>+</mo><mn>1</mn></mrow>",".toMathML()"),deepEqual(q.toMathML(),"<mrow><mn>1</mn><mo>&#x2062;</mo><msup><mi>x</mi><mn>2</mn></msup><mo>-</mo><mn>1</mn></mrow>",".toMathML()")}),test(".toString()",2,function(){var p=new MathLib.Polynomial([1,2,3]),q=new MathLib.Polynomial([-1,0,1]);deepEqual(p.toString(),"3*x^2+2*x+1",".toString()"),deepEqual(q.toString(),"1*x^2-1",".toString()")}),test(".valueAt()",6,function(){var p=new MathLib.Polynomial(3),p1=new MathLib.Polynomial([1,2,3]),p2=new MathLib.Polynomial([1,-4,new MathLib.Complex(4,-1)]),m=new MathLib.Matrix([[1,0,1],[2,2,1],[4,2,1]]),charPoly=new MathLib.Polynomial([4,-1,-4,1]);equal(p.valueAt(4),64,".valueAt()"),equal(p1.valueAt(2),17,".valueAt()"),deepEqual(p1.valueAt(new MathLib.Complex(2,3)),new MathLib.Complex(-10,42),".valueAt()"),deepEqual(p2.valueAt(2),new MathLib.Complex(9,-4),".valueAt()"),deepEqual(p2.valueAt(new MathLib.Complex(2,3)),new MathLib.Complex(-15,41),".valueAt()"),equal(charPoly.valueAt(m).isZero(),!0,"Cayley–Hamilton theorem")}),test("zero()",1,function(){var p=MathLib.Polynomial.zero;deepEqual(p,new MathLib.Polynomial([0]),"Testing .zero")}),module("Rational"),test("init",5,function(){var r=new MathLib.Rational(2,3),p=new MathLib.Rational(4);equal(r.numerator,2,"Testing the numerator"),equal(r.denominator,3,"Testing the denominator"),equal(p.numerator,4,"Testing the numerator"),equal(p.denominator,1,"Testing the denominator"),throws(function(){new MathLib.Rational(2,0)},"Setting the denominator to zero should throw an error.")}),test(".constructor",1,function(){var r=new MathLib.Rational(2,3);equal(r.constructor,MathLib.Rational,"Testing .constructor")}),test(".type",1,function(){var r=new MathLib.Rational(2,3);equal(r.type,"rational","Testing .type")}),test(".compare()",3,function(){var r1=new MathLib.Rational(3,2),r2=new MathLib.Rational(6,4),r3=new MathLib.Rational(1,1),r4=new MathLib.Rational(7,2);equal(r1.compare(r2),0,".compare()"),equal(r1.compare(r3),1,".compare()"),equal(r1.compare(r4),-1,".compare()")}),test(".divide()",2,function(){var r=new MathLib.Rational(1,2),p=new MathLib.Rational(2,3);equal(r.divide(p).isEqual(new MathLib.Rational(3,4)),!0,".divide()"),equal(r.divide(2).isEqual(new MathLib.Rational(1,4)),!0,".divide()")}),test(".inverse()",2,function(){var r=new MathLib.Rational(1,2).inverse(),p=new MathLib.Rational(0,2).inverse();equal(r.isEqual(new MathLib.Rational(2,1)),!0,".inverse()"),equal(p,void 0,".inverse()")}),test(".isEqual()",2,function(){var r=new MathLib.Rational(1,2),p=new MathLib.Rational(4,8),q=new MathLib.Rational(2,3);equal(r.isEqual(p),!0,".isEqual()"),equal(r.isEqual(q),!1,".isEqual()")}),test(".isZero()",2,function(){var r=new MathLib.Rational(0,2),p=new MathLib.Rational(1,3);equal(r.isZero(),!0,".isZero()"),equal(p.isZero(),!1,".isZero()")}),test(".minus()",2,function(){var r=new MathLib.Rational(1,2),p=new MathLib.Rational(2,3);equal(r.minus(p).isEqual(new MathLib.Rational(-1,6)),!0,".minus()"),equal(r.minus(2).isEqual(new MathLib.Rational(-3,2)),!0,".minus()")}),test(".negative()",1,function(){var r=new MathLib.Rational(1,2).negative();equal(r.isEqual(new MathLib.Rational(-1,2)),!0,".isEqual()")}),test(".plus()",2,function(){var r=new MathLib.Rational(1,2),p=new MathLib.Rational(2,3);equal(r.plus(p).isEqual(new MathLib.Rational(7,6)),!0,".plus()"),equal(r.plus(2).isEqual(new MathLib.Rational(5,2)),!0,".plus()")}),test(".reduce()",4,function(){var r=new MathLib.Rational(-4,-6).reduce(),p=new MathLib.Rational(3,-6).reduce();equal(r.numerator,2,".reduce()"),equal(r.denominator,3,".reduce()"),equal(p.numerator,-1,".reduce()"),equal(p.denominator,2,".reduce()")}),test(".times()",2,function(){var r=new MathLib.Rational(1,2),p=new MathLib.Rational(2,3);equal(r.times(p).isEqual(new MathLib.Rational(2,6)),!0,".times()"),equal(r.times(2).isEqual(new MathLib.Rational(1,1)),!0,".times()")}),test(".toContentMathML()",1,function(){var r=new MathLib.Rational(2,3);equal(r.toContentMathML(),'<cn type="rational">2<sep/>3</cn>',".toContentMathML()")}),test(".toLaTeX()",1,function(){var r=new MathLib.Rational(2,3);equal(r.toLaTeX(),"\\frac{2}{3}",".toLaTeX()")}),test(".toMathML()",1,function(){var r=new MathLib.Rational(2,3);equal(r.toMathML(),"<mfrac><mn>2</mn><mn>3</mn></mfrac>",".toMathML()")}),test(".toNumber()",1,function(){var r=new MathLib.Rational(1,2);equal(r.toNumber(),.5,".toNumber()")}),test(".toString()",1,function(){var r=new MathLib.Rational(2,3);equal(r.toString(),"2/3",".toString()")}),module("Screen",{setup:function(){var div=document.createElement("div");div.id="screen",document.body.appendChild(div)},teardown:function(){var div=document.getElementById("screen");div.parentElement.removeChild(div)}}),test("init",2,function(){var screen=new MathLib.Screen("screen",{});equal(screen.width,500,"Default .width should be 500."),equal(screen.height,500,"Default .height should be 500.")}),test(".constructor",1,function(){var screen=new MathLib.Screen("screen",{});equal(screen.constructor,MathLib.Screen,"Testing .constructor")}),test(".type",1,function(){var screen=new MathLib.Screen("screen",{});equal(screen.type,"screen","Testing .type")}),module("Set"),test("init",2,function(){var s1=new MathLib.Set([3,3,4,9,2,8,2]),s2=new MathLib.Set([3,new MathLib.Complex(1,1),3,new MathLib.Complex(1,1)]);equal(s1.card,5,"Testing the cardinality"),equal(s2.card,2,"Testing the cardinality")}),test(".constructor",1,function(){var s=new MathLib.Set([1,2,3,4]);equal(s.constructor,MathLib.Set,"Testing .constructor")}),test(".type",1,function(){var s=new MathLib.Set([1,2,3,4]);
equal(s.type,"set","Testing .type")}),test(".compare()",3,function(){var s=new MathLib.Set([1,2,3,4]),m=new MathLib.Set([1,3,5,7]),n=new MathLib.Set([1,2,3,4,5]);deepEqual(s.compare(s),0,".compare()"),deepEqual(s.compare(m),-1,".compare()"),deepEqual(m.compare(n),-1,".compare()")}),test(".every()",2,function(){var s1=new MathLib.Set([1,2,3,4]),s2=new MathLib.Set([1,3,5,7]);equal(s1.every(function(x){return x%2}),!1,".every()"),equal(s2.every(function(x){return x%2}),!0,".every()")}),test(".filter()",1,function(){var s1=new MathLib.Set([1,2,3,4]),s2=new MathLib.Set([1,3]);deepEqual(s1.filter(function(x){return x%2}),s2,".filter()")}),test(".forEach()",1,function(){var s=new MathLib.Set([1,2,3,4]),arr=[];s.forEach(function(x){arr.push(x)}),deepEqual(arr,[1,2,3,4],".forEach()")}),test("fromTo()",1,function(){deepEqual(new MathLib.Set.fromTo(1,5,2),new MathLib.Set([1,3,5]),"Testing new MathLib.Set.fromTo()")}),test(".indexOf()",2,function(){var s=new MathLib.Set([1,2,3,4]);deepEqual(s.indexOf(3),2,".indexOf()"),deepEqual(s.indexOf(5),-1,".indexOf()")}),test(".insert()",4,function(){var s=new MathLib.Set([3,3,4,9,2,8,2]);deepEqual(s.insert(1),new MathLib.Set([1,2,3,4,8,9]),"Testing .locate() (set, front)"),deepEqual(s.insert(3),new MathLib.Set([1,2,3,4,8,9]),"Testing .locate() (set, existing)"),deepEqual(s.insert(5),new MathLib.Set([1,2,3,4,5,8,9]),"Testing .locate() (set, not existing)"),deepEqual(s.insert(10),new MathLib.Set([1,2,3,4,5,8,9,10]),"Testing .locate() (set, back)")}),test(".intersect()",2,function(){var s=new MathLib.Set([1,2,3,4]),m=new MathLib.Set([1,3,5,7]),c1=new MathLib.Set([1,new MathLib.Complex(1,1),new MathLib.Complex(0,1),2]),c2=new MathLib.Set([1,new MathLib.Complex(1,1),new MathLib.Complex(0,2),3]);deepEqual(s.intersect(m),new MathLib.Set([1,3]),".intersect()"),deepEqual(c1.intersect(c2),new MathLib.Set([1,new MathLib.Complex(1,1)]),".intersect()")}),test(".isEmpty()",3,function(){var m=new MathLib.Set([3,3,4,9,2,8,2]),n=new MathLib.Set,o=new MathLib.Set([]);equal(m.isEmpty(),!1,"Testing .min()"),equal(n.isEmpty(),!0,"Testing .min(3)"),equal(o.isEmpty(),!0,"Testing .min(3)")}),test(".isEqual()",3,function(){var s=new MathLib.Set([1,2,3,4]),m=new MathLib.Set([1,3,5,7]),n=new MathLib.Set([1,2,new MathLib.Complex([3,0]),4]);deepEqual(s.isEqual(s),!0,".isEqual()"),deepEqual(s.isEqual(m),!1,".isEqual()"),deepEqual(s.isEqual(n),!1,".isEqual()")}),test(".isSubsetOf()",2,function(){var s=new MathLib.Set([3,3,4,9,2,8,2]),m=new MathLib.Set([3,8,2]),n=new MathLib.Set([5,8,2]);equal(m.isSubsetOf(s),!0,"Testing .isSubsetOf()"),equal(n.isSubsetOf(s),!1,"Testing .isSubsetOf()")}),test(".locate()",4,function(){var s=new MathLib.Set([3,3,4,9,2,8,2]);equal(s.locate(1),0,"Testing .locate()"),equal(s.locate(3),1,"Testing .locate()"),equal(s.locate(5),3,"Testing .locate()"),equal(s.locate(10),5,"Testing .locate()")}),test(".map()",2,function(){var p=new MathLib.Set([1,2,3]),q=new MathLib.Set([2,4,6]),f=function(x){return 2*x},res=p.map(f);deepEqual(res,q,".map()"),equal(res.type,"set",".type should be set")}),test(".plus()",3,function(){var s=new MathLib.Set([1,2,3,4]),m=new MathLib.Set([1,2,3,4,5,6]);equal(s.plus(),10,"Testing .plus() (set)"),deepEqual(s.plus(2),new MathLib.Set([3,4,5,6]),"Testing .plus(int) (set)"),deepEqual(s.plus(m),new MathLib.Set([2,3,4,5,6,7,8,9,10]),"Testing .plus(set) (set)")}),test(".powerset()",1,function(){var S=MathLib.Set,m=new MathLib.Set([1,2,3]),n=new MathLib.Set([new S([]),new S([1]),new S([2]),new S([3]),new S([1,2]),new S([1,3]),new S([2,3]),new S([1,2,3])]);deepEqual(m.powerset(),n,".powerset()")}),test(".reduce()",1,function(){var s=new MathLib.Set([1,2,3,4]);equal(s.reduce(function(old,cur){return old*cur}),24,".reduce()")}),test(".remove()",1,function(){var s=new MathLib.Set([3,3,4,9,2,8,2]);deepEqual(s.remove(3),new MathLib.Set([2,4,8,9]),"Testing .toArray()")}),test(".some()",2,function(){var s1=new MathLib.Set([1,2,3,4]),s2=new MathLib.Set([2,4,6,8]);equal(s1.some(function(x){return x%2}),!0,".some()"),equal(s2.some(function(x){return x%2}),!1,".some()")}),test(".times()",2,function(){var s=new MathLib.Set([1,2,3,4]);equal(s.times(),24,"Testing .times() (set)"),deepEqual(s.times(2),new MathLib.Set([2,4,6,8]),"Testing .times(int) (set)")}),test(".toArray()",2,function(){var s=new MathLib.Set([3,3,4,9,2,8,2]),n=new MathLib.Set;deepEqual(s.toArray(),[2,3,4,8,9],"Testing .toArray() (set)"),deepEqual(n.toArray(),[],"Testing .toArray() (empty set)")}),test(".toContentMathML()",2,function(){var s=new MathLib.Set([3,3,4,9,2,8,2]),e=new MathLib.Set;equal(s.toContentMathML(),"<set><cn>2</cn><cn>3</cn><cn>4</cn><cn>8</cn><cn>9</cn></set>","Testing .toContentMathML() (set)"),equal(e.toContentMathML(),"<emptyset/>","Testing .toContentMathML() (empty set)")}),test(".toLaTeX()",2,function(){var s=new MathLib.Set([3,3,4,9,2,8,2]),e=new MathLib.Set;equal(s.toLaTeX(),"\\{2, 3, 4, 8, 9\\}","Testing .toLaTeX() (set)"),equal(e.toLaTeX(),"\\emptyset","Testing .toLaTeX() (empty set)")}),test(".toMathML()",2,function(){var s=new MathLib.Set([3,3,4,9,2,8,2]),e=new MathLib.Set;equal(s.toMathML(),"<mrow><mo>{</mo><mn>2</mn><mo>,</mo><mn>3</mn><mo>,</mo><mn>4</mn><mo>,</mo><mn>8</mn><mo>,</mo><mn>9</mn><mo>}</mo></mrow>","Testing .toMathML() (set)"),equal(e.toMathML(),"<mi>&#x2205;</mi>","Testing .toMathML() (empty set)")}),test(".toString()",2,function(){var s=new MathLib.Set([3,3,4,9,2,8,2]),e=new MathLib.Set;equal(s.toString(),"{2, 3, 4, 8, 9}","Testing .toString() (set)"),equal(e.toString(),"∅","Testing .toString() (empty set)")}),test(".union()",2,function(){var s=new MathLib.Set([1,2,3,4]),m=new MathLib.Set([1,3,5,7]),c=new MathLib.Set([1,new MathLib.Complex(1,1),new MathLib.Complex(0,1),3]);deepEqual(s.union(m),new MathLib.Set([1,2,3,4,5,7]),".union()"),deepEqual(s.union(c),new MathLib.Set([1,2,3,4,new MathLib.Complex(0,1),new MathLib.Complex(1,1)]),".union()")}),test(".without()",2,function(){var s=new MathLib.Set([1,2,3,4]),m=new MathLib.Set([1,3,5,7]),c1=new MathLib.Set([1,new MathLib.Complex(1,1),new MathLib.Complex(0,1),2]),c2=new MathLib.Set([1,new MathLib.Complex(1,1),new MathLib.Complex(0,2),3]);deepEqual(s.without(m),new MathLib.Set([2,4]),".without()"),deepEqual(c1.without(c2),new MathLib.Set([2,new MathLib.Complex(0,1)]),".without()")}),test(".xor()",2,function(){var s=new MathLib.Set([1,2,3,4]),m=new MathLib.Set([1,3,5,7]),c1=new MathLib.Set([1,new MathLib.Complex(1,1),new MathLib.Complex(0,1),2]),c2=new MathLib.Set([1,new MathLib.Complex(1,1),new MathLib.Complex(0,2),3]);deepEqual(s.xor(m),new MathLib.Set([2,4,5,7]),".xor()"),deepEqual(c1.xor(c2),new MathLib.Set([2,3,new MathLib.Complex(0,1),new MathLib.Complex(0,2)]),".xor()")}),module("Vector"),test("init",4,function(){var vector=new MathLib.Vector([1,2,3]);equal(vector.length,3,"Testing the dimension"),equal(vector[0],1,"checking the entries"),equal(vector[1],2,"checking the entries"),equal(vector[2],3,"checking the entries")}),test(".constructor",1,function(){var v=new MathLib.Vector([1,2,3]);equal(v.constructor,MathLib.Vector,"Testing .constructor")}),test(".type",1,function(){var v=new MathLib.Vector([1,2,3]);equal(v.type,"vector","Testing .type")}),test(".areLinearIndependent()",5,function(){var v1=new MathLib.Vector([0,0,0]),v2=new MathLib.Vector([1,0,0]),v3=new MathLib.Vector([2,0,0]),v4=new MathLib.Vector([0,1,0]),v5=new MathLib.Vector([0,0,1]),v6=new MathLib.Vector([0,1]);equal(MathLib.Vector.areLinearIndependent([v1,v2]),!1,".areLinearIndependent()"),equal(MathLib.Vector.areLinearIndependent([v2,v3]),!1,".areLinearIndependent()"),equal(MathLib.Vector.areLinearIndependent([v2,v4,v5]),!0,".areLinearIndependent()"),equal(MathLib.Vector.areLinearIndependent([v2,v4,v5,v3]),!1,".areLinearIndependent()"),equal(MathLib.Vector.areLinearIndependent([v5,v6]),void 0,".areLinearIndependent()")}),test(".compare()",3,function(){var v1=new MathLib.Vector([1,2]),v2=new MathLib.Vector([1,2,3]),v3=new MathLib.Vector([1,2,3]),v4=new MathLib.Vector([1,2,1]);equal(v1.compare(v2),-1),equal(v2.compare(v3),0),equal(v3.compare(v4),1)}),test(".every()",2,function(){var p=new MathLib.Vector([1,2,3]);equal(p.every(function(x){return x>0}),!0,".every()"),equal(p.every(function(x){return 0>x}),!1,".every()")}),test(".forEach()",1,function(){var p=new MathLib.Vector([1,2,3]),str="",f=function(x){str+=x};p.forEach(f),deepEqual(str,"123",".forEach()")}),test(".isEqual()",3,function(){var v=new MathLib.Vector([0,1,2]),w=new MathLib.Vector([0,1,2]),u=new MathLib.Vector([0,0,0]),x=new MathLib.Vector([0,0,0,0]);equal(v.isEqual(w),!0,".isEqual()"),equal(v.isEqual(u),!1,".isEqual()"),equal(u.isEqual(x),!1,".isEqual()")}),test(".isZero()",2,function(){var v=new MathLib.Vector([0,0,0]),w=new MathLib.Vector([0,0,1]);equal(v.isZero(),!0,".isZero()"),equal(w.isZero(),!1,".isZero()")}),test(".map()",2,function(){var p=new MathLib.Vector([1,2,3]),q=new MathLib.Vector([2,4,6]),f=function(x){return 2*x},res=p.map(f);deepEqual(res,q,".map()"),equal(res.type,"vector",".type should be vector")}),test(".minus()",2,function(){var v=new MathLib.Vector([3,1,4]),w=new MathLib.Vector([1,5,9]),u=new MathLib.Vector([1,2]);equal(v.minus(w).isEqual(new MathLib.Vector([2,-4,-5])),!0,".minus()"),equal(v.minus(u),void 0,".minus()")}),test(".neagtive()",1,function(){var v=new MathLib.Vector([3,1,4]);equal(v.negative().isEqual(new MathLib.Vector([-3,-1,-4])),!0,".negative()")}),test(".norm()",5,function(){var v=new MathLib.Vector([1,2,-2]);equal(v.norm(),3,".norm()"),equal(v.norm(2),3,".norm(2)"),equal(v.norm(1),5,".norm(1)"),equal(v.norm(3),2.571281590658235,".norm(3)"),equal(v.norm(1/0),2,".norm(Infinity)")}),test(".outerProduct()",1,function(){var v=new MathLib.Vector([3,1,4]),w=new MathLib.Vector([1,5,9]);equal(v.outerProduct(w).isEqual(new MathLib.Matrix([[3,15,27],[1,5,9],[4,20,36]])),!0,".outerProduct()")}),test(".plus()",2,function(){var v=new MathLib.Vector([3,1,4]),w=new MathLib.Vector([1,5,9]),u=new MathLib.Vector([1,2]);equal(v.plus(w).isEqual(new MathLib.Vector([4,6,13])),!0,".plus()"),equal(v.plus(u),void 0,".plus()")}),test(".reduce()",1,function(){var v=new MathLib.Vector([1,2,3]),f=function(prev,cur){return prev+cur},res=v.reduce(f,0);deepEqual(res,6,".reduce()")}),test(".scalarProduct()",3,function(){var v=new MathLib.Vector([3,1,4]),w=new MathLib.Vector([1,5,9]),u=new MathLib.Vector([1,2]);equal(v.scalarProduct(w),44,".scalarProduct()"),equal(u.scalarProduct(w),void 0,".scalarProduct()"),equal(v.scalarProduct(u),void 0,".scalarProduct()")}),test(".slice()",2,function(){var v=new MathLib.Vector([1,2,3,4,5]);deepEqual(v.slice(1,3),[2,3],".slice()"),equal(MathLib.type(v.slice(1,3)),"array",".slice()")}),test(".times()",3,function(){var v=new MathLib.Vector([1,2,3]),m=new MathLib.Matrix([[1,2,3],[4,5,6],[7,8,9]]),r=new MathLib.Rational(2,3);deepEqual(v.times(3),new MathLib.Vector([3,6,9]),".times(number)"),deepEqual(v.times(m),new MathLib.Vector([30,36,42]),".times(matrix)"),deepEqual(v.times(r),new MathLib.Vector([2/3,4/3,2]),".times(rational)")}),test(".toArray()",2,function(){var v=new MathLib.Vector([1,2,3]);deepEqual(v.toArray(),[1,2,3],".toArray()"),equal(MathLib.type(v.toArray()),"array",".toArray()")}),test(".toContentMathML()",1,function(){var v=new MathLib.Vector([1,2,3]);equal(v.toContentMathML(),"<vector><cn>1</cn><cn>2</cn><cn>3</cn></vector>",".toContentMathML()")}),test(".toLaTeX()",1,function(){var v=new MathLib.Vector([1,2,3]);equal(v.toLaTeX(),"\\begin{pmatrix}\n	1\\\\\n	2\\\\\n	3\n\\end{pmatrix}")}),test(".toMathML()",1,function(){var v=new MathLib.Vector([1,2,3]);equal(v.toMathML(),"<mrow><mo>(</mo><mtable><mtr><mtd><mn>1</mn></mtd></mtr><mtr><mtd><mn>2</mn></mtd></mtr><mtr><mtd><mn>3</mn></mtd></mtr></mtable><mo>)</mo></mrow>",".toMathML()")}),test(".toString()",1,function(){var v=new MathLib.Vector([1,2,3]);equal(v.toString(),"(1, 2, 3)",".toString()")}),test(".vectorProduct()",3,function(){var v=new MathLib.Vector([1,2,3]),w=new MathLib.Vector([-7,8,9]),u=new MathLib.Vector([1,2]),res=new MathLib.Vector([-6,-30,22]);equal(v.vectorProduct(w).isEqual(res),!0,".vectorProduct()"),equal(u.vectorProduct(w),void 0,".vectorProduct()"),equal(v.vectorProduct(u),void 0,".vectorProduct()")}),test("zero()",1,function(){var v=new MathLib.Vector.zero(3);equal(v.isZero(),!0,"testing zero vector")});