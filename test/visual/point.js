module('Point', {
	setup: function () {
		var div = document.createElement('div');
		div.id = 'screen';

		document.body.appendChild(div);
	},
	teardown: function () {
		var div = document.getElementById('screen');

		div.parentElement.removeChild(div);
	}
});



test('.draw()', 1, function () {
	var screen = new MathLib.Screen2D('screen'),
			p = new MathLib.Point([1, 0, 1]);

	equal(p.draw(screen), p, 'The draw method should return the point.');
});



asyncTest('draw', 2, function (assert) {
	var dataURL = 'data:image/png;base64,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',
			canvas = new MathLib.Screen2D('screen', 
				{renderer: 'Canvas', width: 300, height: 300}
			),
			svg = new MathLib.Screen2D('screen', 
				{renderer: 'SVG', width: 300, height: 300, axes: false, grid: false, background: 'transparent'}
			),
			// Points at infinity are not drawn, but should not throw an error
			p0 = new MathLib.Point([1, 0, 0]),
			p1 = new MathLib.Point([-0.8, 0, 1]),
			p2 = new MathLib.Point([-0.6, 0, 1]),
			p3 = new MathLib.Point([-0.4, 0, 1]),
			p4 = new MathLib.Point([-0.2, 0, 1]),
			p5 = new MathLib.Point([0, 0, 1]);


			
	p0.draw([canvas, svg]);
	p1.draw([canvas, svg], {lineWidth: 10,});
	p2.draw([canvas, svg], {color: '#ff00aa', label: 'P'});
	p3.draw([canvas, svg], {fillColor: '#00aaff', lineColor: '#ffaa00'});
	p4.draw([canvas, svg], {color: '#0000bb', label: 'Q'});
	p5.draw([canvas, svg], {color: 'rgba(0, 255, 0, 0.5)'});

	assert.imageEqual(canvas.layer.main.element, dataURL);
	assert.imageEqual(svg.element, dataURL);
});